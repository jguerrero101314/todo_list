(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{"/6Yf":function(t,e,n){"use strict";n.d(e,"a",function(){return o}),n.d(e,"b",function(){return u});var r=n("os0x"),i=n("qOnz"),o=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY"}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t}(),s="[DEFAULT]",a=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map}return t.prototype.get=function(t){void 0===t&&(t=s);var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new i.a;this.instancesDeferred.set(e,n);try{var r=this.getOrInitializeService(e);r&&n.resolve(r)}catch(o){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e=Object(r.a)({identifier:s,optional:!1},t),n=e.optional,i=this.normalizeInstanceIdentifier(e.identifier);try{var o=this.getOrInitializeService(i);if(!o){if(n)return null;throw Error("Service "+this.name+" is not available")}return o}catch(a){if(n)return null;throw a}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,function(t){return"EAGER"===t.instantiationMode}(t))try{this.getOrInitializeService(s)}catch(h){}try{for(var i=Object(r.h)(this.instancesDeferred.entries()),o=i.next();!o.done;o=i.next()){var a=Object(r.e)(o.value,2),u=a[1],c=this.normalizeInstanceIdentifier(a[0]);try{var l=this.getOrInitializeService(c);u.resolve(l)}catch(h){}}}catch(f){e={error:f}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}},t.prototype.clearInstance=function(t){void 0===t&&(t=s),this.instancesDeferred.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return Object(r.b)(this,void 0,void 0,function(){var t;return Object(r.d)(this,function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(Object(r.f)(t.filter(function(t){return"INTERNAL"in t}).map(function(t){return t.INTERNAL.delete()}),t.filter(function(t){return"_delete"in t}).map(function(t){return t._delete()})))];case 1:return e.sent(),[2]}})})},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.getOrInitializeService=function(t){var e=this.instances.get(t);return!e&&this.component&&(e=this.component.instanceFactory(this.container,function(t){return t===s?void 0:t}(t)),this.instances.set(t,e)),e||null},t.prototype.normalizeInstanceIdentifier=function(t){return this.component?this.component.multipleInstances?t:s:t},t}(),u=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new a(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}()},0:function(t,e,n){t.exports=n("zUnb")},"2QA8":function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random())()},"2fFW":function(t,e,n){"use strict";n.d(e,"a",function(){return i});let r=!1;const i={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){const t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else r&&console.log("RxJS: Back to a better error behavior. Thank you. <3");r=t},get useDeprecatedSynchronousErrorHandling(){return r}}},"3N8a":function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("quSY");class i extends r.a{constructor(t,e){super()}schedule(t,e=0){return this}}class o extends i{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){if(this.closed)return this;this.state=t;const n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this}requestAsyncId(t,e,n=0){return setInterval(t.flush.bind(t,this),n)}recycleAsyncId(t,e,n=0){if(null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let n=!1,r=void 0;try{this.work(t)}catch(i){n=!0,r=!!i&&i||new Error(i)}if(n)return this.unsubscribe(),r}_unsubscribe(){const t=this.id,e=this.scheduler,n=e.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null}}},"3UD+":function(t,e){t.exports=function(t){if(!t.webpackPolyfill){var e=Object.create(t);e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),Object.defineProperty(e,"exports",{enumerable:!0}),e.webpackPolyfill=1}return e}},"5+tZ":function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("lJxs"),i=n("Cfvw"),o=n("zx2A");function s(t,e,n=Number.POSITIVE_INFINITY){return"function"==typeof e?o=>o.pipe(s((n,o)=>Object(i.a)(t(n,o)).pipe(Object(r.a)((t,r)=>e(n,t,o,r))),n)):("number"==typeof e&&(n=e),e=>e.lift(new a(t,n)))}class a{constructor(t,e=Number.POSITIVE_INFINITY){this.project=t,this.concurrent=e}call(t,e){return e.subscribe(new u(t,this.project,this.concurrent))}}class u extends o.b{constructor(t,e,n=Number.POSITIVE_INFINITY){super(t),this.project=e,this.concurrent=n,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}_tryNext(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(e)}_innerSub(t){const e=new o.a(this),n=this.destination;n.add(e);const r=Object(o.c)(t,e);r!==e&&n.add(r)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(t){this.destination.next(t)}notifyComplete(){const t=this.buffer;this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},"7o/Q":function(t,e,n){"use strict";n.d(e,"a",function(){return c});var r=n("n6bG"),i=n("gRHU"),o=n("quSY"),s=n("2QA8"),a=n("2fFW"),u=n("NJ4a");class c extends o.a{constructor(t,e,n){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=i.a;break;case 1:if(!t){this.destination=i.a;break}if("object"==typeof t){t instanceof c?(this.syncErrorThrowable=t.syncErrorThrowable,this.destination=t,t.add(this)):(this.syncErrorThrowable=!0,this.destination=new l(this,t));break}default:this.syncErrorThrowable=!0,this.destination=new l(this,t,e,n)}}[s.a](){return this}static create(t,e,n){const r=new c(t,e,n);return r.syncErrorThrowable=!1,r}next(t){this.isStopped||this._next(t)}error(t){this.isStopped||(this.isStopped=!0,this._error(t))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(t){this.destination.next(t)}_error(t){this.destination.error(t),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:t}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this}}class l extends c{constructor(t,e,n,o){let s;super(),this._parentSubscriber=t;let a=this;Object(r.a)(e)?s=e:e&&(s=e.next,n=e.error,o=e.complete,e!==i.a&&(a=Object.create(e),Object(r.a)(a.unsubscribe)&&this.add(a.unsubscribe.bind(a)),a.unsubscribe=this.unsubscribe.bind(this))),this._context=a,this._next=s,this._error=n,this._complete=o}next(t){if(!this.isStopped&&this._next){const{_parentSubscriber:e}=this;a.a.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}error(t){if(!this.isStopped){const{_parentSubscriber:e}=this,{useDeprecatedSynchronousErrorHandling:n}=a.a;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):Object(u.a)(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;Object(u.a)(t)}}}complete(){if(!this.isStopped){const{_parentSubscriber:t}=this;if(this._complete){const e=()=>this._complete.call(this._context);a.a.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,e),this.unsubscribe()):(this.__tryOrUnsub(e),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(t,e){try{t.call(this._context,e)}catch(n){if(this.unsubscribe(),a.a.useDeprecatedSynchronousErrorHandling)throw n;Object(u.a)(n)}}__tryOrSetError(t,e,n){if(!a.a.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(r){return a.a.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=r,t.syncErrorThrown=!0,!0):(Object(u.a)(r),!0)}return!1}_unsubscribe(){const{_parentSubscriber:t}=this;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}},"9ppp":function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>{function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t})()},Cfvw:function(t,e,n){"use strict";n.d(e,"a",function(){return h});var r=n("HDdC"),i=n("SeVD"),o=n("quSY"),s=n("kJWO"),a=n("jZKg"),u=n("Lhse"),c=n("c2HN"),l=n("I55L");function h(t,e){return e?function(t,e){if(null!=t){if(function(t){return t&&"function"==typeof t[s.a]}(t))return function(t,e){return new r.a(n=>{const r=new o.a;return r.add(e.schedule(()=>{const i=t[s.a]();r.add(i.subscribe({next(t){r.add(e.schedule(()=>n.next(t)))},error(t){r.add(e.schedule(()=>n.error(t)))},complete(){r.add(e.schedule(()=>n.complete()))}}))})),r})}(t,e);if(Object(c.a)(t))return function(t,e){return new r.a(n=>{const r=new o.a;return r.add(e.schedule(()=>t.then(t=>{r.add(e.schedule(()=>{n.next(t),r.add(e.schedule(()=>n.complete()))}))},t=>{r.add(e.schedule(()=>n.error(t)))}))),r})}(t,e);if(Object(l.a)(t))return Object(a.a)(t,e);if(function(t){return t&&"function"==typeof t[u.a]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new r.a(n=>{const r=new o.a;let i;return r.add(()=>{i&&"function"==typeof i.return&&i.return()}),r.add(e.schedule(()=>{i=t[u.a](),r.add(e.schedule(function(){if(n.closed)return;let t,e;try{const n=i.next();t=n.value,e=n.done}catch(r){return void n.error(r)}e?n.complete():(n.next(t),this.schedule())}))})),r})}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}(t,e):t instanceof r.a?t:new r.a(Object(i.a)(t))}},D0XW:function(t,e,n){"use strict";n.d(e,"b",function(){return i}),n.d(e,"a",function(){return o});var r=n("3N8a");const i=new(n("IjjT").a)(r.a),o=i},DH7j:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>Array.isArray||(t=>t&&"number"==typeof t.length))()},EY2u:function(t,e,n){"use strict";n.d(e,"a",function(){return i}),n.d(e,"b",function(){return o});var r=n("HDdC");const i=new r.a(t=>t.complete());function o(t){return t?function(t){return new r.a(e=>t.schedule(()=>e.complete()))}(t):i}},HDdC:function(t,e,n){"use strict";n.d(e,"a",function(){return c});var r=n("7o/Q"),i=n("2QA8"),o=n("gRHU"),s=n("kJWO"),a=n("SpAZ"),u=n("2fFW");let c=(()=>{class t{constructor(t){this._isScalar=!1,t&&(this._subscribe=t)}lift(e){const n=new t;return n.source=this,n.operator=e,n}subscribe(t,e,n){const{operator:s}=this,a=function(t,e,n){if(t){if(t instanceof r.a)return t;if(t[i.a])return t[i.a]()}return t||e||n?new r.a(t,e,n):new r.a(o.a)}(t,e,n);if(a.add(s?s.call(a,this.source):this.source||u.a.useDeprecatedSynchronousErrorHandling&&!a.syncErrorThrowable?this._subscribe(a):this._trySubscribe(a)),u.a.useDeprecatedSynchronousErrorHandling&&a.syncErrorThrowable&&(a.syncErrorThrowable=!1,a.syncErrorThrown))throw a.syncErrorValue;return a}_trySubscribe(t){try{return this._subscribe(t)}catch(e){u.a.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),function(t){for(;t;){const{closed:e,destination:n,isStopped:i}=t;if(e||i)return!1;t=n&&n instanceof r.a?n:null}return!0}(t)?t.error(e):console.warn(e)}}forEach(t,e){return new(e=l(e))((e,n)=>{let r;r=this.subscribe(e=>{try{t(e)}catch(i){n(i),r&&r.unsubscribe()}},n,e)})}_subscribe(t){const{source:e}=this;return e&&e.subscribe(t)}[s.a](){return this}pipe(...t){return 0===t.length?this:(0===(e=t).length?a.a:1===e.length?e[0]:function(t){return e.reduce((t,e)=>e(t),t)})(this);var e}toPromise(t){return new(t=l(t))((t,e)=>{let n;this.subscribe(t=>n=t,t=>e(t),()=>t(n))})}}return t.create=e=>new t(e),t})();function l(t){if(t||(t=u.a.Promise||Promise),!t)throw new Error("no Promise impl found");return t}},I55L:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=t=>t&&"number"==typeof t.length&&"function"!=typeof t},IjjT:function(t,e,n){"use strict";n.d(e,"a",function(){return i});let r=(()=>{class t{constructor(e,n=t.now){this.SchedulerAction=e,this.now=n}schedule(t,e=0,n){return new this.SchedulerAction(this,t).schedule(n,e)}}return t.now=()=>Date.now(),t})();class i extends r{constructor(t,e=r.now){super(t,()=>i.delegate&&i.delegate!==this?i.delegate.now():e()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(t,e=0,n){return i.delegate&&i.delegate!==this?i.delegate.schedule(t,e,n):super.schedule(t,e,n)}flush(t){const{actions:e}=this;if(this.active)return void e.push(t);let n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}}},Jgta:function(t,e,n){"use strict";var r=n("zIRd");n.d(e,"a",function(){return r.a}),r.a.registerVersion("firebase","8.2.1","app")},KqfI:function(t,e,n){"use strict";function r(){}n.d(e,"a",function(){return r})},LRne:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("z+Ro"),i=n("yCtX"),o=n("jZKg");function s(...t){let e=t[t.length-1];return Object(r.a)(e)?(t.pop(),Object(o.a)(t,e)):Object(i.a)(t)}},Lhse:function(t,e,n){"use strict";function r(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}n.d(e,"a",function(){return i});const i=r()},NJ4a:function(t,e,n){"use strict";function r(t){setTimeout(()=>{throw t},0)}n.d(e,"a",function(){return r})},SeVD:function(t,e,n){"use strict";n.d(e,"a",function(){return l});var r=n("ngJS"),i=n("NJ4a"),o=n("Lhse"),s=n("kJWO"),a=n("I55L"),u=n("c2HN"),c=n("XoHu");const l=t=>{if(t&&"function"==typeof t[s.a])return l=t,t=>{const e=l[s.a]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)};if(Object(a.a)(t))return Object(r.a)(t);if(Object(u.a)(t))return n=t,t=>(n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,i.a),t);if(t&&"function"==typeof t[o.a])return e=t,t=>{const n=e[o.a]();for(;;){let e;try{e=n.next()}catch(r){return t.error(r),t}if(e.done){t.complete();break}if(t.next(e.value),t.closed)break}return"function"==typeof n.return&&t.add(()=>{n.return&&n.return()}),t};{const e=Object(c.a)(t)?"an invalid object":`'${t}'`;throw new TypeError(`You provided ${e} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`)}var e,n,l}},SpAZ:function(t,e,n){"use strict";function r(t){return t}n.d(e,"a",function(){return r})},VRyK:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("HDdC"),i=n("z+Ro"),o=n("bHdf"),s=n("yCtX");function a(...t){let e=Number.POSITIVE_INFINITY,n=null,a=t[t.length-1];return Object(i.a)(a)?(n=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(e=t.pop())):"number"==typeof a&&(e=t.pop()),null===n&&1===t.length&&t[0]instanceof r.a?t[0]:Object(o.a)(e)(Object(s.a)(t,n))}},WMd4:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("EY2u"),i=n("LRne"),o=n("HDdC");let s=(()=>{class t{constructor(t,e,n){this.kind=t,this.value=e,this.error=n,this.hasValue="N"===t}observe(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}}do(t,e,n){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}}accept(t,e,n){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,n)}toObservable(){switch(this.kind){case"N":return Object(i.a)(this.value);case"E":return t=this.error,new o.a(e=>e.error(t));case"C":return Object(r.b)()}var t;throw new Error("unexpected notification kind value")}static createNext(e){return void 0!==e?new t("N",e):t.undefinedValueNotification}static createError(e){return new t("E",void 0,e)}static createComplete(){return t.completeNotification}}return t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t})()},XNiG:function(t,e,n){"use strict";n.d(e,"b",function(){return c}),n.d(e,"a",function(){return l});var r=n("HDdC"),i=n("7o/Q"),o=n("quSY"),s=n("9ppp"),a=n("Ylt2"),u=n("2QA8");class c extends i.a{constructor(t){super(t),this.destination=t}}let l=(()=>{class t extends r.a{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[u.a](){return new c(this)}lift(t){const e=new h(this,this);return e.operator=t,e}next(t){if(this.closed)throw new s.a;if(!this.isStopped){const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].next(t)}}error(t){if(this.closed)throw new s.a;this.hasError=!0,this.thrownError=t,this.isStopped=!0;const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].error(t);this.observers.length=0}complete(){if(this.closed)throw new s.a;this.isStopped=!0;const{observers:t}=this,e=t.length,n=t.slice();for(let r=0;r<e;r++)n[r].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(t){if(this.closed)throw new s.a;return super._trySubscribe(t)}_subscribe(t){if(this.closed)throw new s.a;return this.hasError?(t.error(this.thrownError),o.a.EMPTY):this.isStopped?(t.complete(),o.a.EMPTY):(this.observers.push(t),new a.a(this,t))}asObservable(){const t=new r.a;return t.source=this,t}}return t.create=(t,e)=>new h(t,e),t})();class h extends l{constructor(t,e){super(),this.destination=t,this.source=e}next(t){const{destination:e}=this;e&&e.next&&e.next(t)}error(t){const{destination:e}=this;e&&e.error&&this.destination.error(t)}complete(){const{destination:t}=this;t&&t.complete&&this.destination.complete()}_subscribe(t){const{source:e}=this;return e?this.source.subscribe(t):o.a.EMPTY}}},XoHu:function(t,e,n){"use strict";function r(t){return null!==t&&"object"==typeof t}n.d(e,"a",function(){return r})},Y7HM:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("DH7j");function i(t){return!Object(r.a)(t)&&t-parseFloat(t)+1>=0}},Ylt2:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("quSY");class i extends r.a{constructor(t,e){super(),this.subject=t,this.subscriber=e,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const t=this.subject,e=t.observers;if(this.subject=null,!e||0===e.length||t.isStopped||t.closed)return;const n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}},bHdf:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("5+tZ"),i=n("SpAZ");function o(t=Number.POSITIVE_INFINITY){return Object(r.a)(i.a,t)}},c2HN:function(t,e,n){"use strict";function r(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}n.d(e,"a",function(){return r})},fXoL:function(t,e,n){"use strict";n.d(e,"a",function(){return un}),n.d(e,"b",function(){return Qc}),n.d(e,"c",function(){return $c}),n.d(e,"d",function(){return Wc}),n.d(e,"e",function(){return Gc}),n.d(e,"f",function(){return Wl}),n.d(e,"g",function(){return Rl}),n.d(e,"h",function(){return Ru}),n.d(e,"i",function(){return cl}),n.d(e,"j",function(){return uu}),n.d(e,"k",function(){return el}),n.d(e,"l",function(){return fu}),n.d(e,"m",function(){return Er}),n.d(e,"n",function(){return wc}),n.d(e,"o",function(){return Oo}),n.d(e,"p",function(){return yn}),n.d(e,"q",function(){return an}),n.d(e,"r",function(){return Lo}),n.d(e,"s",function(){return ku}),n.d(e,"t",function(){return Au}),n.d(e,"u",function(){return tl}),n.d(e,"v",function(){return Gu}),n.d(e,"w",function(){return Vl}),n.d(e,"x",function(){return Wu}),n.d(e,"y",function(){return Al}),n.d(e,"z",function(){return fl}),n.d(e,"A",function(){return vn}),n.d(e,"B",function(){return Jc}),n.d(e,"C",function(){return Yc}),n.d(e,"D",function(){return pu}),n.d(e,"E",function(){return du}),n.d(e,"F",function(){return Ir}),n.d(e,"G",function(){return mu}),n.d(e,"H",function(){return yr}),n.d(e,"I",function(){return _n}),n.d(e,"J",function(){return Ul}),n.d(e,"K",function(){return Hu}),n.d(e,"L",function(){return vl}),n.d(e,"M",function(){return cn}),n.d(e,"N",function(){return yu}),n.d(e,"O",function(){return bu}),n.d(e,"P",function(){return Ku}),n.d(e,"Q",function(){return j}),n.d(e,"R",function(){return Dl}),n.d(e,"S",function(){return Il}),n.d(e,"T",function(){return d}),n.d(e,"U",function(){return Tl}),n.d(e,"V",function(){return ql}),n.d(e,"W",function(){return Ol}),n.d(e,"X",function(){return Xc}),n.d(e,"Y",function(){return Co}),n.d(e,"Z",function(){return ia}),n.d(e,"ab",function(){return mr}),n.d(e,"bb",function(){return Qn}),n.d(e,"cb",function(){return Un}),n.d(e,"db",function(){return zn}),n.d(e,"eb",function(){return Gn}),n.d(e,"fb",function(){return Bn}),n.d(e,"gb",function(){return qn}),n.d(e,"hb",function(){return Wn}),n.d(e,"ib",function(){return ta}),n.d(e,"jb",function(){return zl}),n.d(e,"kb",function(){return ea}),n.d(e,"lb",function(){return na}),n.d(e,"mb",function(){return Hn}),n.d(e,"nb",function(){return V}),n.d(e,"ob",function(){return Ko}),n.d(e,"pb",function(){return ds}),n.d(e,"qb",function(){return fs}),n.d(e,"rb",function(){return Xs}),n.d(e,"sb",function(){return xt}),n.d(e,"tb",function(){return l}),n.d(e,"ub",function(){return Fn}),n.d(e,"vb",function(){return Uo}),n.d(e,"wb",function(){return vt}),n.d(e,"xb",function(){return ou}),n.d(e,"yb",function(){return Ei}),n.d(e,"zb",function(){return Xo}),n.d(e,"Ab",function(){return js}),n.d(e,"Bb",function(){return Ks}),n.d(e,"Cb",function(){return Ds}),n.d(e,"Db",function(){return Mc}),n.d(e,"Eb",function(){return K}),n.d(e,"Fb",function(){return et}),n.d(e,"Gb",function(){return b}),n.d(e,"Hb",function(){return y}),n.d(e,"Ib",function(){return Q}),n.d(e,"Jb",function(){return nt}),n.d(e,"Kb",function(){return rs}),n.d(e,"Lb",function(){return us}),n.d(e,"Mb",function(){return ls}),n.d(e,"Nb",function(){return cs}),n.d(e,"Ob",function(){return as}),n.d(e,"Pb",function(){return ss}),n.d(e,"Qb",function(){return hs}),n.d(e,"Rb",function(){return nn}),n.d(e,"Sb",function(){return Zs}),n.d(e,"Tb",function(){return Za}),n.d(e,"Ub",function(){return Ja}),n.d(e,"Vb",function(){return Ya}),n.d(e,"Wb",function(){return An}),n.d(e,"Xb",function(){return rn}),n.d(e,"Yb",function(){return Bc}),n.d(e,"Zb",function(){return ps}),n.d(e,"ac",function(){return Fc}),n.d(e,"bc",function(){return bs}),n.d(e,"cc",function(){return gc}),n.d(e,"dc",function(){return mc}),n.d(e,"ec",function(){return bc}),n.d(e,"fc",function(){return ws}),n.d(e,"gc",function(){return vs}),n.d(e,"hc",function(){return is}),n.d(e,"ic",function(){return _s}),n.d(e,"jc",function(){return Os}),n.d(e,"kc",function(){return cc}),n.d(e,"lc",function(){return lc}),n.d(e,"mc",function(){return hc}),n.d(e,"nc",function(){return jc}),n.d(e,"oc",function(){return ns}),n.d(e,"pc",function(){return Wt}),n.d(e,"qc",function(){return vr}),n.d(e,"rc",function(){return X}),n.d(e,"sc",function(){return Vc}),n.d(e,"tc",function(){return Nc}),n.d(e,"uc",function(){return As}),n.d(e,"vc",function(){return es}),n.d(e,"wc",function(){return qc}),n.d(e,"xc",function(){return Bs}),n.d(e,"yc",function(){return Ws}),n.d(e,"zc",function(){return Gs}),n.d(e,"Ac",function(){return $s}),n.d(e,"Bc",function(){return Pc});var r=n("XNiG"),i=n("quSY"),o=n("HDdC"),s=n("VRyK"),a=n("w1tV");function u(t){for(let e in t)if(t[e]===u)return e;throw Error("Could not find renamed property on target object.")}function c(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function l(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(l).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return""+t.overriddenName;if(t.name)return""+t.name;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function h(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const f=u({__forward_ref__:u});function d(t){return t.__forward_ref__=d,t.toString=function(){return l(this())},t}function p(t){return g(t)?t():t}function g(t){return"function"==typeof t&&t.hasOwnProperty(f)&&t.__forward_ref__===d}function m(t,e,n,r){throw new Error("ASSERTION ERROR: "+t+(null==r?"":` [Expected=> ${n} ${r} ${e} <=Actual]`))}function b(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function y(t){return{factory:t.factory,providers:t.providers||[],imports:t.imports||[]}}function v(t){return w(t,O)||w(t,C)}function w(t,e){return t.hasOwnProperty(e)?t[e]:null}function _(t){return t&&(t.hasOwnProperty(E)||t.hasOwnProperty(x))?t[E]:null}const O=u({"\u0275prov":u}),E=u({"\u0275inj":u}),C=u({ngInjectableDef:u}),x=u({ngInjectorDef:u});var S=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}({});let T;function I(t){const e=T;return T=t,e}function k(t,e,n){const r=v(t);if(r&&"root"==r.providedIn)return void 0===r.value?r.value=r.factory():r.value;if(n&S.Optional)return null;if(void 0!==e)return e;throw new Error(`Injector: NOT_FOUND [${l(t)}]`)}function A(t){return{toString:t}.toString()}var D=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}({}),j=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}({});const N="undefined"!=typeof globalThis&&globalThis,P="undefined"!=typeof window&&window,R="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,M="undefined"!=typeof global&&global,V=N||M||P||R,L={},F=[],U=u({"\u0275cmp":u}),H=u({"\u0275dir":u}),z=u({"\u0275pipe":u}),q=u({"\u0275mod":u}),B=u({"\u0275loc":u}),W=u({"\u0275fac":u}),G=u({__NG_ELEMENT_ID__:u});let $=0;function K(t){return A(()=>{const e={},n={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===D.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||F,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||j.Emulated,id:"c",styles:t.styles||F,_:null,setInput:null,schemas:t.schemas||null,tView:null},r=t.directives,i=t.features,o=t.pipes;return n.id+=$++,n.inputs=tt(t.inputs,e),n.outputs=tt(t.outputs),i&&i.forEach(t=>t(n)),n.directiveDefs=r?()=>("function"==typeof r?r():r).map(Z):null,n.pipeDefs=o?()=>("function"==typeof o?o():o).map(Y):null,n})}function Z(t){return rt(t)||function(t){return t[H]||null}(t)}function Y(t){return function(t){return t[z]||null}(t)}const J={};function Q(t){const e={type:t.type,bootstrap:t.bootstrap||F,declarations:t.declarations||F,imports:t.imports||F,exports:t.exports||F,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&A(()=>{J[t.id]=t.type}),e}function X(t,e){return A(()=>{const n=it(t,!0);n.declarations=e.declarations||F,n.imports=e.imports||F,n.exports=e.exports||F})}function tt(t,e){if(null==t)return L;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),n[i]=r,e&&(e[i]=o)}return n}const et=K;function nt(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,onDestroy:t.type.prototype.ngOnDestroy||null}}function rt(t){return t[U]||null}function it(t,e){const n=t[q]||null;if(!n&&!0===e)throw new Error(`Type ${l(t)} does not have '\u0275mod' property.`);return n}const ot=20,st=10;function at(t){return Array.isArray(t)&&"object"==typeof t[1]}function ut(t){return Array.isArray(t)&&!0===t[1]}function ct(t){return 0!=(8&t.flags)}function lt(t){return 2==(2&t.flags)}function ht(t){return 1==(1&t.flags)}function ft(t){return null!==t.template}function dt(t,e){return t.hasOwnProperty(W)?t[W]:null}class pt extends Error{constructor(t,e){super(function(t,e){return`${t?`NG0${t}: `:""}${e}`}(t,e)),this.code=t}}function gt(t){return"string"==typeof t?t:null==t?"":String(t)}function mt(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():gt(t)}function bt(t,e){const n=e?" in "+e:"";throw new pt("201",`No provider for ${mt(t)} found${n}`)}class yt{constructor(t,e,n){this.previousValue=t,this.currentValue=e,this.firstChange=n}isFirstChange(){return this.firstChange}}function vt(){return wt}function wt(t){return t.type.prototype.ngOnChanges&&(t.setInput=Ot),_t}function _t(){const t=Et(this),e=null==t?void 0:t.current;if(e){const n=t.previous;if(n===L)t.previous=e;else for(let t in e)n[t]=e[t];t.current=null,this.ngOnChanges(e)}}function Ot(t,e,n,r){const i=Et(t)||function(t,e){return t.__ngSimpleChanges__=e}(t,{previous:L,current:null}),o=i.current||(i.current={}),s=i.previous,a=this.declaredInputs[n],u=s[a];o[a]=new yt(u&&u.currentValue,e,s===L),t[r]=e}function Et(t){return t.__ngSimpleChanges__||null}vt.ngInherit=!0;let Ct=void 0;function xt(t){Ct=t}function St(){return void 0!==Ct?Ct:"undefined"!=typeof document?document:void 0}function Tt(t){return!!t.listen}const It={createRenderer:(t,e)=>St()};function kt(t){for(;Array.isArray(t);)t=t[0];return t}function At(t,e){return kt(e[t])}function Dt(t,e){return kt(e[t.index])}function jt(t,e){return t.data[e]}function Nt(t,e){return t[e]}function Pt(t,e){const n=e[t];return at(n)?n:n[0]}function Rt(t){const e=function(t){return t.__ngContext__||null}(t);return e?Array.isArray(e)?e:e.lView:null}function Mt(t){return 4==(4&t[2])}function Vt(t){return 128==(128&t[2])}function Lt(t,e){return null==e?null:t[e]}function Ft(t){t[18]=0}function Ut(t,e){t[5]+=e;let n=t,r=t[3];for(;null!==r&&(1===e&&1===n[5]||-1===e&&0===n[5]);)r[5]+=e,n=r,r=r[3]}const Ht={lFrame:de(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function zt(){return Ht.bindingsEnabled}function qt(){return Ht.lFrame.lView}function Bt(){return Ht.lFrame.tView}function Wt(t){Ht.lFrame.contextLView=t}function Gt(){let t=$t();for(;null!==t&&64===t.type;)t=t.parent;return t}function $t(){return Ht.lFrame.currentTNode}function Kt(){const t=Ht.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function Zt(t,e){const n=Ht.lFrame;n.currentTNode=t,n.isParent=e}function Yt(){return Ht.lFrame.isParent}function Jt(){Ht.lFrame.isParent=!1}function Qt(){return Ht.isInCheckNoChangesMode}function Xt(t){Ht.isInCheckNoChangesMode=t}function te(){const t=Ht.lFrame;let e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function ee(){return Ht.lFrame.bindingIndex}function ne(){return Ht.lFrame.bindingIndex++}function re(t){const e=Ht.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function ie(t){Ht.lFrame.inI18n=t}function oe(t,e){const n=Ht.lFrame;n.bindingIndex=n.bindingRootIndex=t,se(e)}function se(t){Ht.lFrame.currentDirectiveIndex=t}function ae(){return Ht.lFrame.currentQueryIndex}function ue(t){Ht.lFrame.currentQueryIndex=t}function ce(t){const e=t[1];return 2===e.type?e.declTNode:1===e.type?t[6]:null}function le(t,e,n){if(n&S.SkipSelf){let r=e,i=t;for(;r=r.parent,!(null!==r||n&S.Host||(r=ce(i),null===r)||(i=i[15],10&r.type)););if(null===r)return!1;e=r,t=i}const r=Ht.lFrame=fe();return r.currentTNode=e,r.lView=t,!0}function he(t){const e=fe(),n=t[1];Ht.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function fe(){const t=Ht.lFrame,e=null===t?null:t.child;return null===e?de(t):e}function de(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function pe(){const t=Ht.lFrame;return Ht.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const ge=pe;function me(){const t=pe();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function be(){return Ht.lFrame.selectedIndex}function ye(t){Ht.lFrame.selectedIndex=t}function ve(){const t=Ht.lFrame;return jt(t.tView,t.selectedIndex)}function we(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const e=t.data[n].type.prototype,{ngAfterContentInit:r,ngAfterContentChecked:i,ngAfterViewInit:o,ngAfterViewChecked:s,ngOnDestroy:a}=e;r&&(t.contentHooks||(t.contentHooks=[])).push(-n,r),i&&((t.contentHooks||(t.contentHooks=[])).push(n,i),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,i)),o&&(t.viewHooks||(t.viewHooks=[])).push(-n,o),s&&((t.viewHooks||(t.viewHooks=[])).push(n,s),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,s)),null!=a&&(t.destroyHooks||(t.destroyHooks=[])).push(n,a)}}function _e(t,e,n){Ce(t,e,3,n)}function Oe(t,e,n,r){(3&t[2])===n&&Ce(t,e,n,r)}function Ee(t,e){let n=t[2];(3&n)===e&&(n&=2047,n+=1,t[2]=n)}function Ce(t,e,n,r){const i=null!=r?r:-1;let o=0;for(let s=void 0!==r?65535&t[18]:0;s<e.length;s++)if("number"==typeof e[s+1]){if(o=e[s],null!=r&&o>=r)break}else e[s]<0&&(t[18]+=65536),(o<i||-1==i)&&(xe(t,n,e,s),t[18]=(4294901760&t[18])+s+2),s++}function xe(t,e,n,r){const i=n[r]<0,o=n[r+1],s=t[i?-n[r]:n[r]];i?t[2]>>11<t[18]>>16&&(3&t[2])===e&&(t[2]+=2048,o.call(s)):o.call(s)}const Se=-1;class Te{constructor(t,e,n){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=n}}function Ie(t,e,n){const r=Tt(t);let i=0;for(;i<n.length;){const o=n[i];if("number"==typeof o){if(0!==o)break;i++;const s=n[i++],a=n[i++],u=n[i++];r?t.setAttribute(e,a,u,s):e.setAttributeNS(s,a,u)}else{const s=o,a=n[++i];Ae(s)?r&&t.setProperty(e,s,a):r?t.setAttribute(e,s,a):e.setAttribute(s,a),i++}}return i}function ke(t){return 3===t||4===t||6===t}function Ae(t){return 64===t.charCodeAt(0)}function De(t,e){if(null===e||0===e.length);else if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||je(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function je(t,e,n,r,i){let o=0,s=t.length;if(-1===e)s=-1;else for(;o<t.length;){const n=t[o++];if("number"==typeof n){if(n===e){s=-1;break}if(n>e){s=o-1;break}}}for(;o<t.length;){const e=t[o];if("number"==typeof e)break;if(e===n){if(null===r)return void(null!==i&&(t[o+1]=i));if(r===t[o+1])return void(t[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==s&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),null!==r&&t.splice(o++,0,r),null!==i&&t.splice(o++,0,i)}function Ne(t){return t!==Se}function Pe(t){return 32767&t}function Re(t,e){let n=t>>16,r=e;for(;n>0;)r=r[15],n--;return r}let Me=!0;function Ve(t){const e=Me;return Me=t,e}let Le=0;function Fe(t,e){const n=He(t,e);if(-1!==n)return n;const r=e[1];r.firstCreatePass&&(t.injectorIndex=e.length,Ue(r.data,t),Ue(e,null),Ue(r.blueprint,null));const i=ze(t,e),o=t.injectorIndex;if(Ne(i)){const t=Pe(i),n=Re(i,e),r=n[1].data;for(let i=0;i<8;i++)e[o+i]=n[t+i]|r[t+i]}return e[o+8]=i,o}function Ue(t,e){t.push(0,0,0,0,0,0,0,0,e)}function He(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function ze(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){const t=i[1],e=t.type;if(r=2===e?t.declTNode:1===e?i[6]:null,null===r)return Se;if(n++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return Se}function qe(t,e,n){!function(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(G)&&(r=n[G]),null==r&&(r=n[G]=Le++);const i=255&r,o=1<<i,s=64&i,a=32&i,u=e.data;128&i?s?a?u[t+7]|=o:u[t+6]|=o:a?u[t+5]|=o:u[t+4]|=o:s?a?u[t+3]|=o:u[t+2]|=o:a?u[t+1]|=o:u[t]|=o}(t,e,n)}function Be(t,e,n){if(n&S.Optional)return t;bt(e,"NodeInjector")}function We(t,e,n,r){if(n&S.Optional&&void 0===r&&(r=null),0==(n&(S.Self|S.Host))){const i=t[9],o=I(void 0);try{return i?i.get(e,r,n&S.Optional):k(e,r,n&S.Optional)}finally{I(o)}}return Be(r,e,n)}function Ge(t,e,n,r=S.Default,i){if(null!==t){const o=function(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(G)?t[G]:void 0;return"number"==typeof e?e>=0?255&e:Ke:e}(n);if("function"==typeof o){if(!le(e,t,r))return r&S.Host?Be(i,n,r):We(e,n,r,i);try{const t=o();if(null!=t||r&S.Optional)return t;bt(n)}finally{ge()}}else if("number"==typeof o){let i=null,s=He(t,e),a=Se,u=r&S.Host?e[16][6]:null;for((-1===s||r&S.SkipSelf)&&(a=-1===s?ze(t,e):e[s+8],a!==Se&&Xe(r,!1)?(i=e[1],s=Pe(a),e=Re(a,e)):s=-1);-1!==s;){const t=e[1];if(Qe(o,s,t.data)){const t=Ze(s,e,n,i,r,u);if(t!==$e)return t}a=e[s+8],a!==Se&&Xe(r,e[1].data[s+8]===u)&&Qe(o,s,e)?(i=t,s=Pe(a),e=Re(a,e)):s=-1}}}return We(e,n,r,i)}const $e={};function Ke(){return new tn(Gt(),qt())}function Ze(t,e,n,r,i,o){const s=e[1],a=s.data[t+8],u=Ye(a,s,n,null==r?lt(a)&&Me:r!=s&&0!=(3&a.type),i&S.Host&&o===a);return null!==u?Je(e,s,u,a):$e}function Ye(t,e,n,r,i){const o=t.providerIndexes,s=e.data,a=1048575&o,u=t.directiveStart,c=o>>20,l=i?a+c:t.directiveEnd;for(let h=r?a:a+c;h<l;h++){const t=s[h];if(h<u&&n===t||h>=u&&t.type===n)return h}if(i){const t=s[u];if(t&&ft(t)&&t.type===n)return u}return null}function Je(t,e,n,r){let i=t[n];const o=e.data;if(i instanceof Te){const s=i;s.resolving&&function(t,e){throw new pt("200","Circular dependency in DI detected for "+t)}(mt(o[n]));const a=Ve(s.canSeeViewProviders);s.resolving=!0;const u=s.injectImpl?I(s.injectImpl):null;le(t,r,S.Default);try{i=t[n]=s.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&function(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){const r=wt(e);(n.preOrderHooks||(n.preOrderHooks=[])).push(t,r),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,r)}i&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-t,i),o&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,o),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,o))}(n,o[n],e)}finally{null!==u&&I(u),Ve(a),s.resolving=!1,ge()}}return i}function Qe(t,e,n){const r=64&t,i=32&t;let o;return o=128&t?r?i?n[e+7]:n[e+6]:i?n[e+5]:n[e+4]:r?i?n[e+3]:n[e+2]:i?n[e+1]:n[e],!!(o&1<<t)}function Xe(t,e){return!(t&S.Self||t&S.Host&&e)}class tn{constructor(t,e){this._tNode=t,this._lView=e}get(t,e){return Ge(this._tNode,this._lView,t,void 0,e)}}function en(t){const e=t;if(g(t))return()=>{const t=en(p(e));return t?t():null};let n=dt(e);if(null===n){const t=_(e);n=t&&t.factory}return n||null}function nn(t){return A(()=>{const e=t.prototype.constructor,n=e[W]||en(e),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const t=i[W]||en(i);if(t&&t!==n)return t;i=Object.getPrototypeOf(i)}return t=>new t})}function rn(t){return function(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;const n=t.attrs;if(n){const t=n.length;let r=0;for(;r<t;){const i=n[r];if(ke(i))break;if(0===i)r+=2;else if("number"==typeof i)for(r++;r<t&&"string"==typeof n[r];)r++;else{if(i===e)return n[r+1];r+=2}}}return null}(Gt(),t)}const on="__parameters__";function sn(t,e,n){return A(()=>{const r=function(t){return function(...e){if(t){const n=t(...e);for(const t in n)this[t]=n[t]}}}(e);function i(...t){if(this instanceof i)return r.apply(this,t),this;const e=new i(...t);return n.annotation=e,n;function n(t,n,r){const i=t.hasOwnProperty(on)?t[on]:Object.defineProperty(t,on,{value:[]})[on];for(;i.length<=r;)i.push(null);return(i[r]=i[r]||[]).push(e),t}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}class an{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=b({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}toString(){return"InjectionToken "+this._desc}}const un=new an("AnalyzeForEntryComponents"),cn=Function;function ln(t,e){void 0===e&&(e=t);for(let n=0;n<t.length;n++){let r=t[n];Array.isArray(r)?(e===t&&(e=t.slice(0,n)),ln(r,e)):e!==t&&e.push(r)}return e}function hn(t,e){t.forEach(t=>Array.isArray(t)?hn(t,e):e(t))}function fn(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function dn(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function pn(t,e){const n=[];for(let r=0;r<t;r++)n.push(e);return n}function gn(t,e,n){let r=bn(t,e);return r>=0?t[1|r]=n:(r=~r,function(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function mn(t,e){const n=bn(t,e);if(n>=0)return t[1|n]}function bn(t,e){return function(t,e,n){let r=0,i=t.length>>1;for(;i!==r;){const n=r+(i-r>>1),o=t[n<<1];if(e===o)return n<<1;o>e?i=n:r=n+1}return~(i<<1)}(t,e)}const yn=sn("Inject",t=>({token:t})),vn=sn("Optional"),wn=sn("Self"),_n=sn("SkipSelf"),On={},En=/\n/gm,Cn="__source",xn=u({provide:String,useValue:u});let Sn,Tn=void 0;function In(t){const e=Tn;return Tn=t,e}function kn(t,e=S.Default){if(void 0===Tn)throw new Error("inject() must be called from an injection context");return null===Tn?k(t,void 0,e):Tn.get(t,e&S.Optional?null:void 0,e)}function An(t,e=S.Default){return(T||kn)(p(t),e)}function Dn(t){const e=[];for(let n=0;n<t.length;n++){const r=p(t[n]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");let t=void 0,n=S.Default;for(let e=0;e<r.length;e++){const i=r[e];i instanceof vn||"Optional"===i.ngMetadataName||i===vn?n|=S.Optional:i instanceof _n||"SkipSelf"===i.ngMetadataName||i===_n?n|=S.SkipSelf:i instanceof wn||"Self"===i.ngMetadataName||i===wn?n|=S.Self:t=i instanceof yn||i===yn?i.token:i}e.push(An(t,n))}else e.push(An(r))}return e}function jn(t){var e;return(null===(e=function(){if(void 0===Sn&&(Sn=null,V.trustedTypes))try{Sn=V.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch(e){}return Sn}())||void 0===e?void 0:e.createHTML(t))||t}class Nn{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return"SafeValue must use [property]=binding: "+this.changingThisBreaksApplicationSecurity+" (see https://g.co/ng/security#xss)"}}class Pn extends Nn{getTypeName(){return"HTML"}}class Rn extends Nn{getTypeName(){return"Style"}}class Mn extends Nn{getTypeName(){return"Script"}}class Vn extends Nn{getTypeName(){return"URL"}}class Ln extends Nn{getTypeName(){return"ResourceURL"}}function Fn(t){return t instanceof Nn?t.changingThisBreaksApplicationSecurity:t}function Un(t,e){const n=Hn(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see https://g.co/ng/security#xss)`)}return n===e}function Hn(t){return t instanceof Nn&&t.getTypeName()||null}function zn(t){return new Pn(t)}function qn(t){return new Rn(t)}function Bn(t){return new Mn(t)}function Wn(t){return new Vn(t)}function Gn(t){return new Ln(t)}function $n(t){return function(){try{return!!(new window.DOMParser).parseFromString(jn(""),"text/html")}catch(t){return!1}}()?new Kn:new Zn(t)}class Kn{getInertBodyElement(t){t="<body><remove></remove>"+t;try{const e=(new window.DOMParser).parseFromString(jn(t),"text/html").body;return e.removeChild(e.firstChild),e}catch(e){return null}}}class Zn{constructor(t){if(this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const t=this.inertDocument.createElement("html");this.inertDocument.appendChild(t);const e=this.inertDocument.createElement("body");t.appendChild(e)}}getInertBodyElement(t){const e=this.inertDocument.createElement("template");if("content"in e)return e.innerHTML=jn(t),e;const n=this.inertDocument.createElement("body");return n.innerHTML=jn(t),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(n),n}stripCustomNsAttrs(t){const e=t.attributes;for(let r=e.length-1;0<r;r--){const n=e.item(r).name;"xmlns:ns1"!==n&&0!==n.indexOf("ns1:")||t.removeAttribute(n)}let n=t.firstChild;for(;n;)n.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(n),n=n.nextSibling}}const Yn=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Jn=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Qn(t){return(t=String(t)).match(Yn)||t.match(Jn)?t:"unsafe:"+t}function Xn(t){return(t=String(t)).split(",").map(t=>Qn(t.trim())).join(", ")}function tr(t){const e={};for(const n of t.split(","))e[n]=!0;return e}function er(...t){const e={};for(const n of t)for(const t in n)n.hasOwnProperty(t)&&(e[t]=!0);return e}const nr=tr("area,br,col,hr,img,wbr"),rr=tr("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),ir=tr("rp,rt"),or=er(ir,rr),sr=er(nr,er(rr,tr("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),er(ir,tr("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),or),ar=tr("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),ur=tr("srcset"),cr=er(ar,ur,tr("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),tr("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),lr=tr("script,style,template");class hr{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let e=t.firstChild,n=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?n=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,n&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let t=this.checkClobberedElement(e,e.nextSibling);if(t){e=t;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(t){const e=t.nodeName.toLowerCase();if(!sr.hasOwnProperty(e))return this.sanitizedSomething=!0,!lr.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const n=t.attributes;for(let r=0;r<n.length;r++){const t=n.item(r),e=t.name,i=e.toLowerCase();if(!cr.hasOwnProperty(i)){this.sanitizedSomething=!0;continue}let o=t.value;ar[i]&&(o=Qn(o)),ur[i]&&(o=Xn(o)),this.buf.push(" ",e,'="',pr(o),'"')}return this.buf.push(">"),!0}endElement(t){const e=t.nodeName.toLowerCase();sr.hasOwnProperty(e)&&!nr.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push(pr(t))}checkClobberedElement(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error("Failed to sanitize html because the element is clobbered: "+t.outerHTML);return e}}const fr=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,dr=/([^\#-~ |!])/g;function pr(t){return t.replace(/&/g,"&amp;").replace(fr,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(dr,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let gr;function mr(t,e){let n=null;try{gr=gr||$n(t);let r=e?String(e):"";n=gr.getInertBodyElement(r);let i=5,o=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=n.innerHTML,n=gr.getInertBodyElement(r)}while(r!==o);return(new hr).sanitizeChildren(br(n)||n)}finally{if(n){const t=br(n)||n;for(;t.firstChild;)t.removeChild(t.firstChild)}}}function br(t){return"content"in t&&function(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var yr=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}({});function vr(t){const e=function(){const t=qt();return t&&t[12]}();return e?e.sanitize(yr.URL,t)||"":Un(t,"URL")?Fn(t):Qn(gt(t))}function wr(t){return t.ngDebugContext}function _r(t){return t.ngOriginalError}function Or(t,...e){t.error(...e)}class Er{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t),n=this._findContext(t),r=function(t){return t.ngErrorLogger||Or}(t);r(this._console,"ERROR",t),e&&r(this._console,"ORIGINAL ERROR",e),n&&r(this._console,"ERROR CONTEXT",n)}_findContext(t){return t?wr(t)?wr(t):this._findContext(_r(t)):null}_findOriginalError(t){let e=_r(t);for(;e&&_r(e);)e=_r(e);return e}}const Cr=/-->/g;function xr(t,e){t.__ngContext__=e}const Sr=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(V))();function Tr(t){return t instanceof Function?t():t}var Ir=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}({});let kr;function Ar(t,e){return kr(t,e)}function Dr(t){const e=t[3];return ut(e)?e[3]:e}function jr(t){return Pr(t[13])}function Nr(t){return Pr(t[4])}function Pr(t){for(;null!==t&&!ut(t);)t=t[4];return t}function Rr(t,e,n,r,i){if(null!=r){let o,s=!1;ut(r)?o=r:at(r)&&(s=!0,r=r[0]);const a=kt(r);0===t&&null!==n?null==i?$r(e,n,a):Gr(e,n,a,i||null,!0):1===t&&null!==n?Gr(e,n,a,i||null,!0):2===t?ii(e,a,s):3===t&&e.destroyNode(a),null!=o&&function(t,e,n,r,i){const o=n[7];o!==kt(n)&&Rr(e,t,r,o,i);for(let s=st;s<n.length;s++){const i=n[s];si(i[1],i,t,e,r,o)}}(e,t,o,n,i)}}function Mr(t,e){return Tt(t)?t.createText(e):t.createTextNode(e)}function Vr(t,e,n){Tt(t)?t.setValue(e,n):e.textContent=n}function Lr(t,e){return t.createComment(function(t){return t.replace(Cr,"-\u200b-\u200b>")}(e))}function Fr(t,e,n){return Tt(t)?t.createElement(e,n):null===n?t.createElement(e):t.createElementNS(n,e)}function Ur(t,e){const n=t[9],r=n.indexOf(e),i=e[3];1024&e[2]&&(e[2]&=-1025,Ut(i,-1)),n.splice(r,1)}function Hr(t,e){if(t.length<=st)return;const n=st+e,r=t[n];if(r){const o=r[17];null!==o&&o!==t&&Ur(o,r),e>0&&(t[n-1][4]=r[4]);const s=dn(t,st+e);si(r[1],i=r,i[11],2,null,null),i[0]=null,i[6]=null;const a=s[19];null!==a&&a.detachView(s[1]),r[3]=null,r[4]=null,r[2]&=-129}var i;return r}function zr(t,e){if(!(256&e[2])){const n=e[11];Tt(n)&&n.destroyNode&&si(t,e,n,3,null,null),function(t){let e=t[13];if(!e)return qr(t[1],t);for(;e;){let n=null;if(at(e))n=e[13];else{const t=e[10];t&&(n=t)}if(!n){for(;e&&!e[4]&&e!==t;)at(e)&&qr(e[1],e),e=e[3];null===e&&(e=t),at(e)&&qr(e[1],e),n=e&&e[4]}e=n}}(e)}}function qr(t,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const t=e[n[r]];if(!(t instanceof Te)){const e=n[r+1];if(Array.isArray(e))for(let n=0;n<e.length;n+=2)e[n+1].call(t[e[n]]);else e.call(t)}}}(t,e),function(t,e){const n=t.cleanup,r=e[7];let i=-1;if(null!==n){for(let t=0;t<n.length-1;t+=2)if("string"==typeof n[t]){const o=n[t+1],s="function"==typeof o?o(e):kt(e[o]),a=r[i=n[t+2]],u=n[t+3];"boolean"==typeof u?s.removeEventListener(n[t],a,u):u>=0?r[i=u]():r[i=-u].unsubscribe(),t+=2}else{const e=r[i=n[t+1]];n[t].call(e)}if(null!==r)for(let t=i+1;t<r.length;t++)(0,r[t])();e[7]=null}}(t,e),1===e[1].type&&Tt(e[11])&&e[11].destroy();const n=e[17];if(null!==n&&ut(e[3])){n!==e[3]&&Ur(n,e);const r=e[19];null!==r&&r.detachView(t)}}}function Br(t,e,n){return Wr(t,e.parent,n)}function Wr(t,e,n){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[0];if(2&r.flags){const e=t.data[r.directiveStart].encapsulation;if(e===j.None||e===j.Emulated)return null}return Dt(r,n)}function Gr(t,e,n,r,i){Tt(t)?t.insertBefore(e,n,r,i):e.insertBefore(n,r,i)}function $r(t,e,n){Tt(t)?t.appendChild(e,n):e.appendChild(n)}function Kr(t,e,n,r,i){null!==r?Gr(t,e,n,r,i):$r(t,e,n)}function Zr(t,e){return Tt(t)?t.parentNode(e):e.parentNode}function Yr(t,e,n){return Xr(t,e,n)}function Jr(t,e,n){return 40&t.type?Dt(t,n):null}let Qr,Xr=Jr;function ti(t,e){Xr=t,Qr=e}function ei(t,e,n,r){const i=Br(t,r,e),o=e[11],s=Yr(r.parent||e[6],r,e);if(null!=i)if(Array.isArray(n))for(let a=0;a<n.length;a++)Kr(o,i,n[a],s,!1);else Kr(o,i,n,s,!1);void 0!==Qr&&Qr(o,r,e,n,i)}function ni(t,e){if(null!==e){const n=e.type;if(3&n)return Dt(e,t);if(4&n)return ri(-1,t[e.index]);if(8&n){const n=e.child;if(null!==n)return ni(t,n);{const n=t[e.index];return ut(n)?ri(-1,n):kt(n)}}if(32&n)return Ar(e,t)()||kt(t[e.index]);{const n=t[16],r=n[6],i=Dr(n),o=r.projection[e.projection];return null!=o?ni(i,o):ni(t,e.next)}}return null}function ri(t,e){const n=st+t+1;if(n<e.length){const t=e[n],r=t[1].firstChild;if(null!==r)return ni(t,r)}return e[7]}function ii(t,e,n){const r=Zr(t,e);r&&function(t,e,n,r){Tt(t)?t.removeChild(e,n,r):e.removeChild(n)}(t,r,e,n)}function oi(t,e,n,r,i,o,s){for(;null!=n;){const a=r[n.index],u=n.type;if(s&&0===e&&(a&&xr(kt(a),r),n.flags|=4),64!=(64&n.flags))if(8&u)oi(t,e,n.child,r,i,o,!1),Rr(e,t,i,a,o);else if(32&u){const s=Ar(n,r);let u;for(;u=s();)Rr(e,t,i,u,o);Rr(e,t,i,a,o)}else 16&u?ai(t,e,r,n,i,o):Rr(e,t,i,a,o);n=s?n.projectionNext:n.next}}function si(t,e,n,r,i,o){oi(n,r,t.firstChild,e,i,o,!1)}function ai(t,e,n,r,i,o){const s=n[16],a=s[6].projection[r.projection];if(Array.isArray(a))for(let u=0;u<a.length;u++)Rr(e,t,i,a[u],o);else oi(t,e,a,s[3],i,o,!0)}function ui(t,e,n){Tt(t)?t.setAttribute(e,"style",n):e.style.cssText=n}function ci(t,e,n){Tt(t)?""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n):e.className=n}function li(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const n=e.length;if(i+n===r||t.charCodeAt(i+n)<=32)return i}n=i+1}}const hi="ng-template";function fi(t,e,n){let r=0;for(;r<t.length;){let i=t[r++];if(n&&"class"===i){if(i=t[r],-1!==li(i.toLowerCase(),e,0))return!0}else if(1===i){for(;r<t.length&&"string"==typeof(i=t[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function di(t){return 4===t.type&&t.value!==hi}function pi(t,e,n){return e===(4!==t.type||n?t.value:hi)}function gi(t,e,n){let r=4;const i=t.attrs||[],o=function(t){for(let e=0;e<t.length;e++)if(ke(t[e]))return e;return t.length}(i);let s=!1;for(let a=0;a<e.length;a++){const u=e[a];if("number"!=typeof u){if(!s)if(4&r){if(r=2|1&r,""!==u&&!pi(t,u,n)||""===u&&1===e.length){if(mi(r))return!1;s=!0}}else{const c=8&r?u:e[++a];if(8&r&&null!==t.attrs){if(!fi(t.attrs,c,n)){if(mi(r))return!1;s=!0}continue}const l=bi(8&r?"class":u,i,di(t),n);if(-1===l){if(mi(r))return!1;s=!0;continue}if(""!==c){let t;t=l>o?"":i[l+1].toLowerCase();const e=8&r?t:null;if(e&&-1!==li(e,c,0)||2&r&&c!==t){if(mi(r))return!1;s=!0}}}}else{if(!s&&!mi(r)&&!mi(u))return!1;if(s&&mi(u))continue;s=!1,r=u|1&r}}return mi(r)||s}function mi(t){return 0==(1&t)}function bi(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let n=!1;for(;i<e.length;){const r=e[i];if(r===t)return i;if(3===r||6===r)n=!0;else{if(1===r||2===r){let t=e[++i];for(;"string"==typeof t;)t=e[++i];continue}if(4===r)break;if(0===r){i+=4;continue}}i+=n?1:2}return-1}return function(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function yi(t,e,n=!1){for(let r=0;r<e.length;r++)if(gi(t,e[r],n))return!0;return!1}function vi(t,e){t:for(let n=0;n<e.length;n++){const r=e[n];if(t.length===r.length){for(let e=0;e<t.length;e++)if(t[e]!==r[e])continue t;return!0}}return!1}function wi(t,e){return t?":not("+e.trim()+")":e}function _i(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if("string"==typeof s)if(2&r){const e=t[++n];i+="["+s+(e.length>0?'="'+e+'"':"")+"]"}else 8&r?i+="."+s:4&r&&(i+=" "+s);else""===i||mi(s)||(e+=wi(o,i),i=""),r=s,o=o||!mi(r);n++}return""!==i&&(e+=wi(o,i)),e}const Oi={};function Ei(t){Ci(Bt(),qt(),be()+t,Qt())}function Ci(t,e,n,r){if(!r)if(3==(3&e[2])){const r=t.preOrderCheckHooks;null!==r&&_e(e,r,n)}else{const r=t.preOrderHooks;null!==r&&Oe(e,r,0,n)}ye(n)}function xi(t,e){return t<<17|e<<2}function Si(t){return t>>17&32767}function Ti(t){return 2|t}function Ii(t){return(131068&t)>>2}function ki(t,e){return-131069&t|e<<2}function Ai(t){return 1|t}function Di(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const i=n[r],o=n[r+1];if(-1!==o){const n=t.data[o];ue(i),n.contentQueries(2,e[o],o)}}}function ji(t,e,n,r,i,o,s,a,u,c){const l=e.blueprint.slice();return l[0]=i,l[2]=140|r,Ft(l),l[3]=l[15]=t,l[8]=n,l[10]=s||t&&t[10],l[11]=a||t&&t[11],l[12]=u||t&&t[12]||null,l[9]=c||t&&t[9]||null,l[6]=o,l[16]=2==e.type?t[16]:l,l}function Ni(t,e,n,r,i){let o=t.data[e];if(null===o)o=Pi(t,e,n,r,i),Ht.lFrame.inI18n&&(o.flags|=64);else if(64&o.type){o.type=n,o.value=r,o.attrs=i;const t=Kt();o.injectorIndex=null===t?-1:t.injectorIndex}return Zt(o,!0),o}function Pi(t,e,n,r,i){const o=$t(),s=Yt(),a=t.data[e]=function(t,e,n,r,i,o){return{type:n,index:r,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=a),null!==o&&(s?null==o.child&&null!==a.parent&&(o.child=a):null===o.next&&(o.next=a)),a}function Ri(t,e,n,r){if(0===n)return-1;const i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function Mi(t,e,n){he(e);try{const r=t.viewQuery;null!==r&&po(1,r,n);const i=t.template;null!==i&&Fi(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&Di(t,e),t.staticViewQueries&&po(2,t.viewQuery,n);const o=t.components;null!==o&&function(t,e){for(let n=0;n<e.length;n++)uo(t,e[n])}(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0),r}finally{e[2]&=-5,me()}}function Vi(t,e,n,r){const i=e[2];if(256==(256&i))return;he(e);const o=Qt();try{Ft(e),Ht.lFrame.bindingIndex=t.bindingStartIndex,null!==n&&Fi(t,e,n,2,r);const s=3==(3&i);if(!o)if(s){const n=t.preOrderCheckHooks;null!==n&&_e(e,n,null)}else{const n=t.preOrderHooks;null!==n&&Oe(e,n,0,null),Ee(e,0)}if(function(t){for(let e=jr(t);null!==e;e=Nr(e)){if(!e[2])continue;const t=e[9];for(let e=0;e<t.length;e++){const n=t[e],r=n[3];0==(1024&n[2])&&Ut(r,1),n[2]|=1024}}}(e),function(t){for(let e=jr(t);null!==e;e=Nr(e))for(let t=st;t<e.length;t++){const n=e[t],r=n[1];Vt(n)&&Vi(r,n,r.template,n[8])}}(e),null!==t.contentQueries&&Di(t,e),!o)if(s){const n=t.contentCheckHooks;null!==n&&_e(e,n)}else{const n=t.contentHooks;null!==n&&Oe(e,n,1),Ee(e,1)}!function(t,e){const n=t.hostBindingOpCodes;if(null!==n)try{for(let t=0;t<n.length;t++){const r=n[t];if(r<0)ye(~r);else{const i=r,o=n[++t],s=n[++t];oe(o,i),s(2,e[i])}}}finally{ye(-1)}}(t,e);const a=t.components;null!==a&&function(t,e){for(let n=0;n<e.length;n++)so(t,e[n])}(e,a);const u=t.viewQuery;if(null!==u&&po(2,u,r),!o)if(s){const n=t.viewCheckHooks;null!==n&&_e(e,n)}else{const n=t.viewHooks;null!==n&&Oe(e,n,2),Ee(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),o||(e[2]&=-73),1024&e[2]&&(e[2]&=-1025,Ut(e[3],-1))}finally{me()}}function Li(t,e,n,r){const i=e[10],o=!Qt(),s=Mt(e);try{o&&!s&&i.begin&&i.begin(),s&&Mi(t,e,r),Vi(t,e,n,r)}finally{o&&!s&&i.end&&i.end()}}function Fi(t,e,n,r,i){const o=be();try{ye(-1),2&r&&e.length>ot&&Ci(t,e,ot,Qt()),n(r,i)}finally{ye(o)}}function Ui(t,e,n){if(ct(e)){const r=e.directiveEnd;for(let i=e.directiveStart;i<r;i++){const e=t.data[i];e.contentQueries&&e.contentQueries(1,n[i],i)}}}function Hi(t,e,n){zt()&&(function(t,e,n,r){const i=n.directiveStart,o=n.directiveEnd;t.firstCreatePass||Fe(n,e),xr(r,e);const s=n.initialInputs;for(let a=i;a<o;a++){const r=t.data[a],o=ft(r);o&&eo(e,n,r);const u=Je(e,t,a,n);xr(u,e),null!==s&&ro(0,a-i,u,r,0,s),o&&(Pt(n.index,e)[8]=u)}}(t,e,n,Dt(n,e)),128==(128&n.flags)&&function(t,e,n){const r=n.directiveStart,i=n.directiveEnd,o=n.index,s=Ht.lFrame.currentDirectiveIndex;try{ye(o);for(let n=r;n<i;n++){const r=t.data[n],i=e[n];se(n),null===r.hostBindings&&0===r.hostVars&&null===r.hostAttrs||Yi(r,i)}}finally{ye(-1),se(s)}}(t,e,n))}function zi(t,e,n=Dt){const r=e.localNames;if(null!==r){let i=e.index+1;for(let o=0;o<r.length;o+=2){const s=r[o+1],a=-1===s?n(e,t):t[s];t[i++]=a}}}function qi(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=Bi(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):e}function Bi(t,e,n,r,i,o,s,a,u,c){const l=ot+r,h=l+i,f=function(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:Oi);return n}(l,h),d="function"==typeof c?c():c;return f[1]={type:t,blueprint:f,template:n,queries:null,viewQuery:a,declTNode:e,data:f.slice().fill(null,l),bindingStartIndex:l,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:u,consts:d,incompleteFirstPass:!1}}function Wi(t,e,n,r){const i=mo(e);null===n?i.push(r):(i.push(n),t.firstCreatePass&&bo(t).push(r,i.length-1))}function Gi(t,e,n){for(let r in t)if(t.hasOwnProperty(r)){const i=t[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(e,i):n[r]=[e,i]}return n}function $i(t,e,n,r,i,o,s,a){const u=Dt(e,n);let c,l=e.inputs;!a&&null!=l&&(c=l[r])?(vo(t,n,c,r,i),lt(e)&&function(t,e){const n=Pt(e,t);16&n[2]||(n[2]|=64)}(n,e.index)):3&e.type&&(r=function(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(r),i=null!=s?s(i,e.value||"",r):i,Tt(o)?o.setProperty(u,r,i):Ae(r)||(u.setProperty?u.setProperty(r,i):u[r]=i))}function Ki(t,e,n,r){let i=!1;if(zt()){const o=function(t,e,n){const r=t.directiveRegistry;let i=null;if(r)for(let o=0;o<r.length;o++){const s=r[o];yi(n,s.selectors,!1)&&(i||(i=[]),qe(Fe(n,e),t,s.type),ft(s)?(Ji(t,n),i.unshift(s)):i.push(s))}return i}(t,e,n),s=null===r?null:{"":-1};if(null!==o){i=!0,Xi(n,t.data.length,o.length);for(let t=0;t<o.length;t++){const e=o[t];e.providersResolver&&e.providersResolver(e)}let r=!1,a=!1,u=Ri(t,e,o.length,null);for(let i=0;i<o.length;i++){const c=o[i];n.mergedAttrs=De(n.mergedAttrs,c.hostAttrs),to(t,n,e,u,c),Qi(u,c,s),null!==c.contentQueries&&(n.flags|=8),null===c.hostBindings&&null===c.hostAttrs&&0===c.hostVars||(n.flags|=128);const l=c.type.prototype;!r&&(l.ngOnChanges||l.ngOnInit||l.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n.index),r=!0),a||!l.ngOnChanges&&!l.ngDoCheck||((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n.index),a=!0),u++}!function(t,e){const n=e.directiveEnd,r=t.data,i=e.attrs,o=[];let s=null,a=null;for(let u=e.directiveStart;u<n;u++){const t=r[u],n=t.inputs,c=null===i||di(e)?null:io(n,i);o.push(c),s=Gi(n,u,s),a=Gi(t.outputs,u,a)}null!==s&&(s.hasOwnProperty("class")&&(e.flags|=16),s.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=o,e.inputs=s,e.outputs=a}(t,n)}s&&function(t,e,n){if(e){const r=t.localNames=[];for(let t=0;t<e.length;t+=2){const i=n[e[t+1]];if(null==i)throw new pt("301",`Export of name '${e[t+1]}' not found!`);r.push(e[t],i)}}}(n,r,s)}return n.mergedAttrs=De(n.mergedAttrs,n.attrs),i}function Zi(t,e,n,r,i,o){const s=o.hostBindings;if(s){let n=t.hostBindingOpCodes;null===n&&(n=t.hostBindingOpCodes=[]);const o=~e.index;(function(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(n)!=o&&n.push(o),n.push(r,i,s)}}function Yi(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function Ji(t,e){e.flags|=2,(t.components||(t.components=[])).push(e.index)}function Qi(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;ft(e)&&(n[""]=t)}}function Xi(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function to(t,e,n,r,i){t.data[r]=i;const o=i.factory||(i.factory=dt(i.type)),s=new Te(o,ft(i),null);t.blueprint[r]=s,n[r]=s,Zi(t,e,0,r,Ri(t,n,i.hostVars,Oi),i)}function eo(t,e,n){const r=Dt(e,t),i=qi(n),o=t[10],s=co(t,ji(t,i,null,n.onPush?64:16,r,e,o,o.createRenderer(r,n),null,null));t[e.index]=s}function no(t,e,n,r,i,o,s){if(null==o)Tt(t)?t.removeAttribute(e,i,n):e.removeAttribute(i);else{const a=null==s?gt(o):s(o,r||"",i);Tt(t)?t.setAttribute(e,i,a,n):n?e.setAttributeNS(n,i,a):e.setAttribute(i,a)}}function ro(t,e,n,r,i,o){const s=o[e];if(null!==s){const t=r.setInput;for(let e=0;e<s.length;){const i=s[e++],o=s[e++],a=s[e++];null!==t?r.setInput(n,a,i,o):n[o]=a}}}function io(t,e){let n=null,r=0;for(;r<e.length;){const i=e[r];if(0!==i)if(5!==i){if("number"==typeof i)break;t.hasOwnProperty(i)&&(null===n&&(n=[]),n.push(i,t[i],e[r+1])),r+=2}else r+=2;else r+=4}return n}function oo(t,e,n,r){return new Array(t,!0,!1,e,null,0,r,n,null,null)}function so(t,e){const n=Pt(e,t);if(Vt(n)){const t=n[1];80&n[2]?Vi(t,n,t.template,n[8]):n[5]>0&&ao(n)}}function ao(t){for(let n=jr(t);null!==n;n=Nr(n))for(let t=st;t<n.length;t++){const e=n[t];if(1024&e[2]){const t=e[1];Vi(t,e,t.template,e[8])}else e[5]>0&&ao(e)}const e=t[1].components;if(null!==e)for(let n=0;n<e.length;n++){const r=Pt(e[n],t);Vt(r)&&r[5]>0&&ao(r)}}function uo(t,e){const n=Pt(e,t),r=n[1];!function(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n),Mi(r,n,n[8])}function co(t,e){return t[13]?t[14][4]=e:t[13]=e,t[14]=e,e}function lo(t){for(;t;){t[2]|=64;const e=Dr(t);if(0!=(512&t[2])&&!e)return t;t=e}return null}function ho(t,e,n){const r=e[10];r.begin&&r.begin();try{Vi(t,e,t.template,n)}catch(i){throw yo(e,i),i}finally{r.end&&r.end()}}function fo(t){!function(t){for(let e=0;e<t.components.length;e++){const n=t.components[e],r=Rt(n),i=r[1];Li(i,r,i.template,n)}}(t[8])}function po(t,e,n){ue(0),e(t,n)}const go=(()=>Promise.resolve(null))();function mo(t){return t[7]||(t[7]=[])}function bo(t){return t.cleanup||(t.cleanup=[])}function yo(t,e){const n=t[9],r=n?n.get(Er,null):null;r&&r.handleError(e)}function vo(t,e,n,r,i){for(let o=0;o<n.length;){const s=n[o++],a=n[o++],u=e[s],c=t.data[s];null!==c.setInput?c.setInput(u,i,r,a):u[a]=i}}function wo(t,e,n){const r=At(e,t);Vr(t[11],r,n)}function _o(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(null!==e)for(let s=0;s<e.length;s++){const t=e[s];"number"==typeof t?o=t:1==o?i=h(i,t):2==o&&(r=h(r,t+": "+e[++s]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}const Oo=new an("INJECTOR",-1);class Eo{get(t,e=On){if(e===On){const e=new Error(`NullInjectorError: No provider for ${l(t)}!`);throw e.name="NullInjectorError",e}return e}}const Co=new an("Set Injector scope."),xo={},So={},To=[];let Io=void 0;function ko(){return void 0===Io&&(Io=new Eo),Io}function Ao(t,e=null,n=null,r){return new Do(t,n,e||ko(),r)}class Do{constructor(t,e,n,r=null){this.parent=n,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const i=[];e&&hn(e,n=>this.processProvider(n,t,e)),hn([t],t=>this.processInjectorType(t,[],i)),this.records.set(Oo,Po(void 0,this));const o=this.records.get(Co);this.scope=null!=o?o.value:null,this.source=r||("object"==typeof t?null:l(t))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(t=>t.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(t,e=On,n=S.Default){this.assertNotDestroyed();const r=In(this);try{if(!(n&S.SkipSelf)){let e=this.records.get(t);if(void 0===e){const n=("function"==typeof(i=t)||"object"==typeof i&&i instanceof an)&&v(t);e=n&&this.injectableDefInScope(n)?Po(jo(t),xo):null,this.records.set(t,e)}if(null!=e)return this.hydrate(t,e)}return(n&S.Self?ko():this.parent).get(t,e=n&S.Optional&&e===On?null:e)}catch(o){if("NullInjectorError"===o.name){if((o.ngTempTokenPath=o.ngTempTokenPath||[]).unshift(l(t)),r)throw o;return function(t,e,n,r){const i=t.ngTempTokenPath;throw e[Cn]&&i.unshift(e[Cn]),t.message=function(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;let i=l(e);if(Array.isArray(e))i=e.map(l).join(" -> ");else if("object"==typeof e){let t=[];for(let n in e)if(e.hasOwnProperty(n)){let r=e[n];t.push(n+":"+("string"==typeof r?JSON.stringify(r):l(r)))}i=`{${t.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(En,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t.ngTempTokenPath=null,t}(o,t,"R3InjectorError",this.source)}throw o}finally{In(r)}var i}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(t=>this.get(t))}toString(){const t=[];return this.records.forEach((e,n)=>t.push(l(n))),`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(t,e,n){if(!(t=p(t)))return!1;let r=_(t);const i=null==r&&t.ngModule||void 0,o=void 0===i?t:i,s=-1!==n.indexOf(o);if(void 0!==i&&(r=_(i)),null==r)return!1;if(null!=r.imports&&!s){let t;n.push(o);try{hn(r.imports,r=>{this.processInjectorType(r,e,n)&&(void 0===t&&(t=[]),t.push(r))})}finally{}if(void 0!==t)for(let e=0;e<t.length;e++){const{ngModule:n,providers:r}=t[e];hn(r,t=>this.processProvider(t,n,r||To))}}this.injectorDefTypes.add(o),this.records.set(o,Po(r.factory,xo));const a=r.providers;if(null!=a&&!s){const e=t;hn(a,t=>this.processProvider(t,e,a))}return void 0!==i&&void 0!==t.providers}processProvider(t,e,n){let r=Mo(t=p(t))?t:p(t&&t.provide);const i=function(t,e,n){return Ro(t)?Po(void 0,t.useValue):Po(No(t),xo)}(t);if(Mo(t)||!0!==t.multi)this.records.get(r);else{let e=this.records.get(r);e||(e=Po(void 0,xo,!0),e.factory=()=>Dn(e.multi),this.records.set(r,e)),r=t,e.multi.push(t)}this.records.set(r,i)}hydrate(t,e){var n;return e.value===xo&&(e.value=So,e.value=e.factory()),"object"==typeof e.value&&e.value&&null!==(n=e.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(e.value),e.value}injectableDefInScope(t){return!!t.providedIn&&("string"==typeof t.providedIn?"any"===t.providedIn||t.providedIn===this.scope:this.injectorDefTypes.has(t.providedIn))}}function jo(t){const e=v(t),n=null!==e?e.factory:dt(t);if(null!==n)return n;const r=_(t);if(null!==r)return r.factory;if(t instanceof an)throw new Error(`Token ${l(t)} is missing a \u0275prov definition.`);if(t instanceof Function)return function(t){const e=t.length;if(e>0){const n=pn(e,"?");throw new Error(`Can't resolve all parameters for ${l(t)}: (${n.join(", ")}).`)}const n=function(t){const e=t&&(t[O]||t[C]);if(e){const n=function(t){if(t.hasOwnProperty("name"))return t.name;const e=(""+t).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),e}return null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new Error("unreachable")}function No(t,e,n){let r=void 0;if(Mo(t)){const e=p(t);return dt(e)||jo(e)}if(Ro(t))r=()=>p(t.useValue);else if((i=t)&&i.useFactory)r=()=>t.useFactory(...Dn(t.deps||[]));else if(function(t){return!(!t||!t.useExisting)}(t))r=()=>An(p(t.useExisting));else{const e=p(t&&(t.useClass||t.provide));if(!function(t){return!!t.deps}(t))return dt(e)||jo(e);r=()=>new e(...Dn(t.deps))}var i;return r}function Po(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function Ro(t){return null!==t&&"object"==typeof t&&xn in t}function Mo(t){return"function"==typeof t}const Vo=function(t,e,n){return function(t,e=null,n=null,r){const i=Ao(t,e,n,r);return i._resolveInjectorDefTypes(),i}({name:n},e,t,n)};let Lo=(()=>{class t{static create(t,e){return Array.isArray(t)?Vo(t,e,""):Vo(t.providers,t.parent,t.name||"")}}return t.THROW_IF_NOT_FOUND=On,t.NULL=new Eo,t.\u0275prov=b({token:t,providedIn:"any",factory:()=>An(Oo)}),t.__NG_ELEMENT_ID__=-1,t})();function Fo(t,e){we(Rt(t)[1],Gt())}function Uo(t){let e=Object.getPrototypeOf(t.type.prototype).constructor,n=!0;const r=[t];for(;e;){let i=void 0;if(ft(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Error("Directives cannot inherit Components");i=e.\u0275dir}if(i){if(n){r.push(i);const e=t;e.inputs=Ho(t.inputs),e.declaredInputs=Ho(t.declaredInputs),e.outputs=Ho(t.outputs);const n=i.hostBindings;n&&Bo(t,n);const o=i.viewQuery,s=i.contentQueries;if(o&&zo(t,o),s&&qo(t,s),c(t.inputs,i.inputs),c(t.declaredInputs,i.declaredInputs),c(t.outputs,i.outputs),ft(i)&&i.data.animation){const e=t.data;e.animation=(e.animation||[]).concat(i.data.animation)}}const e=i.features;if(e)for(let r=0;r<e.length;r++){const i=e[r];i&&i.ngInherit&&i(t),i===Uo&&(n=!1)}}e=Object.getPrototypeOf(e)}!function(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=De(i.hostAttrs,n=De(n,i.hostAttrs))}}(r)}function Ho(t){return t===L?{}:t===F?[]:t}function zo(t,e){const n=t.viewQuery;t.viewQuery=n?(t,r)=>{e(t,r),n(t,r)}:e}function qo(t,e){const n=t.contentQueries;t.contentQueries=n?(t,r,i)=>{e(t,r,i),n(t,r,i)}:e}function Bo(t,e){const n=t.hostBindings;t.hostBindings=n?(t,r)=>{e(t,r),n(t,r)}:e}let Wo=null;function Go(){if(!Wo){const t=V.Symbol;if(t&&t.iterator)Wo=t.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<t.length;++e){const n=t[e];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(Wo=n)}}}return Wo}class $o{constructor(t){this.wrapped=t}static wrap(t){return new $o(t)}static unwrap(t){return $o.isWrapped(t)?t.wrapped:t}static isWrapped(t){return t instanceof $o}}function Ko(t){return!!Zo(t)&&(Array.isArray(t)||!(t instanceof Map)&&Go()in t)}function Zo(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function Yo(t,e,n){return t[e]=n}function Jo(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function Qo(t,e,n,r){const i=Jo(t,e,n);return Jo(t,e+1,r)||i}function Xo(t,e,n,r){const i=qt();return Jo(i,ne(),e)&&(Bt(),function(t,e,n,r,i,o){const s=Dt(t,e);no(e[11],s,o,t.value,n,r,i)}(ve(),i,t,e,n,r)),Xo}function ts(t,e,n,r){return Jo(t,ne(),n)?e+gt(n)+r:Oi}function es(t,e,n,r,i,o,s,a){const u=qt(),c=Bt(),l=t+ot,h=c.firstCreatePass?function(t,e,n,r,i,o,s,a,u){const c=e.consts,l=Ni(e,t,4,s||null,Lt(c,a));Ki(e,n,l,Lt(c,u)),we(e,l);const h=l.tViews=Bi(2,l,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c);return null!==e.queries&&(e.queries.template(e,l),h.queries=e.queries.embeddedTView(l)),l}(l,c,u,e,n,r,i,o,s):c.data[l];Zt(h,!1);const f=u[11].createComment("");ei(c,u,f,h),xr(f,u),co(u,u[l]=oo(f,u,f,h)),ht(h)&&Hi(c,u,h),null!=s&&zi(u,h,a)}function ns(t){return Nt(Ht.lFrame.contextLView,ot+t)}function rs(t,e=S.Default){const n=qt();return null===n?An(t,e):Ge(Gt(),n,p(t),e)}function is(t,e,n){const r=qt();return Jo(r,ne(),e)&&$i(Bt(),ve(),r,t,e,r[11],n,!1),is}function os(t,e,n,r,i){const o=i?"class":"style";vo(t,n,e.inputs[o],o,r)}function ss(t,e,n,r){const i=qt(),o=Bt(),s=ot+t,a=i[11],u=i[s]=Fr(a,e,Ht.lFrame.currentNamespace),c=o.firstCreatePass?function(t,e,n,r,i,o,s){const a=e.consts,u=Ni(e,t,2,i,Lt(a,o));return Ki(e,n,u,Lt(a,s)),null!==u.attrs&&_o(u,u.attrs,!1),null!==u.mergedAttrs&&_o(u,u.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,u),u}(s,o,i,0,e,n,r):o.data[s];Zt(c,!0);const l=c.mergedAttrs;null!==l&&Ie(a,u,l);const h=c.classes;null!==h&&ci(a,u,h);const f=c.styles;null!==f&&ui(a,u,f),64!=(64&c.flags)&&ei(o,i,u,c),0===Ht.lFrame.elementDepthCount&&xr(u,i),Ht.lFrame.elementDepthCount++,ht(c)&&(Hi(o,i,c),Ui(o,c,i)),null!==r&&zi(i,c)}function as(){let t=Gt();Yt()?Jt():(t=t.parent,Zt(t,!1));const e=t;Ht.lFrame.elementDepthCount--;const n=Bt();n.firstCreatePass&&(we(n,t),ct(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function(t){return 0!=(16&t.flags)}(e)&&os(n,e,qt(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function(t){return 0!=(32&t.flags)}(e)&&os(n,e,qt(),e.stylesWithoutHost,!1)}function us(t,e,n,r){ss(t,e,n,r),as()}function cs(t,e,n){const r=qt(),i=Bt(),o=t+ot,s=i.firstCreatePass?function(t,e,n,r,i){const o=e.consts,s=Lt(o,r),a=Ni(e,t,8,"ng-container",s);return null!==s&&_o(a,s,!0),Ki(e,n,a,Lt(o,i)),null!==e.queries&&e.queries.elementStart(e,a),a}(o,i,r,e,n):i.data[o];Zt(s,!0);const a=r[o]=r[11].createComment("");ei(i,r,a,s),xr(a,r),ht(s)&&(Hi(i,r,s),Ui(i,s,r)),null!=n&&zi(r,s)}function ls(){let t=Gt();const e=Bt();Yt()?Jt():(t=t.parent,Zt(t,!1)),e.firstCreatePass&&(we(e,t),ct(t)&&e.queries.elementEnd(t))}function hs(){return qt()}function fs(t){return!!t&&"function"==typeof t.then}function ds(t){return!!t&&"function"==typeof t.subscribe}function ps(t,e,n=!1,r){const i=qt(),o=Bt(),s=Gt();return function(t,e,n,r,i,o,s=!1,a){const u=ht(r),c=t.firstCreatePass&&bo(t),l=mo(e);let h=!0;if(3&r.type){const f=Dt(r,e),d=a?a(f):L,p=d.target||f,g=l.length,m=a?t=>a(kt(t[r.index])).target:r.index;if(Tt(n)){let s=null;if(!a&&u&&(s=function(t,e,n,r){const i=t.cleanup;if(null!=i)for(let o=0;o<i.length-1;o+=2){const t=i[o];if(t===n&&i[o+1]===r){const t=e[7],n=i[o+2];return t.length>n?t[n]:null}"string"==typeof t&&(o+=2)}return null}(t,e,i,r.index)),null!==s)(s.__ngLastListenerFn__||s).__ngNextListenerFn__=o,s.__ngLastListenerFn__=o,h=!1;else{o=ms(r,e,o,!1);const t=n.listen(d.name||p,i,o);l.push(o,t),c&&c.push(i,m,g,g+1)}}else o=ms(r,e,o,!0),p.addEventListener(i,o,s),l.push(o),c&&c.push(i,m,g,s)}else o=ms(r,e,o,!1);const f=r.outputs;let d;if(h&&null!==f&&(d=f[i])){const t=d.length;if(t)for(let n=0;n<t;n+=2){const t=e[d[n]][d[n+1]].subscribe(o),s=l.length;l.push(o,t),c&&c.push(i,r.index,s,-(s+1))}}}(o,i,i[11],s,t,e,n,r),ps}function gs(t,e,n){try{return!1!==e(n)}catch(r){return yo(t,r),!1}}function ms(t,e,n,r){return function i(o){if(o===Function)return n;const s=2&t.flags?Pt(t.index,e):e;0==(32&e[2])&&lo(s);let a=gs(e,n,o),u=i.__ngNextListenerFn__;for(;u;)a=gs(e,u,o)&&a,u=u.__ngNextListenerFn__;return r&&!1===a&&(o.preventDefault(),o.returnValue=!1),a}}function bs(t=1){return function(t){return(Ht.lFrame.contextLView=function(t,e){for(;t>0;)e=e[15],t--;return e}(t,Ht.lFrame.contextLView))[8]}(t)}function ys(t,e){let n=null;const r=function(t){const e=t.attrs;if(null!=e){const t=e.indexOf(5);if(0==(1&t))return e[t+1]}return null}(t);for(let i=0;i<e.length;i++){const o=e[i];if("*"!==o){if(null===r?yi(t,o,!0):vi(r,o))return i}else n=i}return n}function vs(t){const e=qt()[16][6];if(!e.projection){const n=e.projection=pn(t?t.length:1,null),r=n.slice();let i=e.child;for(;null!==i;){const e=t?ys(i,t):0;null!==e&&(r[e]?r[e].projectionNext=i:n[e]=i,r[e]=i),i=i.next}}}function ws(t,e=0,n){const r=qt(),i=Bt(),o=Ni(i,ot+t,16,null,n||null);null===o.projection&&(o.projection=e),Jt(),64!=(64&o.flags)&&function(t,e,n){ai(e[11],0,e,n,Br(t,n,e),Yr(n.parent||e[6],n,e))}(i,r,o)}function _s(t,e,n){return Os(t,"",e,"",n),_s}function Os(t,e,n,r,i){const o=qt(),s=ts(o,e,n,r);return s!==Oi&&$i(Bt(),ve(),o,t,s,o[11],i,!1),Os}const Es=[];function Cs(t,e,n,r,i){const o=t[n+1],s=null===e;let a=r?Si(o):Ii(o),u=!1;for(;0!==a&&(!1===u||s);){const n=t[a+1];xs(t[a],e)&&(u=!0,t[a+1]=r?Ai(n):Ti(n)),a=r?Si(n):Ii(n)}u&&(t[n+1]=r?Ti(o):Ai(o))}function xs(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&bn(t,e)>=0}const Ss={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Ts(t){return t.substring(Ss.key,Ss.keyEnd)}function Is(t,e){const n=Ss.textEnd;return n===e?-1:(e=Ss.keyEnd=function(t,e,n){for(;e<n&&t.charCodeAt(e)>32;)e++;return e}(t,Ss.key=e,n),ks(t,e,n))}function ks(t,e,n){for(;e<n&&t.charCodeAt(e)<=32;)e++;return e}function As(t,e,n){return Ps(t,e,n,!1),As}function Ds(t,e){return Ps(t,e,null,!0),Ds}function js(t){Rs(gn,Ns,t,!0)}function Ns(t,e){for(let n=function(t){return function(t){Ss.key=0,Ss.keyEnd=0,Ss.value=0,Ss.valueEnd=0,Ss.textEnd=t.length}(t),Is(t,ks(t,0,Ss.textEnd))}(e);n>=0;n=Is(e,n))gn(t,Ts(e),!0)}function Ps(t,e,n,r){const i=qt(),o=Bt(),s=re(2);o.firstUpdatePass&&Vs(o,t,s,r),e!==Oi&&Jo(i,s,e)&&Us(o,o.data[be()],i,i[11],t,i[s+1]=function(t,e){return null==t||("string"==typeof e?t+=e:"object"==typeof t&&(t=l(Fn(t)))),t}(e,n),r,s)}function Rs(t,e,n,r){const i=Bt(),o=re(2);i.firstUpdatePass&&Vs(i,null,o,r);const s=qt();if(n!==Oi&&Jo(s,o,n)){const a=i.data[be()];if(qs(a,r)&&!Ms(i,o)){let t=r?a.classesWithoutHost:a.stylesWithoutHost;null!==t&&(n=h(t,n||"")),os(i,a,s,n,r)}else!function(t,e,n,r,i,o,s,a){i===Oi&&(i=Es);let u=0,c=0,l=0<i.length?i[0]:null,h=0<o.length?o[0]:null;for(;null!==l||null!==h;){const f=u<i.length?i[u+1]:void 0,d=c<o.length?o[c+1]:void 0;let p=null,g=void 0;l===h?(u+=2,c+=2,f!==d&&(p=h,g=d)):null===h||null!==l&&l<h?(u+=2,p=l):(c+=2,p=h,g=d),null!==p&&Us(t,e,n,r,p,g,s,a),l=u<i.length?i[u]:null,h=c<o.length?o[c]:null}}(i,a,s,s[11],s[o+1],s[o+1]=function(t,e,n){if(null==n||""===n)return Es;const r=[],i=Fn(n);if(Array.isArray(i))for(let o=0;o<i.length;o++)t(r,i[o],!0);else if("object"==typeof i)for(const o in i)i.hasOwnProperty(o)&&t(r,o,i[o]);else"string"==typeof i&&e(r,i);return r}(t,e,n),r,o)}}function Ms(t,e){return e>=t.expandoStartIndex}function Vs(t,e,n,r){const i=t.data;if(null===i[n+1]){const o=i[be()],s=Ms(t,n);qs(o,r)&&null===e&&!s&&(e=!1),e=function(t,e,n,r){const i=function(t){const e=Ht.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}(t);let o=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(n=Fs(n=Ls(null,t,e,n,r),e.attrs,r),o=null);else{const s=e.directiveStylingLast;if(-1===s||t[s]!==i)if(n=Ls(i,t,e,n,r),null===o){let n=function(t,e,n){const r=n?e.classBindings:e.styleBindings;if(0!==Ii(r))return t[Si(r)]}(t,e,r);void 0!==n&&Array.isArray(n)&&(n=Ls(null,t,e,n[1],r),n=Fs(n,e.attrs,r),function(t,e,n,r){t[Si(n?e.classBindings:e.styleBindings)]=r}(t,e,r,n))}else o=function(t,e,n){let r=void 0;const i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++)r=Fs(r,t[o].hostAttrs,n);return Fs(r,e.attrs,n)}(t,e,r)}return void 0!==o&&(r?e.residualClasses=o:e.residualStyles=o),n}(i,o,e,r),function(t,e,n,r,i,o){let s=o?e.classBindings:e.styleBindings,a=Si(s),u=Ii(s);t[r]=n;let c,l=!1;if(Array.isArray(n)){const t=n;c=t[1],(null===c||bn(t,c)>0)&&(l=!0)}else c=n;if(i)if(0!==u){const e=Si(t[a+1]);t[r+1]=xi(e,a),0!==e&&(t[e+1]=ki(t[e+1],r)),t[a+1]=131071&t[a+1]|r<<17}else t[r+1]=xi(a,0),0!==a&&(t[a+1]=ki(t[a+1],r)),a=r;else t[r+1]=xi(u,0),0===a?a=r:t[u+1]=ki(t[u+1],r),u=r;l&&(t[r+1]=Ti(t[r+1])),Cs(t,c,r,!0),Cs(t,c,r,!1),function(t,e,n,r,i){const o=i?t.residualClasses:t.residualStyles;null!=o&&"string"==typeof e&&bn(o,e)>=0&&(n[r+1]=Ai(n[r+1]))}(e,c,t,r,o),s=xi(a,u),o?e.classBindings=s:e.styleBindings=s}(i,o,e,n,s,r)}}function Ls(t,e,n,r,i){let o=null;const s=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<s&&(o=e[a],r=Fs(r,o.hostAttrs,i),o!==t);)a++;return null!==t&&(n.directiveStylingLast=a),r}function Fs(t,e,n){const r=n?1:2;let i=-1;if(null!==e)for(let o=0;o<e.length;o++){const s=e[o];"number"==typeof s?i=s:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),gn(t,s,!!n||e[++o]))}return void 0===t?null:t}function Us(t,e,n,r,i,o,s,a){if(!(3&e.type))return;const u=t.data,c=u[a+1];zs(1==(1&c)?Hs(u,e,n,i,Ii(c),s):void 0)||(zs(o)||2==(2&c)&&(o=Hs(u,null,n,i,a,s)),function(t,e,n,r,i){const o=Tt(t);if(e)i?o?t.addClass(n,r):n.classList.add(r):o?t.removeClass(n,r):n.classList.remove(r);else{let e=-1===r.indexOf("-")?void 0:Ir.DashCase;if(null==i)o?t.removeStyle(n,r,e):n.style.removeProperty(r);else{const s="string"==typeof i&&i.endsWith("!important");s&&(i=i.slice(0,-10),e|=Ir.Important),o?t.setStyle(n,r,i,e):n.style.setProperty(r,i,s?"important":"")}}}(r,s,At(be(),n),i,o))}function Hs(t,e,n,r,i,o){const s=null===e;let a=void 0;for(;i>0;){const e=t[i],o=Array.isArray(e),u=o?e[1]:e,c=null===u;let l=n[i+1];l===Oi&&(l=c?Es:void 0);let h=c?mn(l,r):u===r?l:void 0;if(o&&!zs(h)&&(h=mn(e,r)),zs(h)&&(a=h,s))return a;const f=t[i+1];i=s?Si(f):Ii(f)}if(null!==e){let t=o?e.residualClasses:e.residualStyles;null!=t&&(a=mn(t,r))}return a}function zs(t){return void 0!==t}function qs(t,e){return 0!=(t.flags&(e?16:32))}function Bs(t,e=""){const n=qt(),r=Bt(),i=t+ot,o=r.firstCreatePass?Ni(r,i,1,e,null):r.data[i],s=n[i]=Mr(n[11],e);ei(r,n,s,o),Zt(o,!1)}function Ws(t){return Gs("",t,""),Ws}function Gs(t,e,n){const r=qt(),i=ts(r,t,e,n);return i!==Oi&&wo(r,be(),i),Gs}function $s(t,e,n,r,i){const o=qt(),s=function(t,e,n,r,i,o){const s=Qo(t,ee(),n,i);return re(2),s?e+gt(n)+r+gt(i)+o:Oi}(o,t,e,n,r,i);return s!==Oi&&wo(o,be(),s),$s}function Ks(t,e,n,r,i,o,s,a,u){Rs(gn,Ns,function(t,e,n,r,i,o,s,a,u,c){const l=function(t,e,n,r,i,o){const s=Qo(t,e,n,r);return Qo(t,e+2,i,o)||s}(t,ee(),n,i,s,u);return re(4),l?e+gt(n)+r+gt(i)+o+gt(s)+a+gt(u)+c:Oi}(qt(),t,e,n,r,i,o,s,a,u),!0)}function Zs(t,e,n){const r=qt();return Jo(r,ne(),e)&&$i(Bt(),ve(),r,t,e,r[11],n,!0),Zs}const Ys=void 0;var Js=["en",[["a","p"],["AM","PM"],Ys],[["AM","PM"],Ys,Ys],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Ys,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Ys,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Ys,"{1} 'at' {0}",Ys],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(t){let e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}];let Qs={};function Xs(t,e,n){"string"!=typeof e&&(n=e,e=t[ia.LocaleId]),e=e.toLowerCase().replace(/_/g,"-"),Qs[e]=t,n&&(Qs[e][ia.ExtraData]=n)}function ta(t){const e=function(t){return t.toLowerCase().replace(/_/g,"-")}(t);let n=ra(e);if(n)return n;const r=e.split("-")[0];if(n=ra(r),n)return n;if("en"===r)return Js;throw new Error(`Missing locale data for the locale "${t}".`)}function ea(t){return ta(t)[ia.CurrencyCode]||null}function na(t){return ta(t)[ia.PluralCase]}function ra(t){return t in Qs||(Qs[t]=V.ng&&V.ng.common&&V.ng.common.locales&&V.ng.common.locales[t]),Qs[t]}var ia=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}({});const oa=["zero","one","two","few","many"],sa="en-US",aa={marker:"element"},ua={marker:"ICU"};var ca=function(t){return t[t.SHIFT=2]="SHIFT",t[t.APPEND_EAGERLY=1]="APPEND_EAGERLY",t[t.COMMENT=2]="COMMENT",t}({});let la=sa;function ha(t){var e;null==(e=t)&&m("Expected localeId to be defined",e,null,"!="),"string"==typeof t&&(la=t.toLowerCase().replace(/_/g,"-"))}function fa(t,e,n){const r=e.insertBeforeIndex,i=Array.isArray(r)?r[0]:r;return null===i?Jr(t,0,n):kt(n[i])}function da(t,e,n,r,i){const o=e.insertBeforeIndex;if(Array.isArray(o)){let s=r,a=null;if(3&e.type||(a=s,s=i),null!==s&&0==(2&e.flags))for(let e=1;e<o.length;e++)Gr(t,s,n[o[e]],a,!1)}}function pa(t,e){if(t.push(e),t.length>1)for(let n=t.length-2;n>=0;n--){const r=t[n];ga(r)||ma(r,e)&&null===ba(r)&&ya(r,e.index)}}function ga(t){return!(64&t.type)}function ma(t,e){return ga(e)||t.index>e.index}function ba(t){const e=t.insertBeforeIndex;return Array.isArray(e)?e[0]:e}function ya(t,e){const n=t.insertBeforeIndex;Array.isArray(n)?n[0]=e:(ti(fa,da),t.insertBeforeIndex=e)}function va(t,e){const n=t.data[e];return null===n||"string"==typeof n?null:n.hasOwnProperty("currentCaseLViewIndex")?n:n.value}function wa(t,e,n){const r=Pi(t,n,64,null,null);return pa(e,r),r}function _a(t,e){const n=e[t.currentCaseLViewIndex];return null===n?n:n<0?~n:n}let Oa=0,Ea=0;function Ca(t,e,n,r){const i=n[11];let o,s=null;for(let a=0;a<e.length;a++){const u=e[a];if("string"==typeof u){const t=e[++a];null===n[t]&&(n[t]=Mr(i,u))}else if("number"==typeof u)switch(1&u){case 0:const c=u>>>17;let l,h;if(null===s&&(s=c,o=Zr(i,r)),c===s?(l=r,h=o):(l=null,h=kt(n[c])),null!==h){const e=(131070&u)>>>1;Gr(i,h,n[e],l,!1);const r=va(t,e);if(null!==r&&"object"==typeof r){const e=_a(r,n);null!==e&&Ca(t,r.create[e],n,n[r.anchorIdx])}}break;case 1:const f=e[++a],d=e[++a];no(i,At(u>>>1,n),null,null,f,d,null);break;default:throw new Error(`Unable to determine the type of mutate operation for "${u}"`)}else switch(u){case ua:const t=e[++a],r=e[++a];null===n[r]&&xr(n[r]=Lr(i,t),n);break;case aa:const o=e[++a],s=e[++a];null===n[s]&&xr(n[s]=Fr(i,o,null),n)}}}function xa(t,e,n,r,i){for(let o=0;o<n.length;o++){const s=n[o],a=n[++o];if(s&i){let i="";for(let s=o+1;s<=o+a;s++){const o=n[s];if("string"==typeof o)i+=o;else if("number"==typeof o)if(o<0)i+=gt(e[r-o]);else{const a=o>>>2;switch(3&o){case 1:const o=n[++s],u=n[++s],c=t.data[a];"string"==typeof c?no(e[11],e[a],null,c,o,i,u):$i(t,c,e,o,i,e[11],u,!1);break;case 0:const l=e[a];null!==l&&Vr(e[11],l,i);break;case 2:Ta(t,va(t,a),e,i);break;case 3:Sa(t,va(t,a),r,e)}}}}else{const i=n[o+1];if(i>0&&3==(3&i)){const n=va(t,i>>>2);e[n.currentCaseLViewIndex]<0&&Sa(t,n,r,e)}}o+=a}}function Sa(t,e,n,r){let i=r[e.currentCaseLViewIndex];if(null!==i){let o=Oa;i<0&&(i=r[e.currentCaseLViewIndex]=~i,o=-1),xa(t,r,e.update[i],n,o)}}function Ta(t,e,n,r){const i=function(t,e){let n=t.cases.indexOf(e);if(-1===n)switch(t.type){case 1:{const r=function(t,e){const n=na(e)(parseInt(t,10)),r=oa[n];return void 0!==r?r:"other"}(e,la);n=t.cases.indexOf(r),-1===n&&"other"!==r&&(n=t.cases.indexOf("other"));break}case 0:n=t.cases.indexOf("other")}return-1===n?null:n}(e,r);if(_a(e,n)!==i&&(Ia(t,e,n),n[e.currentCaseLViewIndex]=null===i?null:~i,null!==i)){const r=n[e.anchorIdx];r&&Ca(t,e.create[i],n,r)}}function Ia(t,e,n){let r=_a(e,n);if(null!==r){const i=e.remove[r];for(let e=0;e<i.length;e++){const r=i[e];if(r>0){const t=At(r,n);null!==t&&ii(n[11],t)}else Ia(t,va(t,~r),n)}}}const ka=/\ufffd(\d+):?\d*\ufffd/gi,Aa=/\ufffd(\d+)\ufffd/,Da=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,ja=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,Na=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,Pa=/\uE500/g;function Ra(t,e,n,r,i,o,s){const a=Ri(t,r,1,null);let u=a<<ca.SHIFT,c=Kt();e===c&&(c=null),null===c&&(u|=ca.APPEND_EAGERLY),s&&(u|=ca.COMMENT,void 0===kr&&(kr=function(){const t=[];let e,n,r=-1;function i(t,e){r=0;const i=_a(t,e);n=null!==i?t.remove[i]:F}function o(){if(r<n.length){const s=n[r++];return s>0?e[s]:(t.push(r,n),i(e[1].data[~s],e),o())}return 0===t.length?null:(n=t.pop(),r=t.pop(),o())}return function(n,r){for(e=r;t.length;)t.pop();return i(n.value,r),o}}())),i.push(u,null===o?"":o);const l=Pi(t,a,s?32:1,null===o?"":o,null);pa(n,l);const h=l.index;return Zt(l,!1),null!==c&&e!==c&&function(t,e){let n=t.insertBeforeIndex;var r;null===n?(ti(fa,da),n=t.insertBeforeIndex=[null,e]):("Expecting array here",(r=Array.isArray(n))!=!0&&m("Expecting array here",r,true,"=="),n.push(e))}(c,h),l}function Ma(t,e,n,r,i,o,s){const a=s.match(ka),u=Ra(t,e,n,o,r,a?null:s,!1);a&&Va(i,s,u.index)}function Va(t,e,n,r,i=null){const o=t.length,s=o+1;t.push(null,null);const a=o+2,u=e.split(ka);let c=0;for(let l=0;l<u.length;l++){const e=u[l];if(1&l){const n=parseInt(e,10);t.push(-1-n),c|=La(n)}else""!==e&&t.push(e)}return t.push(n<<2|(r?1:0)),r&&t.push(r,i),t[o]=c,t[s]=t.length-a,c}function La(t){return 1<<Math.min(t,31)}function Fa(t){let e,n,r="",i=0,o=!1;for(;null!==(e=ja.exec(t));)o?e[0]===`\ufffd/*${n}\ufffd`&&(i=e.index,o=!1):(r+=t.substring(i,e.index+e[0].length),n=e[1],o=!0);return r+=t.substr(i),r}function Ua(t,e,n,r,i,o){let s=0;const a={type:i.type,currentCaseLViewIndex:Ri(t,e,1,null),anchorIdx:o,cases:[],create:[],remove:[],update:[]};!function(t,e,n){t.push(La(e.mainBinding),2,-1-e.mainBinding,n<<2|2)}(n,i,o),function(t,e,n){const r=t.data[e];null===r?t.data[e]=n:r.value=n}(t,o,a);const u=i.values;for(let c=0;c<u.length;c++){const o=u[c],l=[];for(let t=0;t<o.length;t++){const e=o[t];if("string"!=typeof e){const n=l.push(e)-1;o[t]=`\x3c!--\ufffd${n}\ufffd--\x3e`}}s=qa(t,a,e,n,r,i.cases[c],o.join(""),l)|s}s&&function(t,e,n){t.push(e,1,n<<2|3)}(n,s,o)}function Ha(t){const e=[],n=[];let r=1,i=0;const o=za(t=t.replace(Da,function(t,e,n){return r="select"===n?0:1,i=parseInt(e.substr(1),10),""}));for(let s=0;s<o.length;){let t=o[s++].trim();1===r&&(t=t.replace(/\s*(?:=)?(\w+)\s*/,"$1")),t.length&&e.push(t);const i=za(o[s++]);e.length>n.length&&n.push(i)}return{type:r,mainBinding:i,cases:e,values:n}}function za(t){if(!t)return[];let e=0;const n=[],r=[],i=/[{}]/g;let o;for(i.lastIndex=0;o=i.exec(t);){const i=o.index;if("}"==o[0]){if(n.pop(),0==n.length){const n=t.substring(e,i);Da.test(n)?r.push(Ha(n)):r.push(n),e=i+1}}else{if(0==n.length){const n=t.substring(e,i);r.push(n),e=i+1}n.push("{")}}const s=t.substring(e);return r.push(s),r}function qa(t,e,n,r,i,o,s,a){const u=[],c=[],l=[];e.cases.push(o),e.create.push(u),e.remove.push(c),e.update.push(l);const h=$n(St()).getInertBodyElement(s),f=br(h)||h;return f?Ba(t,e,n,r,u,c,l,f,i,a,0):0}function Ba(t,e,n,r,i,o,s,a,u,c,l){let h=0,f=a.firstChild;for(;f;){const a=Ri(t,n,1,null);switch(f.nodeType){case Node.ELEMENT_NODE:const d=f,p=d.tagName.toLowerCase();if(sr.hasOwnProperty(p)){$a(i,aa,p,u,a),t.data[a]=p;const g=d.attributes;for(let t=0;t<g.length;t++){const e=g.item(t),n=e.name.toLowerCase();e.value.match(ka)?cr.hasOwnProperty(n)&&(ar[n]?Va(s,e.value,a,e.name,Qn):ur[n]?Va(s,e.value,a,e.name,Xn):Va(s,e.value,a,e.name)):Ka(i,a,e)}h=Ba(t,e,n,r,i,o,s,f,a,c,l+1)|h,Wa(o,a,l)}break;case Node.TEXT_NODE:const g=f.textContent||"",m=g.match(ka);$a(i,null,m?"":g,u,a),Wa(o,a,l),m&&(h=Va(s,g,a)|h);break;case Node.COMMENT_NODE:const b=Aa.exec(f.textContent||"");if(b){const e=c[parseInt(b[1],10)];$a(i,ua,"",u,a),Ua(t,n,r,u,e,a),Ga(o,a,l)}}f=f.nextSibling}return h}function Wa(t,e,n){0===n&&t.push(e)}function Ga(t,e,n){0===n&&(t.push(~e),t.push(e))}function $a(t,e,n,r,i){null!==e&&t.push(e),t.push(n,i,0|r<<17|i<<1)}function Ka(t,e,n){t.push(e<<1|1,n.name,n.value)}function Za(t,e,n){(function(t,e,n=-1){const r=Bt(),i=qt(),o=ot+t,s=Lt(r.consts,e),a=Kt();r.firstCreatePass&&function(t,e,n,r,i,o){const s=Kt(),a=[],u=[],c=[[]],l=(h=i=function(t,e){if(function(t){return-1===t}(e))return Fa(t);{const n=t.indexOf(`:${e}\ufffd`)+2+e.toString().length,r=t.search(new RegExp(`\ufffd\\/\\*\\d+:${e}\ufffd`));return Fa(t.substring(n,r))}}(i,o),h.replace(Pa," ")).split(Na);var h;for(let f=0;f<l.length;f++){let r=l[f];if(0==(1&f)){const o=za(r);for(let r=0;r<o.length;r++){let l=o[r];if(0==(1&r)){const e=l;""!==e&&Ma(t,s,c[0],a,u,n,e)}else{const r=l;if("object"!=typeof r)throw new Error(`Unable to parse ICU expression in "${i}" message.`);Ua(t,n,u,e,r,Ra(t,s,c[0],n,a,"",!0).index)}}}else{const e=47===r.charCodeAt(0),n=(r.charCodeAt(e?1:0),ot+Number.parseInt(r.substring(e?2:1)));if(e)c.shift(),Zt(Kt(),!1);else{const e=wa(t,c[0],n);c.unshift([]),Zt(e,!0)}}}t.data[r]={create:a,update:u}}(r,null===a?0:a.index,i,o,s,n);const u=r.data[o],c=Wr(r,a===i[6]?null:a,i);!function(t,e,n,r){const i=t[11];for(let o=0;o<e.length;o++){const s=e[o++],a=e[o],u=(s&ca.COMMENT)===ca.COMMENT,c=(s&ca.APPEND_EAGERLY)===ca.APPEND_EAGERLY,l=s>>>ca.SHIFT;let h=t[l];null===h&&(h=t[l]=u?i.createComment(a):Mr(i,a)),c&&null!==n&&Gr(i,n,h,r,!1)}}(i,u.create,c,a&&8&a.type?i[a.index]:null),ie(!0)})(t,e,n),ie(!1)}function Ya(t){return Jo(qt(),ne(),t)&&(Oa|=1<<Math.min(Ea,31)),Ea++,Ya}function Ja(t){!function(t,e,n){if(Ea>0){const r=t.data[n];xa(t,e,Array.isArray(r)?r:r.update,ee()-Ea-1,Oa)}Oa=0,Ea=0}(Bt(),qt(),t+ot)}function Qa(t,e,n,r,i){if(t=p(t),Array.isArray(t))for(let o=0;o<t.length;o++)Qa(t[o],e,n,r,i);else{const o=Bt(),s=qt();let a=Mo(t)?t:p(t.provide),u=No(t);const c=Gt(),l=1048575&c.providerIndexes,h=c.directiveStart,f=c.providerIndexes>>20;if(Mo(t)||!t.multi){const r=new Te(u,i,rs),d=eu(a,e,i?l:l+f,h);-1===d?(qe(Fe(c,s),o,a),Xa(o,t,e.length),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(r),s.push(r)):(n[d]=r,s[d]=r)}else{const d=eu(a,e,l+f,h),p=eu(a,e,l,l+f),g=d>=0&&n[d],m=p>=0&&n[p];if(i&&!m||!i&&!g){qe(Fe(c,s),o,a);const l=function(t,e,n,r,i){const o=new Te(t,n,rs);return o.multi=[],o.index=e,o.componentProviders=0,tu(o,i,r&&!n),o}(i?ru:nu,n.length,i,r,u);!i&&m&&(n[p].providerFactory=l),Xa(o,t,e.length,0),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(l),s.push(l)}else Xa(o,t,d>-1?d:p,tu(n[i?p:d],u,!i&&r));!i&&r&&m&&n[p].componentProviders++}}}function Xa(t,e,n,r){const i=Mo(e);if(i||e.useClass){const o=(e.useClass||e).prototype.ngOnDestroy;if(o){const s=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){const t=s.indexOf(n);-1===t?s.push(n,[r,o]):s[t+1].push(r,o)}else s.push(n,o)}}}function tu(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function eu(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function nu(t,e,n,r){return iu(this.multi,[])}function ru(t,e,n,r){const i=this.multi;let o;if(this.providerFactory){const t=this.providerFactory.componentProviders,e=Je(n,n[1],this.providerFactory.index,r);o=e.slice(0,t),iu(i,o);for(let n=t;n<e.length;n++)o.push(e[n])}else o=[],iu(i,o);return o}function iu(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function ou(t,e=[]){return n=>{n.providersResolver=(n,r)=>function(t,e,n){const r=Bt();if(r.firstCreatePass){const i=ft(t);Qa(n,r.data,r.blueprint,i,!0),Qa(e,r.data,r.blueprint,i,!1)}}(n,r?r(t):t,e)}}class su{}class au{resolveComponentFactory(t){throw function(t){const e=Error(`No component factory found for ${l(t)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=t,e}(t)}}let uu=(()=>{class t{}return t.NULL=new au,t})();function cu(...t){}function lu(t,e){return new fu(Dt(t,e))}const hu=function(){return lu(Gt(),qt())};let fu=(()=>{class t{constructor(t){this.nativeElement=t}}return t.__NG_ELEMENT_ID__=hu,t})();class du{}let pu=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>gu(),t})();const gu=function(){const t=qt(),e=Pt(Gt().index,t);return function(t){return t[11]}(at(e)?e:t)};let mu=(()=>{class t{}return t.\u0275prov=b({token:t,providedIn:"root",factory:()=>null}),t})();class bu{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const yu=new bu("11.0.5");class vu{constructor(){}supports(t){return Ko(t)}create(t){return new _u(t)}}const wu=(t,e)=>e;class _u{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||wu}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,n=this._removalsHead,r=0,i=null;for(;e||n;){const o=!n||e&&e.currentIndex<xu(n,r,i)?e:n,s=xu(o,r,i),a=o.currentIndex;if(o===n)r--,n=n._nextRemoved;else if(e=e._next,null==o.previousIndex)r++;else{i||(i=[]);const t=s-r,e=a-r;if(t!=e){for(let n=0;n<t;n++){const r=n<i.length?i[n]:i[n]=0,o=r+n;e<=o&&o<t&&(i[n]=r+1)}i[o.previousIndex]=e-t}}s!==a&&t(o,s,a)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!Ko(t))throw new Error(`Error trying to diff '${l(t)}'. Only arrays and iterables are allowed`);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e,n,r,i=this._itHead,o=!1;if(Array.isArray(t)){this.length=t.length;for(let e=0;e<this.length;e++)n=t[e],r=this._trackByFn(e,n),null!==i&&Object.is(i.trackById,r)?(o&&(i=this._verifyReinsertion(i,n,r,e)),Object.is(i.item,n)||this._addIdentityChange(i,n)):(i=this._mismatch(i,n,r,e),o=!0),i=i._next}else e=0,function(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[Go()]();let r;for(;!(r=n.next()).done;)e(r.value)}}(t,t=>{r=this._trackByFn(e,t),null!==i&&Object.is(i.trackById,r)?(o&&(i=this._verifyReinsertion(i,t,r,e)),Object.is(i.item,t)||this._addIdentityChange(i,t)):(i=this._mismatch(i,t,r,e),o=!0),i=i._next,e++}),this.length=e;return this._truncate(i),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,n,r){let i;return null===t?i=this._itTail:(i=t._prev,this._remove(t)),null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,i,r)):null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,i,r)):t=this._addAfter(new Ou(e,n),i,r),t}_verifyReinsertion(t,e,n,r){let i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?t=this._reinsertAfter(i,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const r=t._prevRemoved,i=t._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(t,e,n),this._addToMoves(t,n),t}_moveAfter(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t}_addAfter(t,e,n){return this._insertAfter(t,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,n){const r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new Cu),this._linkedRecords.put(t),t.currentIndex=n,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Cu),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class Ou{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Eu{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&Object.is(n.trackById,t))return n;return null}remove(t){const e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head}}class Cu{constructor(){this.map=new Map}put(t){const e=t.trackById;let n=this.map.get(e);n||(n=new Eu,this.map.set(e,n)),n.add(t)}get(t,e){const n=this.map.get(t);return n?n.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function xu(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}class Su{constructor(){}supports(t){return t instanceof Map||Zo(t)}create(){return new Tu}}class Tu{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||Zo(t)))throw new Error(`Error trying to diff '${l(t)}'. Only maps and objects are allowed`)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(t,n)=>{if(e&&e.key===n)this._maybeAddToChanges(e,t),this._appendAfter=e,e=e._next;else{const r=this._getOrCreateRecordForKey(n,t);e=this._insertBeforeOrAppend(e,r)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let t=e;null!==t;t=t._nextRemoved)t===this._mapHead&&(this._mapHead=null),this._records.delete(t.key),t._nextRemoved=t._next,t.previousValue=t.currentValue,t.currentValue=null,t._prev=null,t._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const n=this._records.get(t);this._maybeAddToChanges(n,e);const r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}const n=new Iu(t);return this._records.set(t,n),n.currentValue=e,this._addToAdditions(n),n}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(n=>e(t[n],n))}}class Iu{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}let ku=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(null!=n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>{if(!n)throw new Error("Cannot extend IterableDiffers without a parent injector");return t.create(e,n)},deps:[[t,new _n,new vn]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(null!=e)return e;throw new Error(`Cannot find a differ supporting object '${t}' of type '${n=t,n.name||typeof n}'`);var n}}return t.\u0275prov=b({token:t,providedIn:"root",factory:()=>new t([new vu])}),t})(),Au=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>{if(!n)throw new Error("Cannot extend KeyValueDiffers without a parent injector");return t.create(e,n)},deps:[[t,new _n,new vn]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(e)return e;throw new Error(`Cannot find a differ supporting object '${t}'`)}}return t.\u0275prov=b({token:t,providedIn:"root",factory:()=>new t([new Su])}),t})();function Du(t,e,n,r,i=!1){for(;null!==n;){const o=e[n.index];if(null!==o&&r.push(kt(o)),ut(o))for(let t=st;t<o.length;t++){const e=o[t],n=e[1].firstChild;null!==n&&Du(e[1],e,n,r)}const s=n.type;if(8&s)Du(t,e,n.child,r);else if(32&s){const t=Ar(n,e);let i;for(;i=t();)r.push(i)}else if(16&s){const t=e[16],i=t[6].projection[n.projection];if(Array.isArray(i))r.push(...i);else{const e=Dr(t);Du(e[1],e,i,r,!0)}}n=i?n.projectionNext:n.next}return r}class ju{constructor(t,e){this._lView=t,this._cdRefInjectingView=e,this._appRef=null,this._viewContainerRef=null}get rootNodes(){const t=this._lView,e=t[1];return Du(e,t,e.firstChild,[])}get context(){return this._lView[8]}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._viewContainerRef){const t=this._viewContainerRef.indexOf(this);t>-1&&this._viewContainerRef.detach(t),this._viewContainerRef=null}zr(this._lView[1],this._lView)}onDestroy(t){Wi(this._lView[1],this._lView,null,t)}markForCheck(){lo(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){ho(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(t,e,n){Xt(!0);try{ho(t,e,n)}finally{Xt(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(t){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._viewContainerRef=t}detachFromAppRef(){var t;this._appRef=null,si(this._lView[1],t=this._lView,t[11],2,null,null)}attachToAppRef(t){if(this._viewContainerRef)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}}class Nu extends ju{constructor(t){super(t),this._view=t}detectChanges(){fo(this._view)}checkNoChanges(){!function(t){Xt(!0);try{fo(t)}finally{Xt(!1)}}(this._view)}get context(){return null}}const Pu=Mu;let Ru=(()=>{class t{}return t.__NG_ELEMENT_ID__=Pu,t.__ChangeDetectorRef__=!0,t})();function Mu(t=!1){return function(t,e,n){if(!n&&lt(t)){const n=Pt(t.index,e);return new ju(n,n)}return 47&t.type?new ju(e[16],e):null}(Gt(),qt(),t)}const Vu=[new Su],Lu=new ku([new vu]),Fu=new Au(Vu),Uu=function(){return Bu(Gt(),qt())};let Hu=(()=>{class t{}return t.__NG_ELEMENT_ID__=Uu,t})();const zu=Hu,qu=class extends zu{constructor(t,e,n){super(),this._declarationLView=t,this._declarationTContainer=e,this.elementRef=n}createEmbeddedView(t){const e=this._declarationTContainer.tViews,n=ji(this._declarationLView,e,t,16,null,e.declTNode,null,null,null,null);n[17]=this._declarationLView[this._declarationTContainer.index];const r=this._declarationLView[19];return null!==r&&(n[19]=r.createEmbeddedView(e)),Mi(e,n,t),new ju(n)}};function Bu(t,e){return 4&t.type?new qu(e,t,lu(t,e)):null}class Wu{}class Gu{}const $u=function(){return Xu(Gt(),qt())};let Ku=(()=>{class t{}return t.__NG_ELEMENT_ID__=$u,t})();const Zu=Ku,Yu=class extends Zu{constructor(t,e,n){super(),this._lContainer=t,this._hostTNode=e,this._hostLView=n}get element(){return lu(this._hostTNode,this._hostLView)}get injector(){return new tn(this._hostTNode,this._hostLView)}get parentInjector(){const t=ze(this._hostTNode,this._hostLView);if(Ne(t)){const e=Re(t,this._hostLView),n=Pe(t);return new tn(e[1].data[n+8],e)}return new tn(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const e=Ju(this._lContainer);return null!==e&&e[t]||null}get length(){return this._lContainer.length-st}createEmbeddedView(t,e,n){const r=t.createEmbeddedView(e||{});return this.insert(r,n),r}createComponent(t,e,n,r,i){const o=n||this.parentInjector;if(!i&&null==t.ngModule&&o){const t=o.get(Wu,null);t&&(i=t)}const s=t.create(o,r,void 0,i);return this.insert(s.hostView,e),s}insert(t,e){const n=t._lView,r=n[1];if(ut(n[3])){const e=this.indexOf(t);if(-1!==e)this.detach(e);else{const e=n[3],r=new Yu(e,e[6],e[3]);r.detach(r.indexOf(t))}}const i=this._adjustIndex(e),o=this._lContainer;!function(t,e,n,r){const i=st+r,o=n.length;r>0&&(n[i-1][4]=e),r<o-st?(e[4]=n[i],fn(n,st+r,e)):(n.push(e),e[4]=null),e[3]=n;const s=e[17];null!==s&&n!==s&&function(t,e){const n=t[9];e[16]!==e[3][3][16]&&(t[2]=!0),null===n?t[9]=[e]:n.push(e)}(s,e);const a=e[19];null!==a&&a.insertView(t),e[2]|=128}(r,n,o,i);const s=ri(i,o),a=n[11],u=Zr(a,o[7]);return null!==u&&function(t,e,n,r,i,o){r[0]=i,r[6]=e,si(t,r,n,1,i,o)}(r,o[6],a,n,u,s),t.attachToViewContainerRef(this),fn(Qu(o),i,t),t}move(t,e){return this.insert(t,e)}indexOf(t){const e=Ju(this._lContainer);return null!==e?e.indexOf(t):-1}remove(t){const e=this._adjustIndex(t,-1),n=Hr(this._lContainer,e);n&&(dn(Qu(this._lContainer),e),zr(n[1],n))}detach(t){const e=this._adjustIndex(t,-1),n=Hr(this._lContainer,e);return n&&null!=dn(Qu(this._lContainer),e)?new ju(n):null}_adjustIndex(t,e=0){return null==t?this.length+e:t}};function Ju(t){return t[8]}function Qu(t){return t[8]||(t[8]=[])}function Xu(t,e){let n;const r=e[t.index];if(ut(r))n=r;else{let i;if(8&t.type)i=kt(r);else{const n=e[11];i=n.createComment("");const r=Dt(t,e);Gr(n,Zr(n,r),i,function(t,e){return Tt(t)?t.nextSibling(e):e.nextSibling}(n,r),!1)}e[t.index]=n=oo(r,e,i,t),co(e,n)}return new Yu(n,t,e)}const tc={};class ec extends uu{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=rt(t);return new ic(e,this.ngModule)}}function nc(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}const rc=new an("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>Sr});class ic extends su{constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=t.selectors.map(_i).join(","),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}get inputs(){return nc(this.componentDef.inputs)}get outputs(){return nc(this.componentDef.outputs)}create(t,e,n,r){const i=(r=r||this.ngModule)?function(t,e){return{get:(n,r,i)=>{const o=t.get(n,tc,i);return o!==tc||r===tc?o:e.get(n,r,i)}}}(t,r.injector):t,o=i.get(du,It),s=i.get(mu,null),a=o.createRenderer(null,this.componentDef),u=this.componentDef.selectors[0][0]||"div",c=n?function(t,e,n){if(Tt(t))return t.selectRootElement(e,n===j.ShadowDom);let r="string"==typeof e?t.querySelector(e):e;return r.textContent="",r}(a,n,this.componentDef.encapsulation):Fr(o.createRenderer(null,this.componentDef),u,function(t){const e=t.toLowerCase();return"svg"===e?"http://www.w3.org/2000/svg":"math"===e?"http://www.w3.org/1998/MathML/":null}(u)),l=this.componentDef.onPush?576:528,h={components:[],scheduler:Sr,clean:go,playerHandler:null,flags:0},f=Bi(0,null,null,1,0,null,null,null,null,null),d=ji(null,f,h,l,null,null,o,a,s,i);let p,g;he(d);try{const t=function(t,e,n,r,i,o){const s=n[1];n[20]=t;const a=Ni(s,20,2,"#host",null),u=a.mergedAttrs=e.hostAttrs;null!==u&&(_o(a,u,!0),null!==t&&(Ie(i,t,u),null!==a.classes&&ci(i,t,a.classes),null!==a.styles&&ui(i,t,a.styles)));const c=r.createRenderer(t,e),l=ji(n,qi(e),null,e.onPush?64:16,n[20],a,r,c,null,null);return s.firstCreatePass&&(qe(Fe(a,n),s,e.type),Ji(s,a),Xi(a,n.length,1)),co(n,l),n[20]=l}(c,this.componentDef,d,o,a);if(c)if(n)Ie(a,c,["ng-version",yu.full]);else{const{attrs:t,classes:e}=function(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let o=t[r];if("string"==typeof o)2===i?""!==o&&e.push(o,t[++r]):8===i&&n.push(o);else{if(!mi(i))break;i=o}r++}return{attrs:e,classes:n}}(this.componentDef.selectors[0]);t&&Ie(a,c,t),e&&e.length>0&&ci(a,c,e.join(" "))}if(g=jt(f,ot),void 0!==e){const t=g.projection=[];for(let n=0;n<this.ngContentSelectors.length;n++){const r=e[n];t.push(null!=r?Array.from(r):null)}}p=function(t,e,n,r,i){const o=n[1],s=function(t,e,n){const r=Gt();t.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),to(t,r,e,Ri(t,e,1,null),n));const i=Je(e,t,r.directiveStart,r);xr(i,e);const o=Dt(r,e);return o&&xr(o,e),i}(o,n,e);if(r.components.push(s),t[8]=s,i&&i.forEach(t=>t(s,e)),e.contentQueries){const t=Gt();e.contentQueries(1,s,t.directiveStart)}const a=Gt();return!o.firstCreatePass||null===e.hostBindings&&null===e.hostAttrs||(ye(a.index),Zi(n[1],a,0,a.directiveStart,a.directiveEnd,e),Yi(e,s)),s}(t,this.componentDef,d,h,[Fo]),Mi(f,d,null)}finally{me()}return new oc(this.componentType,p,lu(g,d),d,g)}}class oc extends class{}{constructor(t,e,n,r,i){super(),this.location=n,this._rootLView=r,this._tNode=i,this.instance=e,this.hostView=this.changeDetectorRef=new Nu(r),this.componentType=t}get injector(){return new tn(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}const sc=new Map;class ac extends Wu{constructor(t,e){super(),this._parent=e,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new ec(this);const n=it(t),r=t[B]||null;r&&ha(r),this._bootstrapComponents=Tr(n.bootstrap),this._r3Injector=Ao(t,e,[{provide:Wu,useValue:this},{provide:uu,useValue:this.componentFactoryResolver}],l(t)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(t)}get(t,e=Lo.THROW_IF_NOT_FOUND,n=S.Default){return t===Lo||t===Wu||t===Oo?this:this._r3Injector.get(t,e,n)}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class uc extends Gu{constructor(t){super(),this.moduleType=t,null!==it(t)&&function(t){const e=new Set;!function t(n){const r=it(n,!0),i=r.id;null!==i&&(function(t,e,n){if(e&&e!==n)throw new Error(`Duplicate module registered for ${t} - ${l(e)} vs ${l(e.name)}`)}(i,sc.get(i),n),sc.set(i,n));const o=Tr(r.imports);for(const s of o)e.has(s)||(e.add(s),t(s))}(t)}(t)}create(t){return new ac(this.moduleType,t)}}function cc(t,e,n,r){return dc(qt(),te(),t,e,n,r)}function lc(t,e,n,r,i){return pc(qt(),te(),t,e,n,r,i)}function hc(t,e,n,r,i,o){return function(t,e,n,r,i,o,s,a){const u=e+n;return function(t,e,n,r,i){const o=Qo(t,e,n,r);return Jo(t,e+2,i)||o}(t,u,i,o,s)?Yo(t,u+3,a?r.call(a,i,o,s):r(i,o,s)):fc(t,u+3)}(qt(),te(),t,e,n,r,i,o)}function fc(t,e){const n=t[e];return n===Oi?void 0:n}function dc(t,e,n,r,i,o){const s=e+n;return Jo(t,s,i)?Yo(t,s+1,o?r.call(o,i):r(i)):fc(t,s+1)}function pc(t,e,n,r,i,o,s){const a=e+n;return Qo(t,a,i,o)?Yo(t,a+2,s?r.call(s,i,o):r(i,o)):fc(t,a+2)}function gc(t,e){const n=Bt();let r;const i=t+ot;n.firstCreatePass?(r=function(t,e){if(e)for(let n=e.length-1;n>=0;n--){const r=e[n];if(t===r.name)return r}throw new pt("302",`The pipe '${t}' could not be found!`)}(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks||(n.destroyHooks=[])).push(i,r.onDestroy)):r=n.data[i];const o=r.factory||(r.factory=dt(r.type)),s=I(rs);try{const t=Ve(!1),e=o();return Ve(t),function(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}(n,qt(),i,e),e}finally{I(s)}}function mc(t,e,n){const r=t+ot,i=qt(),o=Nt(i,r);return vc(i,yc(i,r)?dc(i,te(),e,o.transform,n,o):o.transform(n))}function bc(t,e,n,r){const i=t+ot,o=qt(),s=Nt(o,i);return vc(o,yc(o,i)?pc(o,te(),e,s.transform,n,r,s):s.transform(n,r))}function yc(t,e){return t[1].data[e].pure}function vc(t,e){return $o.isWrapped(e)&&(e=$o.unwrap(e),t[ee()]=Oi),e}const wc=class extends r.a{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,n){let r,o=t=>null,s=()=>null;t&&"object"==typeof t?(r=this.__isAsync?e=>{setTimeout(()=>t.next(e))}:e=>{t.next(e)},t.error&&(o=this.__isAsync?e=>{setTimeout(()=>t.error(e))}:e=>{t.error(e)}),t.complete&&(s=this.__isAsync?()=>{setTimeout(()=>t.complete())}:()=>{t.complete()})):(r=this.__isAsync?e=>{setTimeout(()=>t(e))}:e=>{t(e)},e&&(o=this.__isAsync?t=>{setTimeout(()=>e(t))}:t=>{e(t)}),n&&(s=this.__isAsync?()=>{setTimeout(()=>n())}:()=>{n()}));const a=super.subscribe(r,o,s);return t instanceof i.a&&t.add(a),a}};function _c(){return this._results[Go()]()}class Oc{constructor(){this.dirty=!0,this._results=[],this.changes=new wc,this.length=0;const t=Go(),e=Oc.prototype;e[t]||(e[t]=_c)}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t){this._results=ln(t),this.dirty=!1,this.length=this._results.length,this.last=this._results[this.length-1],this.first=this._results[0]}notifyOnChanges(){this.changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}class Ec{constructor(t){this.queryList=t,this.matches=null}clone(){return new Ec(this.queryList)}setDirty(){this.queryList.setDirty()}}class Cc{constructor(t=[]){this.queries=t}createEmbeddedView(t){const e=t.queries;if(null!==e){const n=null!==t.contentQueries?t.contentQueries[0]:e.length,r=[];for(let t=0;t<n;t++){const n=e.getByIndex(t);r.push(this.queries[n.indexInDeclarationView].clone())}return new Cc(r)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)null!==zc(t,e).matches&&this.queries[e].setDirty()}}class xc{constructor(t,e,n,r=null){this.predicate=t,this.descendants=e,this.isStatic=n,this.read=r}}class Sc{constructor(t=[]){this.queries=t}elementStart(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let n=0;n<this.length;n++){const r=null!==e?e.length:0,i=this.getByIndex(n).embeddedTView(t,r);i&&(i.indexInDeclarationView=n,null!==e?e.push(i):e=[i])}return null!==e?new Sc(e):null}template(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class Tc{constructor(t,e=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new Tc(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&!1===this.metadata.descendants){const e=this._declarationNodeIndex;let n=t.parent;for(;null!==n&&8&n.type&&n.index!==e;)n=n.parent;return e===(null!==n?n.index:-1)}return this._appliesToNextNode}matchTNode(t,e){const n=this.metadata.predicate;if(Array.isArray(n))for(let r=0;r<n.length;r++){const i=n[r];this.matchTNodeWithReadOption(t,e,Ic(e,i)),this.matchTNodeWithReadOption(t,e,Ye(e,t,i,!1,!1))}else n===Hu?4&e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,Ye(e,t,n,!1,!1))}matchTNodeWithReadOption(t,e,n){if(null!==n){const r=this.metadata.read;if(null!==r)if(r===fu||r===Ku||r===Hu&&4&e.type)this.addMatch(e.index,-2);else{const n=Ye(e,t,r,!1,!1);null!==n&&this.addMatch(e.index,n)}else this.addMatch(e.index,n)}}addMatch(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}function Ic(t,e){const n=t.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1];return null}function kc(t,e,n,r){return-1===n?function(t,e){return 11&t.type?lu(t,e):4&t.type?Bu(t,e):null}(e,t):-2===n?function(t,e,n){return n===fu?lu(e,t):n===Hu?Bu(e,t):n===Ku?Xu(e,t):void 0}(t,e,r):Je(t,t[1],n,e)}function Ac(t,e,n,r){const i=e[19].queries[r];if(null===i.matches){const r=t.data,o=n.matches,s=[];for(let t=0;t<o.length;t+=2){const i=o[t];s.push(i<0?null:kc(e,r[i],o[t+1],n.metadata.read))}i.matches=s}return i.matches}function Dc(t,e,n,r){const i=t.queries.getByIndex(n),o=i.matches;if(null!==o){const s=Ac(t,e,i,n);for(let t=0;t<o.length;t+=2){const n=o[t];if(n>0)r.push(s[t/2]);else{const i=o[t+1],s=e[-n];for(let t=st;t<s.length;t++){const e=s[t];e[17]===e[3]&&Dc(e[1],e,i,r)}if(null!==s[9]){const t=s[9];for(let e=0;e<t.length;e++){const n=t[e];Dc(n[1],n,i,r)}}}}}return r}function jc(t){const e=qt(),n=Bt(),r=ae();ue(r+1);const i=zc(n,r);if(t.dirty&&Mt(e)===i.metadata.isStatic){if(null===i.matches)t.reset([]);else{const o=i.crossesNgTemplate?Dc(n,e,r,[]):Ac(n,e,i,r);t.reset(o),t.notifyOnChanges()}return!0}return!1}function Nc(t,e,n){Rc(Bt(),qt(),t,e,n,!0)}function Pc(t,e,n){Rc(Bt(),qt(),t,e,n,!1)}function Rc(t,e,n,r,i,o){t.firstCreatePass&&(Hc(t,new xc(n,r,o,i),-1),o&&(t.staticViewQueries=!0)),Uc(t,e)}function Mc(t,e,n,r){Lc(Bt(),qt(),e,n,r,!1,Gt(),t)}function Vc(t,e,n,r){Lc(Bt(),qt(),e,n,r,!0,Gt(),t)}function Lc(t,e,n,r,i,o,s,a){t.firstCreatePass&&(Hc(t,new xc(n,r,o,i),s.index),function(t,e){const n=t.contentQueries||(t.contentQueries=[]);e!==(n.length?n[n.length-1]:-1)&&n.push(t.queries.length-1,e)}(t,a),o&&(t.staticContentQueries=!0)),Uc(t,e)}function Fc(){return t=qt(),e=ae(),t[19].queries[e].queryList;var t,e}function Uc(t,e){const n=new Oc;Wi(t,e,n,n.destroy),null===e[19]&&(e[19]=new Cc),e[19].queries.push(new Ec(n))}function Hc(t,e,n){null===t.queries&&(t.queries=new Sc),t.queries.track(new Tc(e,n))}function zc(t,e){return t.queries.getByIndex(e)}function qc(t,e){return Bu(t,e)}function Bc(t=S.Default){const e=Mu(!0);if(null!=e||t&S.Optional)return e;bt("ChangeDetectorRef")}const Wc=new an("Application Initializer");let Gc=(()=>{class t{constructor(t){this.appInits=t,this.resolve=cu,this.reject=cu,this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}runInitializers(){if(this.initialized)return;const t=[],e=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let n=0;n<this.appInits.length;n++){const e=this.appInits[n]();fs(e)&&t.push(e)}Promise.all(t).then(()=>{e()}).catch(t=>{this.reject(t)}),0===t.length&&e(),this.initialized=!0}}return t.\u0275fac=function(e){return new(e||t)(An(Wc,8))},t.\u0275prov=b({token:t,factory:t.\u0275fac}),t})();const $c=new an("AppId"),Kc={provide:$c,useFactory:function(){return`${Zc()}${Zc()}${Zc()}`},deps:[]};function Zc(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Yc=new an("Platform Initializer"),Jc=new an("Platform ID"),Qc=new an("appBootstrapListener");let Xc=(()=>{class t{log(t){console.log(t)}warn(t){console.warn(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=b({token:t,factory:t.\u0275fac}),t})();const tl=new an("LocaleId"),el=new an("DefaultCurrencyCode");class nl{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}}const rl=function(t){return new uc(t)},il=rl,ol=function(t){return Promise.resolve(rl(t))},sl=function(t){const e=rl(t),n=Tr(it(t).declarations).reduce((t,e)=>{const n=rt(e);return n&&t.push(new ic(n)),t},[]);return new nl(e,n)},al=sl,ul=function(t){return Promise.resolve(sl(t))};let cl=(()=>{class t{constructor(){this.compileModuleSync=il,this.compileModuleAsync=ol,this.compileModuleAndAllComponentsSync=al,this.compileModuleAndAllComponentsAsync=ul}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=b({token:t,factory:t.\u0275fac}),t})();const ll=(()=>Promise.resolve(0))();function hl(t){"undefined"==typeof Zone?ll.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class fl{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new wc(!1),this.onMicrotaskEmpty=new wc(!1),this.onStable=new wc(!1),this.onError=new wc(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const n=this;n._nesting=0,n._outer=n._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(n._inner=n._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(n._inner=n._inner.fork(Zone.longStackTraceZoneSpec)),n.shouldCoalesceEventChangeDetection=e,n.lastRequestAnimationFrameId=-1,n.nativeRequestAnimationFrame=function(){let t=V.requestAnimationFrame,e=V.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&e){const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function(t){const e=!!t.shouldCoalesceEventChangeDetection&&t.nativeRequestAnimationFrame&&(()=>{!function(t){-1===t.lastRequestAnimationFrameId&&(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(V,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,gl(t),pl(t)},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),gl(t))}(t)});t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0,maybeDelayChangeDetection:e},onInvokeTask:(n,r,i,o,s,a)=>{try{return ml(t),n.invokeTask(i,o,s,a)}finally{e&&"eventTask"===o.type&&e(),bl(t)}},onInvoke:(e,n,r,i,o,s,a)=>{try{return ml(t),e.invoke(r,i,o,s,a)}finally{bl(t)}},onHasTask:(e,n,r,i)=>{e.hasTask(r,i),n===r&&("microTask"==i.change?(t._hasPendingMicrotasks=i.microTask,gl(t),pl(t)):"macroTask"==i.change&&(t.hasPendingMacrotasks=i.macroTask))},onHandleError:(e,n,r,i)=>(e.handleError(r,i),t.runOutsideAngular(()=>t.onError.emit(i)),!1)})}(n)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!fl.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(fl.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,e,n){return this._inner.run(t,e,n)}runTask(t,e,n,r){const i=this._inner,o=i.scheduleEventTask("NgZoneEvent: "+r,t,dl,cu,cu);try{return i.runTask(o,e,n)}finally{i.cancelTask(o)}}runGuarded(t,e,n){return this._inner.runGuarded(t,e,n)}runOutsideAngular(t){return this._outer.run(t)}}const dl={};function pl(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function gl(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||t.shouldCoalesceEventChangeDetection&&-1!==t.lastRequestAnimationFrameId)}function ml(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function bl(t){t._nesting--,pl(t)}class yl{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new wc,this.onMicrotaskEmpty=new wc,this.onStable=new wc,this.onError=new wc}run(t,e,n){return t.apply(e,n)}runGuarded(t,e,n){return t.apply(e,n)}runOutsideAngular(t){return t()}runTask(t,e,n,r){return t.apply(e,n)}}let vl=(()=>{class t{constructor(t){this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{fl.assertNotInAngularZone(),hl(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())hl(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(e=>!e.updateCb||!e.updateCb(t)||(clearTimeout(e.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,e,n){let r=-1;e&&e>0&&(r=setTimeout(()=>{this._callbacks=this._callbacks.filter(t=>t.timeoutId!==r),t(this._didWork,this.getPendingTasks())},e)),this._callbacks.push({doneCb:t,timeoutId:r,updateCb:n})}whenStable(t,e,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(t,e,n),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(t,e,n){return[]}}return t.\u0275fac=function(e){return new(e||t)(An(fl))},t.\u0275prov=b({token:t,factory:t.\u0275fac}),t})(),wl=(()=>{class t{constructor(){this._applications=new Map,Cl.addToWindow(this)}registerApplication(t,e){this._applications.set(t,e)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,e=!0){return Cl.findTestabilityInTree(this,t,e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=b({token:t,factory:t.\u0275fac}),t})();class _l{addToWindow(t){}findTestabilityInTree(t,e,n){return null}}function Ol(t){Cl=t}let El,Cl=new _l,xl=!0,Sl=!1;function Tl(){return Sl=!0,xl}function Il(){if(Sl)throw new Error("Cannot enable prod mode after platform setup.");xl=!1}const kl=new an("AllowMultipleToken");class Al{constructor(t,e){this.name=t,this.token=e}}function Dl(t,e,n=[]){const r="Platform: "+e,i=new an(r);return(e=[])=>{let o=jl();if(!o||o.injector.get(kl,!1))if(t)t(n.concat(e).concat({provide:i,useValue:!0}));else{const t=n.concat(e).concat({provide:i,useValue:!0},{provide:Co,useValue:"platform"});!function(t){if(El&&!El.destroyed&&!El.injector.get(kl,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");El=t.get(Nl);const e=t.get(Yc,null);e&&e.forEach(t=>t())}(Lo.create({providers:t,name:r}))}return function(t){const e=jl();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(i)}}function jl(){return El&&!El.destroyed?El:null}let Nl=(()=>{class t{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,e){const n=function(t,e){let n;return n="noop"===t?new yl:("zone.js"===t?void 0:t)||new fl({enableLongStackTrace:Tl(),shouldCoalesceEventChangeDetection:e}),n}(e?e.ngZone:void 0,e&&e.ngZoneEventCoalescing||!1),r=[{provide:fl,useValue:n}];return n.run(()=>{const e=Lo.create({providers:r,parent:this.injector,name:t.moduleType.name}),i=t.create(e),o=i.injector.get(Er,null);if(!o)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return n.runOutsideAngular(()=>{const t=n.onError.subscribe({next:t=>{o.handleError(t)}});i.onDestroy(()=>{Ml(this._modules,i),t.unsubscribe()})}),function(t,e,n){try{const r=n();return fs(r)?r.catch(n=>{throw e.runOutsideAngular(()=>t.handleError(n)),n}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(o,n,()=>{const t=i.injector.get(Gc);return t.runInitializers(),t.donePromise.then(()=>(ha(i.injector.get(tl,sa)||sa),this._moduleDoBootstrap(i),i))})})}bootstrapModule(t,e=[]){const n=Pl({},e);return function(t,e,n){const r=new uc(n);return Promise.resolve(r)}(0,0,t).then(t=>this.bootstrapModuleFactory(t,n))}_moduleDoBootstrap(t){const e=t.injector.get(Rl);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(t=>e.bootstrap(t));else{if(!t.instance.ngDoBootstrap)throw new Error(`The module ${l(t.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);t.instance.ngDoBootstrap(e)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(t=>t.destroy()),this._destroyListeners.forEach(t=>t()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(e){return new(e||t)(An(Lo))},t.\u0275prov=b({token:t,factory:t.\u0275fac}),t})();function Pl(t,e){return Array.isArray(e)?e.reduce(Pl,t):Object.assign(Object.assign({},t),e)}let Rl=(()=>{class t{constructor(t,e,n,r,i,u){this._zone=t,this._console=e,this._injector=n,this._exceptionHandler=r,this._componentFactoryResolver=i,this._initStatus=u,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const c=new o.a(t=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{t.next(this._stable),t.complete()})}),l=new o.a(t=>{let e;this._zone.runOutsideAngular(()=>{e=this._zone.onStable.subscribe(()=>{fl.assertNotInAngularZone(),hl(()=>{this._stable||this._zone.hasPendingMacrotasks||this._zone.hasPendingMicrotasks||(this._stable=!0,t.next(!0))})})});const n=this._zone.onUnstable.subscribe(()=>{fl.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{t.next(!1)}))});return()=>{e.unsubscribe(),n.unsubscribe()}});this.isStable=Object(s.a)(c,l.pipe(Object(a.a)()))}bootstrap(t,e){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let n;n=t instanceof su?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(n.componentType);const r=n.isBoundToModule?void 0:this._injector.get(Wu),i=n.create(Lo.NULL,[],e||n.selector,r),o=i.location.nativeElement,s=i.injector.get(vl,null),a=s&&i.injector.get(wl);return s&&a&&a.registerApplication(o,s),i.onDestroy(()=>{this.detachView(i.hostView),Ml(this.components,i),a&&a.unregisterApplication(o)}),this._loadComponent(i),Tl()&&this._console.log("Angular is running in development mode. Call enableProdMode() to enable production mode."),i}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const e=t;this._views.push(e),e.attachToAppRef(this)}detachView(t){const e=t;Ml(this._views,e),e.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(Qc,[]).concat(this._bootstrapListeners).forEach(e=>e(t))}ngOnDestroy(){this._views.slice().forEach(t=>t.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return t.\u0275fac=function(e){return new(e||t)(An(fl),An(Xc),An(Lo),An(Er),An(uu),An(Gc))},t.\u0275prov=b({token:t,factory:t.\u0275fac}),t})();function Ml(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class Vl{}class Ll{}const Fl={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let Ul=(()=>{class t{constructor(t,e){this._compiler=t,this._config=e||Fl}load(t){return this.loadAndCompile(t)}loadAndCompile(t){let[e,r]=t.split("#");return void 0===r&&(r="default"),n("zn8P")(e).then(t=>t[r]).then(t=>Hl(t,e,r)).then(t=>this._compiler.compileModuleAsync(t))}loadFactory(t){let[e,r]=t.split("#"),i="NgFactory";return void 0===r&&(r="default",i=""),n("zn8P")(this._config.factoryPathPrefix+e+this._config.factoryPathSuffix).then(t=>t[r+i]).then(t=>Hl(t,e,r))}}return t.\u0275fac=function(e){return new(e||t)(An(cl),An(Ll,8))},t.\u0275prov=b({token:t,factory:t.\u0275fac}),t})();function Hl(t,e,n){if(!t)throw new Error(`Cannot find '${n}' in '${e}'`);return t}const zl=function(t){return null},ql=Dl(null,"core",[{provide:Jc,useValue:"unknown"},{provide:Nl,deps:[Lo]},{provide:wl,deps:[]},{provide:Xc,deps:[]}]),Bl=[{provide:Rl,useClass:Rl,deps:[fl,Xc,Lo,Er,uu,Gc]},{provide:rc,deps:[fl],useFactory:function(t){let e=[];return t.onStable.subscribe(()=>{for(;e.length;)e.pop()()}),function(t){e.push(t)}}},{provide:Gc,useClass:Gc,deps:[[new vn,Wc]]},{provide:cl,useClass:cl,deps:[]},Kc,{provide:ku,useFactory:function(){return Lu},deps:[]},{provide:Au,useFactory:function(){return Fu},deps:[]},{provide:tl,useFactory:function(t){return ha(t=t||"undefined"!=typeof $localize&&$localize.locale||sa),t},deps:[[new yn(tl),new vn,new _n]]},{provide:el,useValue:"USD"}];let Wl=(()=>{class t{constructor(t){}}return t.\u0275mod=Q({type:t}),t.\u0275inj=y({factory:function(e){return new(e||t)(An(Rl))},providers:Bl}),t})()},gRHU:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("2fFW"),i=n("NJ4a");const o={closed:!0,next(t){},error(t){if(r.a.useDeprecatedSynchronousErrorHandling)throw t;Object(i.a)(t)},complete(){}}},jZKg:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("HDdC"),i=n("quSY");function o(t,e){return new r.a(n=>{const r=new i.a;let o=0;return r.add(e.schedule(function(){o!==t.length?(n.next(t[o++]),n.closed||r.add(this.schedule())):n.complete()})),r})}},kJWO:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>"function"==typeof Symbol&&Symbol.observable||"@@observable")()},lJxs:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("7o/Q");function i(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new o(t,e))}}class o{constructor(t,e){this.project=t,this.thisArg=e}call(t,e){return e.subscribe(new s(t,this.project,this.thisArg))}}class s extends r.a{constructor(t,e,n){super(t),this.project=e,this.count=0,this.thisArg=n||this}_next(t){let e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}},n6bG:function(t,e,n){"use strict";function r(t){return"function"==typeof t}n.d(e,"a",function(){return r})},ngJS:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=t=>e=>{for(let n=0,r=t.length;n<r&&!e.closed;n++)e.next(t[n]);e.complete()}},os0x:function(t,e,n){"use strict";n.d(e,"c",function(){return i}),n.d(e,"a",function(){return o}),n.d(e,"b",function(){return s}),n.d(e,"d",function(){return a}),n.d(e,"h",function(){return u}),n.d(e,"e",function(){return c}),n.d(e,"f",function(){return l}),n.d(e,"g",function(){return h});var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function i(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var o=function(){return(o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function s(t,e,n,r){return new(n||(n=Promise))(function(i,o){function s(t){try{u(r.next(t))}catch(e){o(e)}}function a(t){try{u(r.throw(t))}catch(e){o(e)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}u((r=r.apply(t,e||[])).next())})}function a(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}function u(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function c(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}function l(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(c(arguments[e]));return t}function h(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}},pxpQ:function(t,e,n){"use strict";n.d(e,"b",function(){return o}),n.d(e,"a",function(){return a});var r=n("7o/Q"),i=n("WMd4");function o(t,e=0){return function(n){return n.lift(new s(t,e))}}class s{constructor(t,e=0){this.scheduler=t,this.delay=e}call(t,e){return e.subscribe(new a(t,this.scheduler,this.delay))}}class a extends r.a{constructor(t,e,n=0){super(t),this.scheduler=e,this.delay=n}static dispatch(t){const{notification:e,destination:n}=t;e.observe(n),this.unsubscribe()}scheduleMessage(t){this.destination.add(this.scheduler.schedule(a.dispatch,this.delay,new u(t,this.destination)))}_next(t){this.scheduleMessage(i.a.createNext(t))}_error(t){this.scheduleMessage(i.a.createError(t)),this.unsubscribe()}_complete(){this.scheduleMessage(i.a.createComplete()),this.unsubscribe()}}class u{constructor(t,e){this.notification=t,this.destination=e}}},"q/0M":function(t,e,n){"use strict";function r(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}var i;n.d(e,"a",function(){return s}),n.d(e,"b",function(){return h}),n.d(e,"c",function(){return f}),n.d(e,"d",function(){return d});var o=[],s=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}({}),a={debug:s.DEBUG,verbose:s.VERBOSE,info:s.INFO,warn:s.WARN,error:s.ERROR,silent:s.SILENT},u=s.INFO,c=((i={})[s.DEBUG]="log",i[s.VERBOSE]="log",i[s.INFO]="info",i[s.WARN]="warn",i[s.ERROR]="error",i),l=function(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(e<t.logLevel)){var o=(new Date).toISOString(),s=c[e];if(!s)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[s].apply(console,r(["["+o+"]  "+t.name+":"],n))}},h=function(){function t(t){this.name=t,this._logLevel=u,this._logHandler=l,this._userLogHandler=null,o.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in s))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),t.prototype.setLogLevel=function(t){this._logLevel="string"==typeof t?a[t]:t},Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.DEBUG],t)),this._logHandler.apply(this,r([this,s.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.VERBOSE],t)),this._logHandler.apply(this,r([this,s.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.INFO],t)),this._logHandler.apply(this,r([this,s.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.WARN],t)),this._logHandler.apply(this,r([this,s.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.ERROR],t)),this._logHandler.apply(this,r([this,s.ERROR],t))},t}();function f(t){o.forEach(function(e){e.setLogLevel(t)})}function d(t,e){for(var n=function(n){var r=null;e&&e.level&&(r=a[e.level]),n.userLogHandler=null===t?null:function(e,n){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];var a=i.map(function(t){if(null==t)return null;if("string"==typeof t)return t;if("number"==typeof t||"boolean"==typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(e){return null}}).filter(function(t){return t}).join(" ");n>=(null!=r?r:e.logLevel)&&t({level:s[n].toLowerCase(),message:a,args:i,type:e.name})}},r=0,i=o;r<i.length;r++)n(i[r])}},qOnz:function(t,e,n){"use strict";n.d(e,"a",function(){return s}),n.d(e,"b",function(){return b}),n.d(e,"c",function(){return w}),n.d(e,"d",function(){return _}),n.d(e,"e",function(){return i}),n.d(e,"f",function(){return o}),n.d(e,"g",function(){return a}),n.d(e,"h",function(){return l}),n.d(e,"i",function(){return h}),n.d(e,"j",function(){return d}),n.d(e,"k",function(){return p}),n.d(e,"l",function(){return u}),n.d(e,"m",function(){return c}),n.d(e,"n",function(){return f}),n.d(e,"o",function(){return g});var r=n("os0x");function i(t){return o(void 0,t)}function o(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&"__proto__"!==n&&(t[n]=o(t[n],e[n]));return t}var s=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"==typeof t&&(e.promise.catch(function(){}),1===t.length?t(n):t(n,r))}},t}();function a(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function u(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(a())}function c(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(t){return!1}}function l(){return"object"==typeof self&&self.self===self}function h(){var t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function f(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function d(){return a().indexOf("Electron/")>=0}function p(){var t=a();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function g(){return a().indexOf("MSAppHost/")>=0}var m=function(t){function e(n,r,i){var o=t.call(this,r)||this;return o.code=n,o.customData=i,o.name="FirebaseError",Object.setPrototypeOf(o,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(o,b.prototype.create),o}return Object(r.c)(e,t),e}(Error),b=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=e[0]||{},i=this.service+"/"+t,o=this.errors[t],s=o?y(o,r):"Error",a=this.serviceName+": "+s+" ("+i+").",u=new m(i,a,r);return u},t}();function y(t,e){return t.replace(v,function(t,n){var r=e[n];return null!=r?String(r):"<"+n+"?>"})}var v=/\{\$([^}]+)}/g;function w(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function _(t,e){var n=new O(t,e);return n.subscribe.bind(n)}var O=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(function(){t(n)}).catch(function(t){n.error(t)})}return t.prototype.next=function(t){this.forEachObserver(function(e){e.next(t)})},t.prototype.error=function(t){this.forEachObserver(function(e){e.error(t)}),this.close(t)},t.prototype.complete=function(){this.forEachObserver(function(t){t.complete()}),this.close()},t.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,r=["next","error","complete"];n<r.length;n++){var i=r[n];if(i in t&&"function"==typeof t[i])return!0}return!1}(t)?t:{next:t,error:e,complete:n}).next&&(r.next=E),void 0===r.error&&(r.error=E),void 0===r.complete&&(r.complete=E);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(t){}}),this.observers.push(r),o},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then(function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(r){"undefined"!=typeof console&&console.error&&console.error(r)}})},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then(function(){e.observers=void 0,e.onNoObservers=void 0}))},t}();function E(){}},qgXg:function(t,e,n){"use strict";n.d(e,"b",function(){return a}),n.d(e,"a",function(){return u});var r=n("3N8a");class i extends r.a{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}schedule(t,e=0){return e>0?super.schedule(t,e):(this.delay=e,this.state=t,this.scheduler.flush(this),this)}execute(t,e){return e>0||this.closed?super.execute(t,e):this._execute(t,e)}requestAsyncId(t,e,n=0){return null!==n&&n>0||null===n&&this.delay>0?super.requestAsyncId(t,e,n):t.flush(this)}}var o=n("IjjT");class s extends o.a{}const a=new s(i),u=a},quSY:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("DH7j"),i=n("XoHu"),o=n("n6bG");const s=(()=>{function t(t){return Error.call(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((t,e)=>`${e+1}) ${t.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t})();let a=(()=>{class t{constructor(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._ctorUnsubscribe=!0,this._unsubscribe=t)}unsubscribe(){let e;if(this.closed)return;let{_parentOrParents:n,_ctorUnsubscribe:a,_unsubscribe:c,_subscriptions:l}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof t)n.remove(this);else if(null!==n)for(let t=0;t<n.length;++t)n[t].remove(this);if(Object(o.a)(c)){a&&(this._unsubscribe=void 0);try{c.call(this)}catch(h){e=h instanceof s?u(h.errors):[h]}}if(Object(r.a)(l)){let t=-1,n=l.length;for(;++t<n;){const n=l[t];if(Object(i.a)(n))try{n.unsubscribe()}catch(h){e=e||[],h instanceof s?e=e.concat(u(h.errors)):e.push(h)}}}if(e)throw new s(e)}add(e){let n=e;if(!e)return t.EMPTY;switch(typeof e){case"function":n=new t(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){const e=n;n=new t,n._subscriptions=[e]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}let{_parentOrParents:r}=n;if(null===r)n._parentOrParents=this;else if(r instanceof t){if(r===this)return n;n._parentOrParents=[r,this]}else{if(-1!==r.indexOf(this))return n;r.push(this)}const i=this._subscriptions;return null===i?this._subscriptions=[n]:i.push(n),n}remove(t){const e=this._subscriptions;if(e){const n=e.indexOf(t);-1!==n&&e.splice(n,1)}}}var e;return t.EMPTY=((e=new t).closed=!0,e),t})();function u(t){return t.reduce((t,e)=>t.concat(e instanceof s?e.errors:e),[])}},spgP:function(t,e,n){"use strict";(function(t){n.d(e,"a",function(){return S}),n.d(e,"b",function(){return v}),n.d(e,"c",function(){return y}),n.d(e,"d",function(){return d}),n.d(e,"e",function(){return b}),n.d(e,"f",function(){return C}),n.d(e,"g",function(){return _}),n.d(e,"h",function(){return p}),n.d(e,"i",function(){return m}),n.d(e,"j",function(){return O});var r=n("qgXg"),i=n("D0XW"),o=n("vkgz"),s=n("tf+s"),a=n("pxpQ"),u=n("fXoL"),c=n("Jgta");function l(){}class h{constructor(t,e=r.b){this.zone=t,this.delegate=e}now(){return this.delegate.now()}schedule(t,e,n){const r=this.zone;return this.delegate.schedule(function(e){r.runGuarded(()=>{t.apply(this,[e])})},e,n)}}class f{constructor(t){this.zone=t,this.task=null}call(t,e){const n=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",l,{},l,l)),e.pipe(Object(o.a)({next:n,complete:n,error:n})).subscribe(t).add(n)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}class d{constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new h(Zone.current)),this.insideAngular=t.run(()=>new h(Zone.current,i.b))}}function p(t){return function(e){return(e=e.lift(new f(t.ngZone))).pipe(Object(s.a)(t.outsideAngular),Object(a.b)(t.insideAngular))}}const g=["ngOnDestroy"],m=(t,e,n,r={})=>new Proxy(t,{get:(i,o)=>n.runOutsideAngular(()=>{var i;if(t[o])return(null===(i=null==r?void 0:r.spy)||void 0===i?void 0:i.get)&&r.spy.get(o,t[o]),t[o];if(g.indexOf(o)>-1)return()=>{};const s=e.toPromise().then(t=>{const e=t&&t[o];return"function"==typeof e?e.bind(t):e&&e.then?e.then(t=>n.run(()=>t)):n.run(()=>e)});return new Proxy(()=>{},{get:(t,e)=>s[e],apply:(t,e,n)=>s.then(t=>{var e;const i=t&&t(...n);return(null===(e=null==r?void 0:r.spy)||void 0===e?void 0:e.apply)&&r.spy.apply(o,n,i),i})})})}),b=(t,e)=>{e.forEach(e=>{Object.getOwnPropertyNames(e.prototype||e).forEach(n=>{Object.defineProperty(t.prototype,n,Object.getOwnPropertyDescriptor(e.prototype||e,n))})})},y=new u.q("angularfire2.app.options"),v=new u.q("angularfire2.app.nameOrConfig"),w=new u.O("6.1.4");function _(e,n,r){const i="object"==typeof r&&r||{};i.name=i.name||"string"==typeof r&&r||"[DEFAULT]";const o=c.a.apps.filter(t=>t&&t.name===i.name)[0]||n.runOutsideAngular(()=>c.a.initializeApp(e,i));try{JSON.stringify(e)!==JSON.stringify(o.options)&&E("error",`${o.name} Firebase App already initialized with different options${t.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(s){}return o}const O=()=>{E("warn","You may need to import 'firebase/auth' manually in your component rather than rely on AngularFireAuth's dynamic import, when using the emulator suite https://github.com/angular/angularfire/issues/2656")},E=(t,...e)=>{Object(u.U)()&&"undefined"!=typeof console&&console[t](...e)};function C(e,n,r,i,o){const[s,...a]=globalThis.\u0275AngularfireInstanceCache.get(e)||[];if(s){try{o.some((t,e)=>{const n=a[e];return t&&"object"==typeof t?JSON.stringify(t)!==JSON.stringify(n):t!==n})&&E("error",`${n} was already initialized on the ${r.name} Firebase App instance with different settings.${t.hot?" You may need to reload as Firebase is not HMR aware.":""}`)}catch(u){}return s}{const t=i();return globalThis.\u0275AngularfireInstanceCache.set(e,[t,...o]),t}}globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=new Map);const x={provide:class{},useFactory:_,deps:[y,u.z,[new u.A,v]]};let S=(()=>{class t{constructor(t){c.a.registerVersion("angularfire",w.full,t.toString()),c.a.registerVersion("angular",u.N.full)}static initializeApp(e,n){return{ngModule:t,providers:[{provide:y,useValue:e},{provide:v,useValue:n}]}}}return t.\u0275mod=u.Ib({type:t}),t.\u0275inj=u.Hb({factory:function(e){return new(e||t)(u.Wb(u.B))},providers:[x]}),t})()}).call(this,n("3UD+")(t))},"tf+s":function(t,e,n){"use strict";n.d(e,"a",function(){return m});var r=n("HDdC");let i=1;const o=(()=>Promise.resolve())(),s={};function a(t){return t in s&&(delete s[t],!0)}const u={setImmediate(t){const e=i++;return s[e]=!0,o.then(()=>a(e)&&t()),e},clearImmediate(t){a(t)}};var c=n("3N8a");class l extends c.a{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,n=0){return null!==n&&n>0?super.requestAsyncId(t,e,n):(t.actions.push(this),t.scheduled||(t.scheduled=u.setImmediate(t.flush.bind(t,null))))}recycleAsyncId(t,e,n=0){if(null!==n&&n>0||null===n&&this.delay>0)return super.recycleAsyncId(t,e,n);0===t.actions.length&&(u.clearImmediate(e),t.scheduled=void 0)}}var h=n("IjjT");class f extends h.a{flush(t){this.active=!0,this.scheduled=void 0;const{actions:e}=this;let n,r=-1,i=e.length;t=t||e.shift();do{if(n=t.execute(t.state,t.delay))break}while(++r<i&&(t=e.shift()));if(this.active=!1,n){for(;++r<i&&(t=e.shift());)t.unsubscribe();throw n}}}const d=new f(l);var p=n("Y7HM");class g extends r.a{constructor(t,e=0,n=d){super(),this.source=t,this.delayTime=e,this.scheduler=n,(!Object(p.a)(e)||e<0)&&(this.delayTime=0),n&&"function"==typeof n.schedule||(this.scheduler=d)}static create(t,e=0,n=d){return new g(t,e,n)}static dispatch(t){const{source:e,subscriber:n}=t;return this.add(e.subscribe(n))}_subscribe(t){return this.scheduler.schedule(g.dispatch,this.delayTime,{source:this.source,subscriber:t})}}function m(t,e=0){return function(n){return n.lift(new b(t,e))}}class b{constructor(t,e){this.scheduler=t,this.delay=e}call(t,e){return new g(e,this.delay,this.scheduler).subscribe(t)}}},vkgz:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("7o/Q"),i=n("KqfI"),o=n("n6bG");function s(t,e,n){return function(r){return r.lift(new a(t,e,n))}}class a{constructor(t,e,n){this.nextOrObserver=t,this.error=e,this.complete=n}call(t,e){return e.subscribe(new u(t,this.nextOrObserver,this.error,this.complete))}}class u extends r.a{constructor(t,e,n,r){super(t),this._tapNext=i.a,this._tapError=i.a,this._tapComplete=i.a,this._tapError=n||i.a,this._tapComplete=r||i.a,Object(o.a)(e)?(this._context=this,this._tapNext=e):e&&(this._context=e,this._tapNext=e.next||i.a,this._tapError=e.error||i.a,this._tapComplete=e.complete||i.a)}_next(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)}_error(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)}_complete(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}},w1tV:function(t,e,n){"use strict";n.d(e,"a",function(){return p});var r=n("XNiG"),i=n("HDdC"),o=n("7o/Q"),s=n("quSY");function a(){return function(t){return t.lift(new u(t))}}class u{constructor(t){this.connectable=t}call(t,e){const{connectable:n}=this;n._refCount++;const r=new c(t,n),i=e.subscribe(r);return r.closed||(r.connection=n.connect()),i}}class c extends o.a{constructor(t,e){super(t),this.connectable=e}_unsubscribe(){const{connectable:t}=this;if(!t)return void(this.connection=null);this.connectable=null;const e=t._refCount;if(e<=0)return void(this.connection=null);if(t._refCount=e-1,e>1)return void(this.connection=null);const{connection:n}=this,r=t._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}class l extends i.a{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._refCount=0,this._isComplete=!1}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject}connect(){let t=this._connection;return t||(this._isComplete=!1,t=this._connection=new s.a,t.add(this.source.subscribe(new f(this.getSubject(),this))),t.closed&&(this._connection=null,t=s.a.EMPTY)),t}refCount(){return a()(this)}}const h=(()=>{const t=l.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:t._subscribe},_isComplete:{value:t._isComplete,writable:!0},getSubject:{value:t.getSubject},connect:{value:t.connect},refCount:{value:t.refCount}}})();class f extends r.b{constructor(t,e){super(t),this.connectable=e}_error(t){this._unsubscribe(),super._error(t)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const t=this.connectable;if(t){this.connectable=null;const e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}}}function d(){return new r.a}function p(){return t=>{return a()((e=d,function(t){let n;n="function"==typeof e?e:function(){return e};const r=Object.create(t,h);return r.source=t,r.subjectFactory=n,r})(t));var e}}},yCtX:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("HDdC"),i=n("ngJS"),o=n("jZKg");function s(t,e){return e?Object(o.a)(t,e):new r.a(Object(i.a)(t))}},"z+Ro":function(t,e,n){"use strict";function r(t){return t&&"function"==typeof t.schedule}n.d(e,"a",function(){return r})},zIRd:function(t,e,n){"use strict";var r,i,o=n("os0x"),s=n("qOnz"),a=n("/6Yf"),u=n("q/0M"),c=((r={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",r["bad-app-name"]="Illegal App name: '{$appName}",r["duplicate-app"]="Firebase App named '{$appName}' already exists",r["app-deleted"]="Firebase App named '{$appName}' already deleted",r["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",r["invalid-log-argument"]="First argument to `onLog` must be null or a function.",r),l=new s.b("app","Firebase",c),h="@firebase/app",f="[DEFAULT]",d=((i={})[h]="fire-core",i["@firebase/analytics"]="fire-analytics",i["@firebase/auth"]="fire-auth",i["@firebase/database"]="fire-rtdb",i["@firebase/functions"]="fire-fn",i["@firebase/installations"]="fire-iid",i["@firebase/messaging"]="fire-fcm",i["@firebase/performance"]="fire-perf",i["@firebase/remote-config"]="fire-rc",i["@firebase/storage"]="fire-gcs",i["@firebase/firestore"]="fire-fst",i["fire-js"]="fire-js",i["firebase-wrapper"]="fire-js-all",i),p=new u.b("@firebase/app"),g=function(){function t(t,e,n){var r,i,u=this;this.firebase_=n,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=Object(s.e)(t),this.container=new a.b(e.name),this._addComponent(new a.a("app",function(){return u},"PUBLIC"));try{for(var c=Object(o.h)(this.firebase_.INTERNAL.components.values()),l=c.next();!l.done;l=c.next())this._addComponent(l.value)}catch(h){r={error:h}}finally{try{l&&!l.done&&(i=c.return)&&i.call(c)}finally{if(r)throw r.error}}}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise(function(e){t.checkDestroyed_(),e()}).then(function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map(function(t){return t.delete()}))}).then(function(){t.isDeleted_=!0})},t.prototype._getService=function(t,e){return void 0===e&&(e=f),this.checkDestroyed_(),this.container.getProvider(t).getImmediate({identifier:e})},t.prototype._removeServiceInstance=function(t,e){void 0===e&&(e=f),this.container.getProvider(t).clearInstance(e)},t.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(e){p.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,e)}},t.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw l.create("app-deleted",{appName:this.name_})},t}();g.prototype.name&&g.prototype.options||g.prototype.delete||console.log("dc");var m=function t(){var e=function(t){var e={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={}),"object"==typeof i&&null!==i||(i={name:i});var o=i;void 0===o.name&&(o.name=f);var a=o.name;if("string"!=typeof a||!a)throw l.create("bad-app-name",{appName:String(a)});if(Object(s.c)(e,a))throw l.create("duplicate-app",{appName:a});var u=new t(n,o,r);return e[a]=u,u},app:i,registerVersion:function(t,e,n){var r,i=null!==(r=d[t])&&void 0!==r?r:t;n&&(i+="-"+n);var o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){var u=['Unable to register library "'+i+'" with version "'+e+'":'];return o&&u.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),o&&s&&u.push("and"),s&&u.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),void p.warn(u.join(" "))}c(new a.a(i+"-version",function(){return{library:i,version:e}},"VERSION"))},setLogLevel:u.c,onLog:function(t,e){if(null!==t&&"function"!=typeof t)throw l.create("invalid-log-argument",{appName:name});Object(u.d)(t,e)},apps:null,SDK_VERSION:"8.0.1",INTERNAL:{registerComponent:c,removeApp:function(t){delete e[t]},components:n,useAsService:function(t,e){return"serverAuth"===e?null:e}}};function i(t){if(t=t||f,!Object(s.c)(e,t))throw l.create("no-app",{appName:t});return e[t]}function c(a){var u,c,h=a.name;if(n.has(h))return p.debug("There were multiple attempts to register component "+h+"."),"PUBLIC"===a.type?r[h]:null;if(n.set(h,a),"PUBLIC"===a.type){var f=function(t){if(void 0===t&&(t=i()),"function"!=typeof t[h])throw l.create("invalid-app-argument",{appName:h});return t[h]()};void 0!==a.serviceProps&&Object(s.f)(f,a.serviceProps),r[h]=f,t.prototype[h]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this._getService.bind(this,h).apply(this,a.multipleInstances?t:[])}}try{for(var d=Object(o.h)(Object.keys(e)),g=d.next();!g.done;g=d.next())e[g.value]._addComponent(a)}catch(m){u={error:m}}finally{try{g&&!g.done&&(c=d.return)&&c.call(d)}finally{if(u)throw u.error}}return"PUBLIC"===a.type?r[h]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(e).map(function(t){return e[t]})}}),i.App=t,r}(g);return e.INTERNAL=Object(o.a)(Object(o.a)({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){Object(s.f)(e,t)},createSubscribe:s.d,ErrorFactory:s.b,deepExtend:s.f}),e}(),b=function(){function t(t){this.container=t}return t.prototype.getPlatformInfoString=function(){return this.container.getProviders().map(function(t){if(function(t){var e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}(t)){var e=t.getImmediate();return e.library+"/"+e.version}return null}).filter(function(t){return t}).join(" ")},t}();if(Object(s.h)()&&void 0!==self.firebase){p.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var y=self.firebase.SDK_VERSION;y&&y.indexOf("LITE")>=0&&p.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var v=m.initializeApp;m.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Object(s.m)()&&p.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),v.apply(void 0,t)};var w=m;!function(t,e){t.INTERNAL.registerComponent(new a.a("platform-logger",function(t){return new b(t)},"PRIVATE")),t.registerVersion(h,"0.6.13",void 0),t.registerVersion("fire-js","")}(w),e.a=w},zUnb:function(t,e,n){"use strict";n.r(e);var r=n("fXoL");const i={apiKey:"AIzaSyCzUpMkoP3mj1jAkpdJmcomXnBlG8fLUHA",authDomain:"todolist-51830.firebaseapp.com",projectId:"todolist-51830",storageBucket:"todolist-51830.appspot.com",messagingSenderId:"308669491137",appId:"1:308669491137:web:ebc1e4675409375815f140",measurementId:"G-KNL5GFF5M8"};let o=null;function s(){return o}const a=new r.q("DocumentToken");let u=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Gb)({factory:c,token:t,providedIn:"platform"}),t})();function c(){return Object(r.Wb)(h)}const l=new r.q("Location Initialized");let h=(()=>{class t extends u{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=s().getLocation(),this._history=s().getHistory()}getBaseHrefFromDOM(){return s().getBaseHref(this._doc)}onPopState(t){s().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",t,!1)}onHashChange(t){s().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",t,!1)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,e,n){f()?this._history.pushState(t,e,n):this.location.hash=n}replaceState(t,e,n){f()?this._history.replaceState(t,e,n):this.location.hash=n}forward(){this._history.forward()}back(){this._history.back()}getState(){return this._history.state}}return t.\u0275fac=function(e){return new(e||t)(r.Wb(a))},t.\u0275prov=Object(r.Gb)({factory:d,token:t,providedIn:"platform"}),t})();function f(){return!!window.history.pushState}function d(){return new h(Object(r.Wb)(a))}function p(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function g(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function m(t){return t&&"?"!==t[0]?"?"+t:t}let b=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Gb)({factory:y,token:t,providedIn:"root"}),t})();function y(t){const e=Object(r.Wb)(a).location;return new w(Object(r.Wb)(u),e&&e.origin||"")}const v=new r.q("appBaseHref");let w=(()=>{class t extends b{constructor(t,e){if(super(),this._platformLocation=t,null==e&&(e=this._platformLocation.getBaseHrefFromDOM()),null==e)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=e}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return p(this._baseHref,t)}path(t=!1){const e=this._platformLocation.pathname+m(this._platformLocation.search),n=this._platformLocation.hash;return n&&t?`${e}${n}`:e}pushState(t,e,n,r){const i=this.prepareExternalUrl(n+m(r));this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){const i=this.prepareExternalUrl(n+m(r));this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return t.\u0275fac=function(e){return new(e||t)(r.Wb(u),r.Wb(v,8))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})(),_=(()=>{class t extends b{constructor(t,e){super(),this._platformLocation=t,this._baseHref="",null!=e&&(this._baseHref=e)}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}path(t=!1){let e=this._platformLocation.hash;return null==e&&(e="#"),e.length>0?e.substring(1):e}prepareExternalUrl(t){const e=p(this._baseHref,t);return e.length>0?"#"+e:e}pushState(t,e,n,r){let i=this.prepareExternalUrl(n+m(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){let i=this.prepareExternalUrl(n+m(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return t.\u0275fac=function(e){return new(e||t)(r.Wb(u),r.Wb(v,8))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})(),O=(()=>{class t{constructor(t,e){this._subject=new r.n,this._urlChangeListeners=[],this._platformStrategy=t;const n=this._platformStrategy.getBaseHref();this._platformLocation=e,this._baseHref=g(C(n)),this._platformStrategy.onPopState(t=>{this._subject.emit({url:this.path(!0),pop:!0,state:t.state,type:t.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,e=""){return this.path()==this.normalize(t+m(e))}normalize(e){return t.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,C(e)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,e="",n=null){this._platformStrategy.pushState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+m(e)),n)}replaceState(t,e="",n=null){this._platformStrategy.replaceState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+m(e)),n)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(t=>{this._notifyUrlChangeListeners(t.url,t.state)}))}_notifyUrlChangeListeners(t="",e){this._urlChangeListeners.forEach(n=>n(t,e))}subscribe(t,e,n){return this._subject.subscribe({next:t,error:e,complete:n})}}return t.\u0275fac=function(e){return new(e||t)(r.Wb(b),r.Wb(u))},t.normalizeQueryParams=m,t.joinWithSlash=p,t.stripTrailingSlash=g,t.\u0275prov=Object(r.Gb)({factory:E,token:t,providedIn:"root"}),t})();function E(){return new O(Object(r.Wb)(b),Object(r.Wb)(u))}function C(t){return t.replace(/\/index.html$/,"")}var x=function(t){return t[t.Zero=0]="Zero",t[t.One=1]="One",t[t.Two=2]="Two",t[t.Few=3]="Few",t[t.Many=4]="Many",t[t.Other=5]="Other",t}({}),S=function(t){return t[t.Format=0]="Format",t[t.Standalone=1]="Standalone",t}({}),T=function(t){return t[t.Narrow=0]="Narrow",t[t.Abbreviated=1]="Abbreviated",t[t.Wide=2]="Wide",t[t.Short=3]="Short",t}({}),I=function(t){return t[t.Short=0]="Short",t[t.Medium=1]="Medium",t[t.Long=2]="Long",t[t.Full=3]="Full",t}({}),k=function(t){return t[t.Decimal=0]="Decimal",t[t.Group=1]="Group",t[t.List=2]="List",t[t.PercentSign=3]="PercentSign",t[t.PlusSign=4]="PlusSign",t[t.MinusSign=5]="MinusSign",t[t.Exponential=6]="Exponential",t[t.SuperscriptingExponent=7]="SuperscriptingExponent",t[t.PerMille=8]="PerMille",t[t[1/0]=9]="Infinity",t[t.NaN=10]="NaN",t[t.TimeSeparator=11]="TimeSeparator",t[t.CurrencyDecimal=12]="CurrencyDecimal",t[t.CurrencyGroup=13]="CurrencyGroup",t}({});function A(t,e,n){const i=Object(r.ib)(t),o=F([i[r.Z.DayPeriodsFormat],i[r.Z.DayPeriodsStandalone]],e);return F(o,n)}function D(t,e,n){const i=Object(r.ib)(t),o=F([i[r.Z.DaysFormat],i[r.Z.DaysStandalone]],e);return F(o,n)}function j(t,e,n){const i=Object(r.ib)(t),o=F([i[r.Z.MonthsFormat],i[r.Z.MonthsStandalone]],e);return F(o,n)}function N(t,e){return F(Object(r.ib)(t)[r.Z.DateFormat],e)}function P(t,e){return F(Object(r.ib)(t)[r.Z.TimeFormat],e)}function R(t,e){return F(Object(r.ib)(t)[r.Z.DateTimeFormat],e)}function M(t,e){const n=Object(r.ib)(t),i=n[r.Z.NumberSymbols][e];if(void 0===i){if(e===k.CurrencyDecimal)return n[r.Z.NumberSymbols][k.Decimal];if(e===k.CurrencyGroup)return n[r.Z.NumberSymbols][k.Group]}return i}const V=r.lb;function L(t){if(!t[r.Z.ExtraData])throw new Error(`Missing extra locale data for the locale "${t[r.Z.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function F(t,e){for(let n=e;n>-1;n--)if(void 0!==t[n])return t[n];throw new Error("Locale data API: locale data undefined")}function U(t){const[e,n]=t.split(":");return{hours:+e,minutes:+n}}const H=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,z={},q=/((?:[^GyYMLwWdEabBhHmsSzZO']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var B=function(t){return t[t.Short=0]="Short",t[t.ShortGMT=1]="ShortGMT",t[t.Long=2]="Long",t[t.Extended=3]="Extended",t}({}),W=function(t){return t[t.FullYear=0]="FullYear",t[t.Month=1]="Month",t[t.Date=2]="Date",t[t.Hours=3]="Hours",t[t.Minutes=4]="Minutes",t[t.Seconds=5]="Seconds",t[t.FractionalSeconds=6]="FractionalSeconds",t[t.Day=7]="Day",t}({}),G=function(t){return t[t.DayPeriods=0]="DayPeriods",t[t.Days=1]="Days",t[t.Months=2]="Months",t[t.Eras=3]="Eras",t}({});function $(t,e,n,r){let i=function(t){if(ot(t))return t;if("number"==typeof t&&!isNaN(t))return new Date(t);if("string"==typeof t){t=t.trim();const e=parseFloat(t);if(!isNaN(t-e))return new Date(e);if(/^(\d{4}-\d{1,2}-\d{1,2})$/.test(t)){const[e,n,r]=t.split("-").map(t=>+t);return new Date(e,n-1,r)}let n;if(n=t.match(H))return function(t){const e=new Date(0);let n=0,r=0;const i=t[8]?e.setUTCFullYear:e.setFullYear,o=t[8]?e.setUTCHours:e.setHours;t[9]&&(n=Number(t[9]+t[10]),r=Number(t[9]+t[11])),i.call(e,Number(t[1]),Number(t[2])-1,Number(t[3]));const s=Number(t[4]||0)-n,a=Number(t[5]||0)-r,u=Number(t[6]||0),c=Math.floor(1e3*parseFloat("0."+(t[7]||0)));return o.call(e,s,a,u,c),e}(n)}const e=new Date(t);if(!ot(e))throw new Error(`Unable to convert "${t}" into a date`);return e}(t);e=K(n,e)||e;let o,s=[];for(;e;){if(o=q.exec(e),!o){s.push(e);break}{s=s.concat(o.slice(1));const t=s.pop();if(!t)break;e=t}}let a=i.getTimezoneOffset();r&&(a=it(r,a),i=function(t,e,n){const r=t.getTimezoneOffset();return function(t,e){return(t=new Date(t.getTime())).setMinutes(t.getMinutes()+e),t}(t,-1*(it(e,r)-r))}(i,r));let u="";return s.forEach(t=>{const e=function(t){if(rt[t])return rt[t];let e;switch(t){case"G":case"GG":case"GGG":e=Q(G.Eras,T.Abbreviated);break;case"GGGG":e=Q(G.Eras,T.Wide);break;case"GGGGG":e=Q(G.Eras,T.Narrow);break;case"y":e=J(W.FullYear,1,0,!1,!0);break;case"yy":e=J(W.FullYear,2,0,!0,!0);break;case"yyy":e=J(W.FullYear,3,0,!1,!0);break;case"yyyy":e=J(W.FullYear,4,0,!1,!0);break;case"Y":e=nt(1);break;case"YY":e=nt(2,!0);break;case"YYY":e=nt(3);break;case"YYYY":e=nt(4);break;case"M":case"L":e=J(W.Month,1,1);break;case"MM":case"LL":e=J(W.Month,2,1);break;case"MMM":e=Q(G.Months,T.Abbreviated);break;case"MMMM":e=Q(G.Months,T.Wide);break;case"MMMMM":e=Q(G.Months,T.Narrow);break;case"LLL":e=Q(G.Months,T.Abbreviated,S.Standalone);break;case"LLLL":e=Q(G.Months,T.Wide,S.Standalone);break;case"LLLLL":e=Q(G.Months,T.Narrow,S.Standalone);break;case"w":e=et(1);break;case"ww":e=et(2);break;case"W":e=et(1,!0);break;case"d":e=J(W.Date,1);break;case"dd":e=J(W.Date,2);break;case"E":case"EE":case"EEE":e=Q(G.Days,T.Abbreviated);break;case"EEEE":e=Q(G.Days,T.Wide);break;case"EEEEE":e=Q(G.Days,T.Narrow);break;case"EEEEEE":e=Q(G.Days,T.Short);break;case"a":case"aa":case"aaa":e=Q(G.DayPeriods,T.Abbreviated);break;case"aaaa":e=Q(G.DayPeriods,T.Wide);break;case"aaaaa":e=Q(G.DayPeriods,T.Narrow);break;case"b":case"bb":case"bbb":e=Q(G.DayPeriods,T.Abbreviated,S.Standalone,!0);break;case"bbbb":e=Q(G.DayPeriods,T.Wide,S.Standalone,!0);break;case"bbbbb":e=Q(G.DayPeriods,T.Narrow,S.Standalone,!0);break;case"B":case"BB":case"BBB":e=Q(G.DayPeriods,T.Abbreviated,S.Format,!0);break;case"BBBB":e=Q(G.DayPeriods,T.Wide,S.Format,!0);break;case"BBBBB":e=Q(G.DayPeriods,T.Narrow,S.Format,!0);break;case"h":e=J(W.Hours,1,-12);break;case"hh":e=J(W.Hours,2,-12);break;case"H":e=J(W.Hours,1);break;case"HH":e=J(W.Hours,2);break;case"m":e=J(W.Minutes,1);break;case"mm":e=J(W.Minutes,2);break;case"s":e=J(W.Seconds,1);break;case"ss":e=J(W.Seconds,2);break;case"S":e=J(W.FractionalSeconds,1);break;case"SS":e=J(W.FractionalSeconds,2);break;case"SSS":e=J(W.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=X(B.Short);break;case"ZZZZZ":e=X(B.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=X(B.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=X(B.Long);break;default:return null}return rt[t]=e,e}(t);u+=e?e(i,n,a):"''"===t?"'":t.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),u}function K(t,e){const n=function(t){return Object(r.ib)(t)[r.Z.LocaleId]}(t);if(z[n]=z[n]||{},z[n][e])return z[n][e];let i="";switch(e){case"shortDate":i=N(t,I.Short);break;case"mediumDate":i=N(t,I.Medium);break;case"longDate":i=N(t,I.Long);break;case"fullDate":i=N(t,I.Full);break;case"shortTime":i=P(t,I.Short);break;case"mediumTime":i=P(t,I.Medium);break;case"longTime":i=P(t,I.Long);break;case"fullTime":i=P(t,I.Full);break;case"short":const e=K(t,"shortTime"),n=K(t,"shortDate");i=Z(R(t,I.Short),[e,n]);break;case"medium":const r=K(t,"mediumTime"),o=K(t,"mediumDate");i=Z(R(t,I.Medium),[r,o]);break;case"long":const s=K(t,"longTime"),a=K(t,"longDate");i=Z(R(t,I.Long),[s,a]);break;case"full":const u=K(t,"fullTime"),c=K(t,"fullDate");i=Z(R(t,I.Full),[u,c])}return i&&(z[n][e]=i),i}function Z(t,e){return e&&(t=t.replace(/\{([^}]+)}/g,function(t,n){return null!=e&&n in e?e[n]:t})),t}function Y(t,e,n="-",r,i){let o="";(t<0||i&&t<=0)&&(i?t=1-t:(t=-t,o=n));let s=String(t);for(;s.length<e;)s="0"+s;return r&&(s=s.substr(s.length-e)),o+s}function J(t,e,n=0,r=!1,i=!1){return function(o,s){let a=function(t,e){switch(t){case W.FullYear:return e.getFullYear();case W.Month:return e.getMonth();case W.Date:return e.getDate();case W.Hours:return e.getHours();case W.Minutes:return e.getMinutes();case W.Seconds:return e.getSeconds();case W.FractionalSeconds:return e.getMilliseconds();case W.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${t}".`)}}(t,o);if((n>0||a>-n)&&(a+=n),t===W.Hours)0===a&&-12===n&&(a=12);else if(t===W.FractionalSeconds)return u=e,Y(a,3).substr(0,u);var u;const c=M(s,k.MinusSign);return Y(a,e,c,r,i)}}function Q(t,e,n=S.Format,i=!1){return function(o,s){return function(t,e,n,i,o,s){switch(n){case G.Months:return j(e,o,i)[t.getMonth()];case G.Days:return D(e,o,i)[t.getDay()];case G.DayPeriods:const a=t.getHours(),u=t.getMinutes();if(s){const t=function(t){const e=Object(r.ib)(t);return L(e),(e[r.Z.ExtraData][2]||[]).map(t=>"string"==typeof t?U(t):[U(t[0]),U(t[1])])}(e),n=function(t,e,n){const i=Object(r.ib)(t);L(i);const o=F([i[r.Z.ExtraData][0],i[r.Z.ExtraData][1]],e)||[];return F(o,n)||[]}(e,o,i),s=t.findIndex(t=>{if(Array.isArray(t)){const[e,n]=t,r=a>=e.hours&&u>=e.minutes,i=a<n.hours||a===n.hours&&u<n.minutes;if(e.hours<n.hours){if(r&&i)return!0}else if(r||i)return!0}else if(t.hours===a&&t.minutes===u)return!0;return!1});if(-1!==s)return n[s]}return A(e,o,i)[a<12?0:1];case G.Eras:return function(t,e){return F(Object(r.ib)(t)[r.Z.Eras],e)}(e,i)[t.getFullYear()<=0?0:1];default:throw new Error("unexpected translation type "+n)}}(o,s,t,e,n,i)}}function X(t){return function(e,n,r){const i=-1*r,o=M(n,k.MinusSign),s=i>0?Math.floor(i/60):Math.ceil(i/60);switch(t){case B.Short:return(i>=0?"+":"")+Y(s,2,o)+Y(Math.abs(i%60),2,o);case B.ShortGMT:return"GMT"+(i>=0?"+":"")+Y(s,1,o);case B.Long:return"GMT"+(i>=0?"+":"")+Y(s,2,o)+":"+Y(Math.abs(i%60),2,o);case B.Extended:return 0===r?"Z":(i>=0?"+":"")+Y(s,2,o)+":"+Y(Math.abs(i%60),2,o);default:throw new Error(`Unknown zone width "${t}"`)}}}function tt(t){return new Date(t.getFullYear(),t.getMonth(),t.getDate()+(4-t.getDay()))}function et(t,e=!1){return function(n,r){let i;if(e){const t=new Date(n.getFullYear(),n.getMonth(),1).getDay()-1,e=n.getDate();i=1+Math.floor((e+t)/7)}else{const t=tt(n),e=function(t){const e=new Date(t,0,1).getDay();return new Date(t,0,1+(e<=4?4:11)-e)}(t.getFullYear()),r=t.getTime()-e.getTime();i=1+Math.round(r/6048e5)}return Y(i,t,M(r,k.MinusSign))}}function nt(t,e=!1){return function(n,r){return Y(tt(n).getFullYear(),t,M(r,k.MinusSign),e)}}const rt={};function it(t,e){t=t.replace(/:/g,"");const n=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return isNaN(n)?e:n}function ot(t){return t instanceof Date&&!isNaN(t.valueOf())}class st{}let at=(()=>{class t extends st{constructor(t){super(),this.locale=t}getPluralCategory(t,e){switch(V(e||this.locale)(t)){case x.Zero:return"zero";case x.One:return"one";case x.Two:return"two";case x.Few:return"few";case x.Many:return"many";default:return"other"}}}return t.\u0275fac=function(e){return new(e||t)(r.Wb(r.u))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})();class ut{constructor(t,e,n,r){this.$implicit=t,this.ngForOf=e,this.index=n,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let ct=(()=>{class t{constructor(t,e,n){this._viewContainer=t,this._template=e,this._differs=n,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;if(!this._differ&&n)try{this._differ=this._differs.find(n).create(this.ngForTrackBy)}catch(e){throw new Error(`Cannot find a differ supporting object '${n}' of type '${t=n,t.name||typeof t}'. NgFor only supports binding to Iterables such as Arrays.`)}}var t;if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const e=[];t.forEachOperation((t,n,r)=>{if(null==t.previousIndex){const n=this._viewContainer.createEmbeddedView(this._template,new ut(null,this._ngForOf,-1,-1),null===r?void 0:r),i=new lt(t,n);e.push(i)}else if(null==r)this._viewContainer.remove(null===n?void 0:n);else if(null!==n){const i=this._viewContainer.get(n);this._viewContainer.move(i,r);const o=new lt(t,i);e.push(o)}});for(let n=0;n<e.length;n++)this._perViewChange(e[n].view,e[n].record);for(let n=0,r=this._viewContainer.length;n<r;n++){const t=this._viewContainer.get(n);t.context.index=n,t.context.count=r,t.context.ngForOf=this._ngForOf}t.forEachIdentityChange(t=>{this._viewContainer.get(t.currentIndex).context.$implicit=t.item})}_perViewChange(t,e){t.context.$implicit=e.item}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(r.P),r.Kb(r.K),r.Kb(r.s))},t.\u0275dir=r.Fb({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),t})();class lt{constructor(t,e){this.record=t,this.view=e}}let ht=(()=>{class t{constructor(t,e){this._viewContainer=t,this._context=new ft,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=e}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){dt("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){dt("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(r.P),r.Kb(r.K))},t.\u0275dir=r.Fb({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),t})();class ft{constructor(){this.$implicit=null,this.ngIf=null}}function dt(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${Object(r.tb)(e)}'.`)}let pt=(()=>{class t{constructor(t){this._viewContainerRef=t,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null}ngOnChanges(t){if(this._shouldRecreateView(t)){const t=this._viewContainerRef;this._viewRef&&t.remove(t.indexOf(this._viewRef)),this._viewRef=this.ngTemplateOutlet?t.createEmbeddedView(this.ngTemplateOutlet,this.ngTemplateOutletContext):null}else this._viewRef&&this.ngTemplateOutletContext&&this._updateExistingContext(this.ngTemplateOutletContext)}_shouldRecreateView(t){const e=t.ngTemplateOutletContext;return!!t.ngTemplateOutlet||e&&this._hasContextShapeChanged(e)}_hasContextShapeChanged(t){const e=Object.keys(t.previousValue||{}),n=Object.keys(t.currentValue||{});if(e.length===n.length){for(let t of n)if(-1===e.indexOf(t))return!0;return!1}return!0}_updateExistingContext(t){for(let e of Object.keys(t))this._viewRef.context[e]=this.ngTemplateOutletContext[e]}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(r.P))},t.\u0275dir=r.Fb({type:t,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet"},features:[r.wb]}),t})(),gt=(()=>{class t{}return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)},providers:[{provide:st,useClass:at}]}),t})();function mt(t){return"server"===t}let bt=(()=>{class t{}return t.\u0275prov=Object(r.Gb)({token:t,providedIn:"root",factory:()=>new yt(Object(r.Wb)(a),window,Object(r.Wb)(r.m))}),t})();class yt{constructor(t,e,n){this.document=t,this.window=e,this.errorHandler=n,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(this.supportsScrolling()){const e=this.document.getElementById(t)||this.document.getElementsByName(t)[0];e&&this.scrollToElement(e)}}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),n=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(n-i[0],r-i[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=vt(this.window.history)||vt(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch(t){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(t){return!1}}}function vt(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}var wt=n("LRne"),_t=n("Cfvw"),Ot=n("XNiG"),Et=n("9ppp");class Ct extends Ot.a{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return e&&!e.closed&&t.next(this._value),e}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new Et.a;return this._value}next(t){super.next(this._value=t)}}var xt=n("z+Ro"),St=n("DH7j"),Tt=n("7o/Q");class It extends Tt.a{notifyNext(t,e,n,r,i){this.destination.next(e)}notifyError(t,e){this.destination.error(t)}notifyComplete(t){this.destination.complete()}}class kt extends Tt.a{constructor(t,e,n){super(),this.parent=t,this.outerValue=e,this.outerIndex=n,this.index=0}_next(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}_error(t){this.parent.notifyError(t,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var At=n("SeVD"),Dt=n("HDdC");function jt(t,e,n,r,i=new kt(t,n,r)){if(!i.closed)return e instanceof Dt.a?e.subscribe(i):Object(At.a)(e)(i)}var Nt=n("yCtX");const Pt={};class Rt{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new Mt(t,this.resultSelector))}}class Mt extends It{constructor(t,e){super(t),this.resultSelector=e,this.active=0,this.values=[],this.observables=[]}_next(t){this.values.push(Pt),this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(let n=0;n<e;n++)this.add(jt(this,t[n],void 0,n))}}notifyComplete(t){0==(this.active-=1)&&this.destination.complete()}notifyNext(t,e,n){const r=this.values,i=this.toRespond?r[n]===Pt?--this.toRespond:this.toRespond:0;r[n]=e,0===i&&(this.resultSelector?this._tryResultSelector(r):this.destination.next(r.slice()))}_tryResultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}const Vt=(()=>{function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t})();var Lt=n("EY2u");function Ft(t){return new Dt.a(e=>{let n;try{n=t()}catch(r){return void e.error(r)}return(n?Object(_t.a)(n):Object(Lt.b)()).subscribe(e)})}var Ut=n("lJxs"),Ht=n("bHdf");function zt(){return Object(Ht.a)(1)}function qt(t,e){return function(n){return n.lift(new Bt(t,e))}}class Bt{constructor(t,e){this.predicate=t,this.thisArg=e}call(t,e){return e.subscribe(new Wt(t,this.predicate,this.thisArg))}}class Wt extends Tt.a{constructor(t,e,n){super(t),this.predicate=e,this.thisArg=n,this.count=0}_next(t){let e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}e&&this.destination.next(t)}}const Gt=(()=>{function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t})();function $t(t){return function(e){return 0===t?Object(Lt.b)():e.lift(new Kt(t))}}class Kt{constructor(t){if(this.total=t,this.total<0)throw new Gt}call(t,e){return e.subscribe(new Zt(t,this.total))}}class Zt extends Tt.a{constructor(t,e){super(t),this.total=e,this.ring=new Array,this.count=0}_next(t){const e=this.ring,n=this.total,r=this.count++;e.length<n?e.push(t):e[r%n]=t}_complete(){const t=this.destination;let e=this.count;if(e>0){const n=this.count>=this.total?this.total:this.count,r=this.ring;for(let i=0;i<n;i++){const i=e++%n;t.next(r[i])}}t.complete()}}function Yt(t=Xt){return e=>e.lift(new Jt(t))}class Jt{constructor(t){this.errorFactory=t}call(t,e){return e.subscribe(new Qt(t,this.errorFactory))}}class Qt extends Tt.a{constructor(t,e){super(t),this.errorFactory=e,this.hasValue=!1}_next(t){this.hasValue=!0,this.destination.next(t)}_complete(){if(this.hasValue)return this.destination.complete();{let t;try{t=this.errorFactory()}catch(Ov){t=Ov}this.destination.error(t)}}}function Xt(){return new Vt}function te(t=null){return e=>e.lift(new ee(t))}class ee{constructor(t){this.defaultValue=t}call(t,e){return e.subscribe(new ne(t,this.defaultValue))}}class ne extends Tt.a{constructor(t,e){super(t),this.defaultValue=e,this.isEmpty=!0}_next(t){this.isEmpty=!1,this.destination.next(t)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}var re=n("SpAZ"),ie=n("zx2A");function oe(t,e){return"function"==typeof e?n=>n.pipe(oe((n,r)=>Object(_t.a)(t(n,r)).pipe(Object(Ut.a)((t,i)=>e(n,t,r,i))))):e=>e.lift(new se(t))}class se{constructor(t){this.project=t}call(t,e){return e.subscribe(new ae(t,this.project))}}class ae extends ie.b{constructor(t,e){super(t),this.project=e,this.index=0}_next(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this._innerSub(e)}_innerSub(t){const e=this.innerSubscription;e&&e.unsubscribe();const n=new ie.a(this),r=this.destination;r.add(n),this.innerSubscription=Object(ie.c)(t,n),this.innerSubscription!==n&&r.add(this.innerSubscription)}_complete(){const{innerSubscription:t}=this;t&&!t.closed||super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(t){this.destination.next(t)}}function ue(t){return e=>0===t?Object(Lt.b)():e.lift(new ce(t))}class ce{constructor(t){if(this.total=t,this.total<0)throw new Gt}call(t,e){return e.subscribe(new le(t,this.total))}}class le extends Tt.a{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){const e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))}}function he(...t){return zt()(Object(wt.a)(...t))}function fe(...t){const e=t[t.length-1];return Object(xt.a)(e)?(t.pop(),n=>he(t,n,e)):e=>he(t,e)}function de(t,e){let n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new pe(t,e,n))}}class pe{constructor(t,e,n=!1){this.accumulator=t,this.seed=e,this.hasSeed=n}call(t,e){return e.subscribe(new ge(t,this.accumulator,this.seed,this.hasSeed))}}class ge extends Tt.a{constructor(t,e,n,r){super(t),this.accumulator=e,this._seed=n,this.hasSeed=r,this.index=0}get seed(){return this._seed}set seed(t){this.hasSeed=!0,this._seed=t}_next(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}_tryNext(t){const e=this.index++;let n;try{n=this.accumulator(this.seed,t,e)}catch(r){this.destination.error(r)}this.seed=n,this.destination.next(n)}}function me(t){return function(e){const n=new be(t),r=e.lift(n);return n.caught=r}}class be{constructor(t){this.selector=t}call(t,e){return e.subscribe(new ye(t,this.selector,this.caught))}}class ye extends ie.b{constructor(t,e,n){super(t),this.selector=e,this.caught=n}error(t){if(!this.isStopped){let n;try{n=this.selector(t,this.caught)}catch(e){return void super.error(e)}this._unsubscribeAndRecycle();const r=new ie.a(this);this.add(r);const i=Object(ie.c)(n,r);i!==r&&this.add(i)}}}var ve=n("5+tZ");function we(t,e){return Object(ve.a)(t,e,1)}function _e(t,e){const n=arguments.length>=2;return r=>r.pipe(t?qt((e,n)=>t(e,n,r)):re.a,ue(1),n?te(e):Yt(()=>new Vt))}var Oe=n("vkgz"),Ee=n("quSY");class Ce{constructor(t){this.callback=t}call(t,e){return e.subscribe(new xe(t,this.callback))}}class xe extends Tt.a{constructor(t,e){super(t),this.add(new Ee.a(e))}}class Se{constructor(t,e){this.id=t,this.url=e}}class Te extends Se{constructor(t,e,n="imperative",r=null){super(t,e),this.navigationTrigger=n,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Ie extends Se{constructor(t,e,n){super(t,e),this.urlAfterRedirects=n}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class ke extends Se{constructor(t,e,n){super(t,e),this.reason=n}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Ae extends Se{constructor(t,e,n){super(t,e),this.error=n}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class De extends Se{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class je extends Se{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ne extends Se{constructor(t,e,n,r,i){super(t,e),this.urlAfterRedirects=n,this.state=r,this.shouldActivate=i}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Pe extends Se{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Re extends Se{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Me{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Ve{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Le{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Fe{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ue{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class He{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ze{constructor(t,e,n){this.routerEvent=t,this.position=e,this.anchor=n}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const qe="primary";class Be{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function We(t){return new Be(t)}function Ge(t){const e=Error("NavigationCancelingError: "+t);return e.ngNavigationCancelingError=!0,e}function $e(t,e,n){const r=n.path.split("/");if(r.length>t.length)return null;if("full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let o=0;o<r.length;o++){const e=r[o],n=t[o];if(e.startsWith(":"))i[e.substring(1)]=n;else if(e!==n.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function Ke(t,e){const n=Object.keys(t),r=Object.keys(e);if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!Ze(t[i],e[i]))return!1;return!0}function Ze(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((t,e)=>r[e]===t)}return t===e}function Ye(t){return Array.prototype.concat.apply([],t)}function Je(t){return t.length>0?t[t.length-1]:null}function Qe(t,e){for(const n in t)t.hasOwnProperty(n)&&e(t[n],n)}function Xe(t){return Object(r.pb)(t)?t:Object(r.qb)(t)?Object(_t.a)(Promise.resolve(t)):Object(wt.a)(t)}function tn(t,e,n){return n?function(t,e){return Ke(t,e)}(t.queryParams,e.queryParams)&&en(t.root,e.root):function(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>Ze(t[n],e[n]))}(t.queryParams,e.queryParams)&&nn(t.root,e.root)}function en(t,e){if(!un(t.segments,e.segments))return!1;if(t.numberOfChildren!==e.numberOfChildren)return!1;for(const n in e.children){if(!t.children[n])return!1;if(!en(t.children[n],e.children[n]))return!1}return!0}function nn(t,e){return rn(t,e,e.segments)}function rn(t,e,n){if(t.segments.length>n.length)return!!un(t.segments.slice(0,n.length),n)&&!e.hasChildren();if(t.segments.length===n.length){if(!un(t.segments,n))return!1;for(const n in e.children){if(!t.children[n])return!1;if(!nn(t.children[n],e.children[n]))return!1}return!0}{const r=n.slice(0,t.segments.length),i=n.slice(t.segments.length);return!!un(t.segments,r)&&!!t.children.primary&&rn(t.children.primary,e,i)}}class on{constructor(t,e,n){this.root=t,this.queryParams=e,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=We(this.queryParams)),this._queryParamMap}toString(){return fn.serialize(this)}}class sn{constructor(t,e){this.segments=t,this.children=e,this.parent=null,Qe(e,(t,e)=>t.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return dn(this)}}class an{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=We(this.parameters)),this._parameterMap}toString(){return wn(this)}}function un(t,e){return t.length===e.length&&t.every((t,n)=>t.path===e[n].path)}function cn(t,e){let n=[];return Qe(t.children,(t,r)=>{r===qe&&(n=n.concat(e(t,r)))}),Qe(t.children,(t,r)=>{r!==qe&&(n=n.concat(e(t,r)))}),n}class ln{}class hn{parse(t){const e=new xn(t);return new on(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){return`${"/"+pn(t.root,!0)}${function(t){const e=Object.keys(t).map(e=>{const n=t[e];return Array.isArray(n)?n.map(t=>`${mn(e)}=${mn(t)}`).join("&"):`${mn(e)}=${mn(n)}`});return e.length?"?"+e.join("&"):""}(t.queryParams)}${"string"==typeof t.fragment?"#"+encodeURI(t.fragment):""}`}}const fn=new hn;function dn(t){return t.segments.map(t=>wn(t)).join("/")}function pn(t,e){if(!t.hasChildren())return dn(t);if(e){const e=t.children.primary?pn(t.children.primary,!1):"",n=[];return Qe(t.children,(t,e)=>{e!==qe&&n.push(`${e}:${pn(t,!1)}`)}),n.length>0?`${e}(${n.join("//")})`:e}{const e=cn(t,(e,n)=>n===qe?[pn(t.children.primary,!1)]:[`${n}:${pn(e,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children.primary?`${dn(t)}/${e[0]}`:`${dn(t)}/(${e.join("//")})`}}function gn(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function mn(t){return gn(t).replace(/%3B/gi,";")}function bn(t){return gn(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function yn(t){return decodeURIComponent(t)}function vn(t){return yn(t.replace(/\+/g,"%20"))}function wn(t){return`${bn(t.path)}${e=t.parameters,Object.keys(e).map(t=>`;${bn(t)}=${bn(e[t])}`).join("")}`;var e}const _n=/^[^\/()?;=#]+/;function On(t){const e=t.match(_n);return e?e[0]:""}const En=/^[^=?&#]+/,Cn=/^[^?&#]+/;class xn{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new sn([],{}):new sn([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n.primary=new sn(t,e)),n}parseSegment(){const t=On(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new an(yn(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=On(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=On(this.remaining);t&&(n=t,this.capture(n))}t[yn(e)]=yn(n)}parseQueryParam(t){const e=function(t){const e=t.match(En);return e?e[0]:""}(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=function(t){const e=t.match(Cn);return e?e[0]:""}(this.remaining);t&&(n=t,this.capture(n))}const r=vn(e),i=vn(n);if(t.hasOwnProperty(r)){let e=t[r];Array.isArray(e)||(e=[e],t[r]=e),e.push(i)}else t[r]=i}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=On(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error(`Cannot parse url '${this.url}'`);let i=void 0;n.indexOf(":")>-1?(i=n.substr(0,n.indexOf(":")),this.capture(i),this.capture(":")):t&&(i=qe);const o=this.parseChildren();e[i]=1===Object.keys(o).length?o.primary:new sn([],o),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class Sn{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=Tn(t,this._root);return e?e.children.map(t=>t.value):[]}firstChild(t){const e=Tn(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=In(t,this._root);return e.length<2?[]:e[e.length-2].children.map(t=>t.value).filter(e=>e!==t)}pathFromRoot(t){return In(t,this._root).map(t=>t.value)}}function Tn(t,e){if(t===e.value)return e;for(const n of e.children){const e=Tn(t,n);if(e)return e}return null}function In(t,e){if(t===e.value)return[e];for(const n of e.children){const r=In(t,n);if(r.length)return r.unshift(e),r}return[]}class kn{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function An(t){const e={};return t&&t.children.forEach(t=>e[t.value.outlet]=t),e}class Dn extends Sn{constructor(t,e){super(t),this.snapshot=e,Vn(this,t)}toString(){return this.snapshot.toString()}}function jn(t,e){const n=function(t,e){const n=new Rn([],{},{},"",{},qe,e,null,t.root,-1,{});return new Mn("",new kn(n,[]))}(t,e),r=new Ct([new an("",{})]),i=new Ct({}),o=new Ct({}),s=new Ct({}),a=new Ct(""),u=new Nn(r,i,s,a,o,qe,e,n.root);return u.snapshot=n.root,new Dn(new kn(u,[]),n)}class Nn{constructor(t,e,n,r,i,o,s,a){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=o,this.component=s,this._futureSnapshot=a}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Object(Ut.a)(t=>We(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Object(Ut.a)(t=>We(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Pn(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const t=n[r],e=n[r-1];if(t.routeConfig&&""===t.routeConfig.path)r--;else{if(e.component)break;r--}}return function(t){return t.reduce((t,e)=>({params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(n.slice(r))}class Rn{constructor(t,e,n,r,i,o,s,a,u,c,l){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=o,this.component=s,this.routeConfig=a,this._urlSegment=u,this._lastPathIndex=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=We(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=We(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(t=>t.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Mn extends Sn{constructor(t,e){super(e),this.url=t,Vn(this,e)}toString(){return Ln(this._root)}}function Vn(t,e){e.value._routerState=t,e.children.forEach(e=>Vn(t,e))}function Ln(t){const e=t.children.length>0?` { ${t.children.map(Ln).join(", ")} } `:"";return`${t.value}${e}`}function Fn(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Ke(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),Ke(e.params,n.params)||t.params.next(n.params),function(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Ke(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),Ke(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function Un(t,e){return Ke(t.params,e.params)&&function(t,e){return un(t,e)&&t.every((t,n)=>Ke(t.parameters,e[n].parameters))}(t.url,e.url)&&!(!t.parent!=!e.parent)&&(!t.parent||Un(t.parent,e.parent))}function Hn(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=e.value;const i=function(t,e,n){return e.children.map(e=>{for(const r of n.children)if(t.shouldReuseRoute(e.value,r.value.snapshot))return Hn(t,e,r);return Hn(t,e)})}(t,e,n);return new kn(r,i)}{const n=t.retrieve(e.value);if(n){const t=n.route;return zn(e,t),t}{const n=new Nn(new Ct((r=e.value).url),new Ct(r.params),new Ct(r.queryParams),new Ct(r.fragment),new Ct(r.data),r.outlet,r.component,r),i=e.children.map(e=>Hn(t,e));return new kn(n,i)}}var r}function zn(t,e){if(t.value.routeConfig!==e.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(t.children.length!==e.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");e.value._futureSnapshot=t.value;for(let n=0;n<t.children.length;++n)zn(t.children[n],e.children[n])}function qn(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function Bn(t){return"object"==typeof t&&null!=t&&t.outlets}function Wn(t,e,n,r,i){let o={};return r&&Qe(r,(t,e)=>{o[e]=Array.isArray(t)?t.map(t=>""+t):""+t}),new on(n.root===t?e:Gn(n.root,t,e),o,i)}function Gn(t,e,n){const r={};return Qe(t.children,(t,i)=>{r[i]=t===e?n:Gn(t,e,n)}),new sn(t.segments,r)}class $n{constructor(t,e,n){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=n,t&&n.length>0&&qn(n[0]))throw new Error("Root segment cannot have matrix parameters");const r=n.find(Bn);if(r&&r!==Je(n))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Kn{constructor(t,e,n){this.segmentGroup=t,this.processChildren=e,this.index=n}}function Zn(t,e,n){if(t||(t=new sn([],{})),0===t.segments.length&&t.hasChildren())return Yn(t,e,n);const r=function(t,e,n){let r=0,i=e;const o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;const e=t.segments[i],s=n[r];if(Bn(s))break;const a=""+s,u=r<n.length-1?n[r+1]:null;if(i>0&&void 0===a)break;if(a&&u&&"object"==typeof u&&void 0===u.outlets){if(!tr(a,u,e))return o;r+=2}else{if(!tr(a,{},e))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const e=new sn(t.segments.slice(0,r.pathIndex),{});return e.children.primary=new sn(t.segments.slice(r.pathIndex),t.children),Yn(e,0,i)}return r.match&&0===i.length?new sn(t.segments,{}):r.match&&!t.hasChildren()?Jn(t,e,n):r.match?Yn(t,0,i):Jn(t,e,n)}function Yn(t,e,n){if(0===n.length)return new sn(t.segments,{});{const r=function(t){return Bn(t[0])?t[0].outlets:{[qe]:t}}(n),i={};return Qe(r,(n,r)=>{"string"==typeof n&&(n=[n]),null!==n&&(i[r]=Zn(t.children[r],e,n))}),Qe(t.children,(t,e)=>{void 0===r[e]&&(i[e]=t)}),new sn(t.segments,i)}}function Jn(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){const o=n[i];if(Bn(o)){const t=Qn(o.outlets);return new sn(r,t)}if(0===i&&qn(n[0])){r.push(new an(t.segments[e].path,n[0])),i++;continue}const s=Bn(o)?o.outlets.primary:""+o,a=i<n.length-1?n[i+1]:null;s&&a&&qn(a)?(r.push(new an(s,Xn(a))),i+=2):(r.push(new an(s,{})),i++)}return new sn(r,{})}function Qn(t){const e={};return Qe(t,(t,n)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[n]=Jn(new sn([],{}),0,t))}),e}function Xn(t){const e={};return Qe(t,(t,n)=>e[n]=""+t),e}function tr(t,e,n){return t==n.path&&Ke(e,n.parameters)}class er{constructor(t,e,n,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=n,this.forwardEvent=r}activate(t){const e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),Fn(this.futureState.root),this.activateChildRoutes(e,n,t)}deactivateChildRoutes(t,e,n){const r=An(e);t.children.forEach(t=>{const e=t.value.outlet;this.deactivateRoutes(t,r[e],n),delete r[e]}),Qe(r,(t,e)=>{this.deactivateRouteAndItsChildren(t,n)})}deactivateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(r===i)if(r.component){const i=n.getContext(r.outlet);i&&this.deactivateChildRoutes(t,e,i.children)}else this.deactivateChildRoutes(t,e,n);else i&&this.deactivateRouteAndItsChildren(e,n)}deactivateRouteAndItsChildren(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const n=e.getContext(t.value.outlet);if(n&&n.outlet){const e=n.outlet.detach(),r=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:e,route:t,contexts:r})}}deactivateRouteAndOutlet(t,e){const n=e.getContext(t.value.outlet);if(n){const r=An(t),i=t.value.component?n.children:e;Qe(r,(t,e)=>this.deactivateRouteAndItsChildren(t,i)),n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated())}}activateChildRoutes(t,e,n){const r=An(e);t.children.forEach(t=>{this.activateRoutes(t,r[t.value.outlet],n),this.forwardEvent(new He(t.value.snapshot))}),t.children.length&&this.forwardEvent(new Fe(t.value.snapshot))}activateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(Fn(r),r===i)if(r.component){const i=n.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,i.children)}else this.activateChildRoutes(t,e,n);else if(r.component){const e=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const t=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),e.children.onOutletReAttached(t.contexts),e.attachRef=t.componentRef,e.route=t.route.value,e.outlet&&e.outlet.attach(t.componentRef,t.route.value),nr(t.route)}else{const n=function(t){for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(r.snapshot),i=n?n.module.componentFactoryResolver:null;e.attachRef=null,e.route=r,e.resolver=i,e.outlet&&e.outlet.activateWith(r,i),this.activateChildRoutes(t,null,e.children)}}else this.activateChildRoutes(t,null,n)}}function nr(t){Fn(t.value),t.children.forEach(nr)}class rr{constructor(t,e){this.routes=t,this.module=e}}function ir(t){return"function"==typeof t}function or(t){return t instanceof on}const sr=Symbol("INITIAL_VALUE");function ar(){return oe(t=>function(...t){let e=void 0,n=void 0;return Object(xt.a)(t[t.length-1])&&(n=t.pop()),"function"==typeof t[t.length-1]&&(e=t.pop()),1===t.length&&Object(St.a)(t[0])&&(t=t[0]),Object(Nt.a)(t,n).lift(new Rt(e))}(...t.map(t=>t.pipe(ue(1),fe(sr)))).pipe(de((t,e)=>{let n=!1;return e.reduce((t,r,i)=>{if(t!==sr)return t;if(r===sr&&(n=!0),!n){if(!1===r)return r;if(i===e.length-1||or(r))return r}return t},t)},sr),qt(t=>t!==sr),Object(Ut.a)(t=>or(t)?t:!0===t),ue(1)))}let ur=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Eb({type:t,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,e){1&t&&r.Lb(0,"router-outlet")},directives:function(){return[Qr]},encapsulation:2}),t})();function cr(t,e=""){for(let n=0;n<t.length;n++){const r=t[n];lr(r,hr(e,r))}}function lr(t,e){t.children&&cr(t.children,e)}function hr(t,e){return e?t||e.path?t&&!e.path?t+"/":!t&&e.path?e.path:`${t}/${e.path}`:"":t}function fr(t){const e=t.children&&t.children.map(fr),n=e?Object.assign(Object.assign({},t),{children:e}):Object.assign({},t);return!n.component&&(e||n.loadChildren)&&n.outlet&&n.outlet!==qe&&(n.component=ur),n}function dr(t){return t.outlet||qe}class pr{constructor(t){this.segmentGroup=t||null}}class gr{constructor(t){this.urlTree=t}}function mr(t){return new Dt.a(e=>e.error(new pr(t)))}function br(t){return new Dt.a(e=>e.error(new gr(t)))}function yr(t){return new Dt.a(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${t}'`)))}class vr{constructor(t,e,n,i,o){this.configLoader=e,this.urlSerializer=n,this.urlTree=i,this.config=o,this.allowRedirects=!0,this.ngModule=t.get(r.x)}apply(){return this.expandSegmentGroup(this.ngModule,this.config,this.urlTree.root,qe).pipe(Object(Ut.a)(t=>this.createUrlTree(t,this.urlTree.queryParams,this.urlTree.fragment))).pipe(me(t=>{if(t instanceof gr)return this.allowRedirects=!1,this.match(t.urlTree);if(t instanceof pr)throw this.noMatchError(t);throw t}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,qe).pipe(Object(Ut.a)(e=>this.createUrlTree(e,t.queryParams,t.fragment))).pipe(me(t=>{if(t instanceof pr)throw this.noMatchError(t);throw t}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,n){const r=t.segments.length>0?new sn([],{[qe]:t}):t;return new on(r,e,n)}expandSegmentGroup(t,e,n,r){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(t,e,n).pipe(Object(Ut.a)(t=>new sn([],t))):this.expandSegment(t,n,e,n.segments,r,!0)}expandChildren(t,e,n){return function(t,e){if(0===Object.keys(t).length)return Object(wt.a)({});const n=[],r=[],i={};return Qe(t,(t,o)=>{const s=e(o,t).pipe(Object(Ut.a)(t=>i[o]=t));o===qe?n.push(s):r.push(s)}),wt.a.apply(null,n.concat(r)).pipe(zt(),function(t,e){const n=arguments.length>=2;return r=>r.pipe(t?qt((e,n)=>t(e,n,r)):re.a,$t(1),n?te(e):Yt(()=>new Vt))}(),Object(Ut.a)(()=>i))}(n.children,(n,r)=>this.expandSegmentGroup(t,e,r,n))}expandSegment(t,e,n,r,i,o){const s=function(t){return t.reduce((t,e)=>{const n=dr(e);return t.has(n)?t.get(n).push(e):t.set(n,[e]),t},new Map)}(n);s.has(i)||s.set(i,[]);const a=n=>Object(_t.a)(n).pipe(we(s=>this.expandSegmentAgainstRoute(t,e,n,s,r,i,o).pipe(me(t=>{if(t instanceof pr)return Object(wt.a)(null);throw t}))),_e(t=>null!==t),me(t=>{if(t instanceof Vt||"EmptyError"===t.name){if(this.noLeftoversInUrl(e,r,i))return Object(wt.a)(new sn([],{}));throw new pr(e)}throw t})),u=Array.from(s.entries()).map(([t,e])=>{const n=a(e);return t===i?n:n.pipe(Object(Ut.a)(()=>null),me(()=>Object(wt.a)(null)))});return Object(_t.a)(u).pipe(t=>t.lift(new Rt(void 0)),_e(),Object(Ut.a)(t=>t.find(t=>null!==t)))}noLeftoversInUrl(t,e,n){return 0===e.length&&!t.children[n]}expandSegmentAgainstRoute(t,e,n,r,i,o,s){return dr(r)!==o&&""!==r.path?mr(e):void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,i):s&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o):mr(e)}expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,r,o):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,n,r){const i=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?br(i):this.lineralizeSegments(n,i).pipe(Object(ve.a)(n=>{const i=new sn(n,{});return this.expandSegment(t,i,e,n,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o){const{matched:s,consumedSegments:a,lastChild:u,positionalParamSegments:c}=wr(e,r,i);if(!s)return mr(e);const l=this.applyRedirectCommands(a,r.redirectTo,c);return r.redirectTo.startsWith("/")?br(l):this.lineralizeSegments(r,l).pipe(Object(ve.a)(r=>this.expandSegment(t,e,n,r.concat(i.slice(u)),o,!1)))}matchSegmentAgainstRoute(t,e,n,r){if("**"===n.path)return n.loadChildren?this.configLoader.load(t.injector,n).pipe(Object(Ut.a)(t=>(n._loadedConfig=t,new sn(r,{})))):Object(wt.a)(new sn(r,{}));const{matched:i,consumedSegments:o,lastChild:s}=wr(e,n,r);if(!i)return mr(e);const a=r.slice(s);return this.getChildConfig(t,n,r).pipe(Object(ve.a)(t=>{const n=t.module,r=t.routes,{segmentGroup:i,slicedSegments:s}=function(t,e,n,r){return n.length>0&&function(t,e,n){return n.some(n=>Or(t,e,n)&&dr(n)!==qe)}(t,n,r)?{segmentGroup:_r(new sn(e,function(t,e){const n={};n.primary=e;for(const r of t)""===r.path&&dr(r)!==qe&&(n[dr(r)]=new sn([],{}));return n}(r,new sn(n,t.children)))),slicedSegments:[]}:0===n.length&&function(t,e,n){return n.some(n=>Or(t,e,n))}(t,n,r)?{segmentGroup:_r(new sn(t.segments,function(t,e,n,r){const i={};for(const o of n)Or(t,e,o)&&!r[dr(o)]&&(i[dr(o)]=new sn([],{}));return Object.assign(Object.assign({},r),i)}(t,n,r,t.children))),slicedSegments:n}:{segmentGroup:t,slicedSegments:n}}(e,o,a,r);return 0===s.length&&i.hasChildren()?this.expandChildren(n,r,i).pipe(Object(Ut.a)(t=>new sn(o,t))):0===r.length&&0===s.length?Object(wt.a)(new sn(o,{})):this.expandSegment(n,i,r,s,qe,!0).pipe(Object(Ut.a)(t=>new sn(o.concat(t.segments),t.children)))}))}getChildConfig(t,e,n){return e.children?Object(wt.a)(new rr(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?Object(wt.a)(e._loadedConfig):this.runCanLoadGuards(t.injector,e,n).pipe(Object(ve.a)(n=>n?this.configLoader.load(t.injector,e).pipe(Object(Ut.a)(t=>(e._loadedConfig=t,t))):function(t){return new Dt.a(e=>e.error(Ge(`Cannot load children because the guard of the route "path: '${t.path}'" returned false`)))}(e))):Object(wt.a)(new rr([],t))}runCanLoadGuards(t,e,n){const r=e.canLoad;if(!r||0===r.length)return Object(wt.a)(!0);const i=r.map(r=>{const i=t.get(r);let o;if(function(t){return t&&ir(t.canLoad)}(i))o=i.canLoad(e,n);else{if(!ir(i))throw new Error("Invalid CanLoad guard");o=i(e,n)}return Xe(o)});return Object(wt.a)(i).pipe(ar(),Object(Oe.a)(t=>{if(!or(t))return;const e=Ge(`Redirecting to "${this.urlSerializer.serialize(t)}"`);throw e.url=t,e}),Object(Ut.a)(t=>!0===t))}lineralizeSegments(t,e){let n=[],r=e.root;for(;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return Object(wt.a)(n);if(r.numberOfChildren>1||!r.children.primary)return yr(t.redirectTo);r=r.children.primary}}applyRedirectCommands(t,e,n){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,n)}applyRedirectCreatreUrlTree(t,e,n,r){const i=this.createSegmentGroup(t,e.root,n,r);return new on(i,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const n={};return Qe(t,(t,r)=>{if("string"==typeof t&&t.startsWith(":")){const i=t.substring(1);n[r]=e[i]}else n[r]=t}),n}createSegmentGroup(t,e,n,r){const i=this.createSegments(t,e.segments,n,r);let o={};return Qe(e.children,(e,i)=>{o[i]=this.createSegmentGroup(t,e,n,r)}),new sn(i,o)}createSegments(t,e,n,r){return e.map(e=>e.path.startsWith(":")?this.findPosParam(t,e,r):this.findOrReturn(e,n))}findPosParam(t,e,n){const r=n[e.path.substring(1)];if(!r)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return r}findOrReturn(t,e){let n=0;for(const r of e){if(r.path===t.path)return e.splice(n),r;n++}return t}}function wr(t,e,n){if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}:{matched:!0,consumedSegments:[],lastChild:0,positionalParamSegments:{}};const r=(e.matcher||$e)(n,t,e);return r?{matched:!0,consumedSegments:r.consumed,lastChild:r.consumed.length,positionalParamSegments:r.posParams}:{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}}function _r(t){if(1===t.numberOfChildren&&t.children.primary){const e=t.children.primary;return new sn(t.segments.concat(e.segments),e.children)}return t}function Or(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0!==n.redirectTo}class Er{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class Cr{constructor(t,e){this.component=t,this.route=e}}function xr(t,e,n){const r=t._root;return Tr(r,e?e._root:null,n,[r.value])}function Sr(t,e,n){const r=function(t){if(!t)return null;for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:n).get(t)}function Tr(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=An(e);return t.children.forEach(t=>{!function(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=t.value,s=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){const u=function(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!un(t.url,e.url);case"pathParamsOrQueryParamsChange":return!un(t.url,e.url)||!Ke(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Un(t,e)||!Ke(t.queryParams,e.queryParams);case"paramsChange":default:return!Un(t,e)}}(s,o,o.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new Er(r)):(o.data=s.data,o._resolvedData=s._resolvedData),Tr(t,e,o.component?a?a.children:null:n,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Cr(a.outlet.component,s))}else s&&Ir(e,a,i),i.canActivateChecks.push(new Er(r)),Tr(t,null,o.component?a?a.children:null:n,r,i)}(t,o[t.value.outlet],n,r.concat([t.value]),i),delete o[t.value.outlet]}),Qe(o,(t,e)=>Ir(t,n.getContext(e),i)),i}function Ir(t,e,n){const r=An(t),i=t.value;Qe(r,(t,r)=>{Ir(t,i.component?e?e.children.getContext(r):null:e,n)}),n.canDeactivateChecks.push(new Cr(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function kr(t,e){return null!==t&&e&&e(new Ue(t)),Object(wt.a)(!0)}function Ar(t,e){return null!==t&&e&&e(new Le(t)),Object(wt.a)(!0)}function Dr(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return Object(wt.a)(!0);const i=r.map(r=>Ft(()=>{const i=Sr(r,e,n);let o;if(function(t){return t&&ir(t.canActivate)}(i))o=Xe(i.canActivate(e,t));else{if(!ir(i))throw new Error("Invalid CanActivate guard");o=Xe(i(e,t))}return o.pipe(_e())}));return Object(wt.a)(i).pipe(ar())}function jr(t,e,n){const r=e[e.length-1],i=e.slice(0,e.length-1).reverse().map(t=>function(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(t)).filter(t=>null!==t).map(e=>Ft(()=>{const i=e.guards.map(i=>{const o=Sr(i,e.node,n);let s;if(function(t){return t&&ir(t.canActivateChild)}(o))s=Xe(o.canActivateChild(r,t));else{if(!ir(o))throw new Error("Invalid CanActivateChild guard");s=Xe(o(r,t))}return s.pipe(_e())});return Object(wt.a)(i).pipe(ar())}));return Object(wt.a)(i).pipe(ar())}class Nr{}class Pr{constructor(t,e,n,r,i,o){this.rootComponentType=t,this.config=e,this.urlTree=n,this.url=r,this.paramsInheritanceStrategy=i,this.relativeLinkResolution=o}recognize(){try{const t=Vr(this.urlTree.root,[],[],this.config,this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,qe),n=new Rn([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},qe,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new kn(n,e),i=new Mn(this.url,r);return this.inheritParamsAndData(i._root),Object(wt.a)(i)}catch(Ov){return new Dt.a(e=>e.error(Ov))}}inheritParamsAndData(t){const e=t.value,n=Pn(e,this.paramsInheritanceStrategy);e.params=Object.freeze(n.params),e.data=Object.freeze(n.data),t.children.forEach(t=>this.inheritParamsAndData(t))}processSegmentGroup(t,e,n){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,n)}processChildren(t,e){const n=cn(e,(e,n)=>this.processSegmentGroup(t,e,n));return function(t){const e={};t.forEach(t=>{const n=e[t.value.outlet];if(n){const e=n.url.map(t=>t.toString()).join("/"),r=t.value.url.map(t=>t.toString()).join("/");throw new Error(`Two segments cannot have the same outlet name: '${e}' and '${r}'.`)}e[t.value.outlet]=t.value})}(n),n.sort((t,e)=>t.value.outlet===qe?-1:e.value.outlet===qe?1:t.value.outlet.localeCompare(e.value.outlet)),n}processSegment(t,e,n,r){for(const i of t)try{return this.processSegmentAgainstRoute(i,e,n,r)}catch(Ov){if(!(Ov instanceof Nr))throw Ov}if(this.noLeftoversInUrl(e,n,r))return[];throw new Nr}noLeftoversInUrl(t,e,n){return 0===e.length&&!t.children[n]}processSegmentAgainstRoute(t,e,n,r){if(t.redirectTo)throw new Nr;if((t.outlet||qe)!==r)throw new Nr;let i,o=[],s=[];if("**"===t.path){const o=n.length>0?Je(n).parameters:{};i=new Rn(n,o,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Fr(t),r,t.component,t,Rr(e),Mr(e)+n.length,Ur(t))}else{const a=function(t,e,n){if(""===e.path){if("full"===e.pathMatch&&(t.hasChildren()||n.length>0))throw new Nr;return{consumedSegments:[],lastChild:0,parameters:{}}}const r=(e.matcher||$e)(n,t,e);if(!r)throw new Nr;const i={};Qe(r.posParams,(t,e)=>{i[e]=t.path});const o=r.consumed.length>0?Object.assign(Object.assign({},i),r.consumed[r.consumed.length-1].parameters):i;return{consumedSegments:r.consumed,lastChild:r.consumed.length,parameters:o}}(e,t,n);o=a.consumedSegments,s=n.slice(a.lastChild),i=new Rn(o,a.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Fr(t),r,t.component,t,Rr(e),Mr(e)+o.length,Ur(t))}const a=function(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(t),{segmentGroup:u,slicedSegments:c}=Vr(e,o,s,a,this.relativeLinkResolution);if(0===c.length&&u.hasChildren()){const t=this.processChildren(a,u);return[new kn(i,t)]}if(0===a.length&&0===c.length)return[new kn(i,[])];const l=this.processSegment(a,u,c,qe);return[new kn(i,l)]}}function Rr(t){let e=t;for(;e._sourceSegment;)e=e._sourceSegment;return e}function Mr(t){let e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,n+=e._segmentIndexShift?e._segmentIndexShift:0;return n-1}function Vr(t,e,n,r,i){if(n.length>0&&function(t,e,n){return n.some(n=>Lr(t,e,n)&&dr(n)!==qe)}(t,n,r)){const i=new sn(e,function(t,e,n,r){const i={};i.primary=r,r._sourceSegment=t,r._segmentIndexShift=e.length;for(const o of n)if(""===o.path&&dr(o)!==qe){const n=new sn([],{});n._sourceSegment=t,n._segmentIndexShift=e.length,i[dr(o)]=n}return i}(t,e,r,new sn(n,t.children)));return i._sourceSegment=t,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:[]}}if(0===n.length&&function(t,e,n){return n.some(n=>Lr(t,e,n))}(t,n,r)){const o=new sn(t.segments,function(t,e,n,r,i,o){const s={};for(const a of r)if(Lr(t,n,a)&&!i[dr(a)]){const n=new sn([],{});n._sourceSegment=t,n._segmentIndexShift="legacy"===o?t.segments.length:e.length,s[dr(a)]=n}return Object.assign(Object.assign({},i),s)}(t,e,n,r,t.children,i));return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:n}}const o=new sn(t.segments,t.children);return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:n}}function Lr(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0===n.redirectTo}function Fr(t){return t.data||{}}function Ur(t){return t.resolve||{}}function Hr(t){return function(e){return e.pipe(oe(e=>{const n=t(e);return n?Object(_t.a)(n).pipe(Object(Ut.a)(()=>e)):Object(_t.a)([e])}))}}class zr extends class{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}const qr=new r.q("ROUTES");class Br{constructor(t,e,n,r){this.loader=t,this.compiler=e,this.onLoadStartListener=n,this.onLoadEndListener=r}load(t,e){return this.onLoadStartListener&&this.onLoadStartListener(e),this.loadModuleFactory(e.loadChildren).pipe(Object(Ut.a)(n=>{this.onLoadEndListener&&this.onLoadEndListener(e);const r=n.create(t);return new rr(Ye(r.injector.get(qr)).map(fr),r)}))}loadModuleFactory(t){return"string"==typeof t?Object(_t.a)(this.loader.load(t)):Xe(t()).pipe(Object(ve.a)(t=>t instanceof r.v?Object(wt.a)(t):Object(_t.a)(this.compiler.compileModuleAsync(t))))}}class Wr{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Gr,this.attachRef=null}}class Gr{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const n=this.getOrCreateContext(t);n.outlet=e,this.contexts.set(t,n)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new Wr,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}class $r{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function Kr(t){throw t}function Zr(t,e,n){return e.parse("/")}function Yr(t,e){return Object(wt.a)(null)}let Jr=(()=>{class t{constructor(t,e,n,i,o,s,a,u){this.rootComponentType=t,this.urlSerializer=e,this.rootContexts=n,this.location=i,this.config=u,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.lastLocationChangeInfo=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new Ot.a,this.errorHandler=Kr,this.malformedUriErrorHandler=Zr,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Yr,afterPreactivation:Yr},this.urlHandlingStrategy=new $r,this.routeReuseStrategy=new zr,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.ngModule=o.get(r.x),this.console=o.get(r.X);const c=o.get(r.z);this.isNgZoneEnabled=c instanceof r.z,this.resetConfig(u),this.currentUrlTree=new on(new sn([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Br(s,a,t=>this.triggerEvent(new Me(t)),t=>this.triggerEvent(new Ve(t))),this.routerState=jn(this.currentUrlTree,this.rootComponentType),this.transitions=new Ct({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}setupNavigations(t){const e=this.events;return t.pipe(qt(t=>0!==t.id),Object(Ut.a)(t=>Object.assign(Object.assign({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl)})),oe(t=>{let n=!1,r=!1;return Object(wt.a)(t).pipe(Object(Oe.a)(t=>{this.currentNavigation={id:t.id,initialUrl:t.currentRawUrl,extractedUrl:t.extractedUrl,trigger:t.source,extras:t.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),oe(t=>{const n=!this.navigated||t.extractedUrl.toString()!==this.browserUrlTree.toString();if(("reload"===this.onSameUrlNavigation||n)&&this.urlHandlingStrategy.shouldProcessUrl(t.rawUrl))return Object(wt.a)(t).pipe(oe(t=>{const n=this.transitions.getValue();return e.next(new Te(t.id,this.serializeUrl(t.extractedUrl),t.source,t.restoredState)),n!==this.transitions.getValue()?Lt.a:[t]}),oe(t=>Promise.resolve(t)),(r=this.ngModule.injector,i=this.configLoader,o=this.urlSerializer,s=this.config,function(t){return t.pipe(oe(t=>function(t,e,n,r,i){return new vr(t,e,n,r,i).apply()}(r,i,o,t.extractedUrl,s).pipe(Object(Ut.a)(e=>Object.assign(Object.assign({},t),{urlAfterRedirects:e})))))}),Object(Oe.a)(t=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:t.urlAfterRedirects})}),function(t,e,n,r,i){return function(o){return o.pipe(Object(ve.a)(o=>function(t,e,n,r,i="emptyOnly",o="legacy"){return new Pr(t,e,n,r,i,o).recognize()}(t,e,o.urlAfterRedirects,n(o.urlAfterRedirects),r,i).pipe(Object(Ut.a)(t=>Object.assign(Object.assign({},o),{targetSnapshot:t})))))}}(this.rootComponentType,this.config,t=>this.serializeUrl(t),this.paramsInheritanceStrategy,this.relativeLinkResolution),Object(Oe.a)(t=>{"eager"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(t.urlAfterRedirects,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects)}),Object(Oe.a)(t=>{const n=new De(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.next(n)}));var r,i,o,s;if(n&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:n,extractedUrl:r,source:i,restoredState:o,extras:s}=t,a=new Te(n,this.serializeUrl(r),i,o);e.next(a);const u=jn(r,this.rootComponentType).snapshot;return Object(wt.a)(Object.assign(Object.assign({},t),{targetSnapshot:u,urlAfterRedirects:r,extras:Object.assign(Object.assign({},s),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=t.rawUrl,this.browserUrlTree=t.urlAfterRedirects,t.resolve(null),Lt.a}),Hr(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:o,replaceUrl:s}}=t;return this.hooks.beforePreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!o,replaceUrl:!!s})}),Object(Oe.a)(t=>{const e=new je(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),Object(Ut.a)(t=>Object.assign(Object.assign({},t),{guards:xr(t.targetSnapshot,t.currentSnapshot,this.rootContexts)})),function(t,e){return function(n){return n.pipe(Object(ve.a)(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return 0===s.length&&0===o.length?Object(wt.a)(Object.assign(Object.assign({},n),{guardsResult:!0})):function(t,e,n,r){return Object(_t.a)(t).pipe(Object(ve.a)(t=>function(t,e,n,r,i){const o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||0===o.length)return Object(wt.a)(!0);const s=o.map(o=>{const s=Sr(o,e,i);let a;if(function(t){return t&&ir(t.canDeactivate)}(s))a=Xe(s.canDeactivate(t,e,n,r));else{if(!ir(s))throw new Error("Invalid CanDeactivate guard");a=Xe(s(t,e,n,r))}return a.pipe(_e())});return Object(wt.a)(s).pipe(ar())}(t.component,t.route,n,e,r)),_e(t=>!0!==t,!0))}(s,r,i,t).pipe(Object(ve.a)(n=>n&&"boolean"==typeof n?function(t,e,n,r){return Object(_t.a)(e).pipe(we(e=>Object(_t.a)([Ar(e.route.parent,r),kr(e.route,r),jr(t,e.path,n),Dr(t,e.route,n)]).pipe(zt(),_e(t=>!0!==t,!0))),_e(t=>!0!==t,!0))}(r,o,t,e):Object(wt.a)(n)),Object(Ut.a)(t=>Object.assign(Object.assign({},n),{guardsResult:t})))}))}}(this.ngModule.injector,t=>this.triggerEvent(t)),Object(Oe.a)(t=>{if(or(t.guardsResult)){const e=Ge(`Redirecting to "${this.serializeUrl(t.guardsResult)}"`);throw e.url=t.guardsResult,e}}),Object(Oe.a)(t=>{const e=new Ne(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot,!!t.guardsResult);this.triggerEvent(e)}),qt(t=>{if(!t.guardsResult){this.resetUrlToCurrentUrlTree();const n=new ke(t.id,this.serializeUrl(t.extractedUrl),"");return e.next(n),t.resolve(!1),!1}return!0}),Hr(t=>{if(t.guards.canActivateChecks.length)return Object(wt.a)(t).pipe(Object(Oe.a)(t=>{const e=new Pe(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),oe(t=>{let n=!1;return Object(wt.a)(t).pipe((r=this.paramsInheritanceStrategy,i=this.ngModule.injector,function(t){return t.pipe(Object(ve.a)(t=>{const{targetSnapshot:e,guards:{canActivateChecks:n}}=t;if(!n.length)return Object(wt.a)(t);let o=0;return Object(_t.a)(n).pipe(we(t=>function(t,e,n,r){return function(t,e,n,r){const i=Object.keys(t);if(0===i.length)return Object(wt.a)({});const o={};return Object(_t.a)(i).pipe(Object(ve.a)(i=>function(t,e,n,r){const i=Sr(t,e,r);return Xe(i.resolve?i.resolve(e,n):i(e,n))}(t[i],e,n,r).pipe(Object(Oe.a)(t=>{o[i]=t}))),$t(1),Object(ve.a)(()=>Object.keys(o).length===i.length?Object(wt.a)(o):Lt.a))}(t._resolve,t,e,r).pipe(Object(Ut.a)(e=>(t._resolvedData=e,t.data=Object.assign(Object.assign({},t.data),Pn(t,n).resolve),null)))}(t.route,e,r,i)),Object(Oe.a)(()=>o++),$t(1),Object(ve.a)(e=>o===n.length?Object(wt.a)(t):Lt.a))}))}),Object(Oe.a)({next:()=>n=!0,complete:()=>{if(!n){const n=new ke(t.id,this.serializeUrl(t.extractedUrl),"At least one route resolver didn't emit any value.");e.next(n),t.resolve(!1)}}}));var r,i}),Object(Oe.a)(t=>{const e=new Re(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}))}),Hr(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:o,replaceUrl:s}}=t;return this.hooks.afterPreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!o,replaceUrl:!!s})}),Object(Ut.a)(t=>{const e=function(t,e,n){const r=Hn(t,e._root,n?n._root:void 0);return new Dn(r,e)}(this.routeReuseStrategy,t.targetSnapshot,t.currentRouterState);return Object.assign(Object.assign({},t),{targetRouterState:e})}),Object(Oe.a)(t=>{this.currentUrlTree=t.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl),this.routerState=t.targetRouterState,"deferred"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects)}),(o=this.rootContexts,s=this.routeReuseStrategy,a=t=>this.triggerEvent(t),Object(Ut.a)(t=>(new er(s,t.targetRouterState,t.currentRouterState,a).activate(o),t))),Object(Oe.a)({next(){n=!0},complete(){n=!0}}),(i=()=>{if(!n&&!r){this.resetUrlToCurrentUrlTree();const n=new ke(t.id,this.serializeUrl(t.extractedUrl),`Navigation ID ${t.id} is not equal to the current navigation id ${this.navigationId}`);e.next(n),t.resolve(!1)}this.currentNavigation=null},t=>t.lift(new Ce(i))),me(n=>{if(r=!0,(i=n)&&i.ngNavigationCancelingError){const r=or(n.url);r||(this.navigated=!0,this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl));const i=new ke(t.id,this.serializeUrl(t.extractedUrl),n.message);e.next(i),r?setTimeout(()=>{const e=this.urlHandlingStrategy.merge(n.url,this.rawUrlTree);return this.scheduleNavigation(e,"imperative",null,{skipLocationChange:t.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy},{resolve:t.resolve,reject:t.reject,promise:t.promise})},0):t.resolve(!1)}else{this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl);const r=new Ae(t.id,this.serializeUrl(t.extractedUrl),n);e.next(r);try{t.resolve(this.errorHandler(n))}catch(ql){t.reject(ql)}}var i;return Lt.a}));var i,o,s,a}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}getTransition(){const t=this.transitions.value;return t.urlAfterRedirects=this.browserUrlTree,t}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const e=this.extractLocationChangeInfoFromEvent(t);this.shouldScheduleNavigation(this.lastLocationChangeInfo,e)&&setTimeout(()=>{const{source:t,state:n,urlTree:r}=e,i={replaceUrl:!0};if(n){const t=Object.assign({},n);delete t.navigationId,0!==Object.keys(t).length&&(i.state=t)}this.scheduleNavigation(r,t,n,i)},0),this.lastLocationChangeInfo=e}))}extractLocationChangeInfoFromEvent(t){var e;return{source:"popstate"===t.type?"popstate":"hashchange",urlTree:this.parseUrl(t.url),state:(null===(e=t.state)||void 0===e?void 0:e.navigationId)?t.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(t,e){if(!t)return!0;const n=e.urlTree.toString()===t.urlTree.toString();return!(e.transitionId===t.transitionId&&n&&("hashchange"===e.source&&"popstate"===t.source||"popstate"===e.source&&"hashchange"===t.source))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){cr(t),this.config=t.map(fr),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0)}createUrlTree(t,e={}){const{relativeTo:n,queryParams:r,fragment:i,queryParamsHandling:o,preserveFragment:s}=e,a=n||this.routerState.root,u=s?this.currentUrlTree.fragment:i;let c=null;switch(o){case"merge":c=Object.assign(Object.assign({},this.currentUrlTree.queryParams),r);break;case"preserve":c=this.currentUrlTree.queryParams;break;default:c=r||null}return null!==c&&(c=this.removeEmptyProps(c)),function(t,e,n,r,i){if(0===n.length)return Wn(e.root,e.root,e,r,i);const o=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new $n(!0,0,t);let e=0,n=!1;const r=t.reduce((t,r,i)=>{if("object"==typeof r&&null!=r){if(r.outlets){const e={};return Qe(r.outlets,(t,n)=>{e[n]="string"==typeof t?t.split("/"):t}),[...t,{outlets:e}]}if(r.segmentPath)return[...t,r.segmentPath]}return"string"!=typeof r?[...t,r]:0===i?(r.split("/").forEach((r,i)=>{0==i&&"."===r||(0==i&&""===r?n=!0:".."===r?e++:""!=r&&t.push(r))}),t):[...t,r]},[]);return new $n(n,e,r)}(n);if(o.toRoot())return Wn(e.root,new sn([],{}),e,r,i);const s=function(t,e,n){if(t.isAbsolute)return new Kn(e.root,!0,0);if(-1===n.snapshot._lastPathIndex){const t=n.snapshot._urlSegment;return new Kn(t,t===e.root,0)}const r=qn(t.commands[0])?0:1;return function(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new Kn(r,!1,i-o)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+r,t.numberOfDoubleDots)}(o,e,t),a=s.processChildren?Yn(s.segmentGroup,s.index,o.commands):Zn(s.segmentGroup,s.index,o.commands);return Wn(s.segmentGroup,a,e,r,i)}(a,this.currentUrlTree,t,c,u)}navigateByUrl(t,e={skipLocationChange:!1}){const n=or(t)?t:this.parseUrl(t),r=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(r,"imperative",null,e)}navigate(t,e={skipLocationChange:!1}){return function(t){for(let e=0;e<t.length;e++){const n=t[e];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,e),e)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let e;try{e=this.urlSerializer.parse(t)}catch(Ov){e=this.malformedUriErrorHandler(Ov,this.urlSerializer,t)}return e}isActive(t,e){if(or(t))return tn(this.currentUrlTree,t,e);const n=this.parseUrl(t);return tn(this.currentUrlTree,n,e)}removeEmptyProps(t){return Object.keys(t).reduce((e,n)=>{const r=t[n];return null!=r&&(e[n]=r),e},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.events.next(new Ie(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.currentNavigation=null,t.resolve(!0)},t=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(t,e,n,r,i){const o=this.getTransition(),s="imperative"!==e&&"imperative"===(null==o?void 0:o.source),a=(this.lastSuccessfulId===o.id||this.currentNavigation?o.rawUrl:o.urlAfterRedirects).toString()===t.toString();if(s&&a)return Promise.resolve(!0);let u,c,l;i?(u=i.resolve,c=i.reject,l=i.promise):l=new Promise((t,e)=>{u=t,c=e});const h=++this.navigationId;return this.setTransition({id:h,source:e,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:r,resolve:u,reject:c,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(t=>Promise.reject(t))}setBrowserUrl(t,e,n,r){const i=this.urlSerializer.serialize(t);r=r||{},this.location.isCurrentPathEqualTo(i)||e?this.location.replaceState(i,"",Object.assign(Object.assign({},r),{navigationId:n})):this.location.go(i,"",Object.assign(Object.assign({},r),{navigationId:n}))}resetStateAndUrl(t,e,n){this.routerState=t,this.currentUrlTree=e,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})}}return t.\u0275fac=function(e){return new(e||t)(r.Wb(r.M),r.Wb(ln),r.Wb(Gr),r.Wb(O),r.Wb(r.r),r.Wb(r.w),r.Wb(r.i),r.Wb(void 0))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})(),Qr=(()=>{class t{constructor(t,e,n,i,o){this.parentContexts=t,this.location=e,this.resolver=n,this.changeDetector=o,this.activated=null,this._activatedRoute=null,this.activateEvents=new r.n,this.deactivateEvents=new r.n,this.name=i||qe,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,t}attach(t,e){this.activated=t,this._activatedRoute=e,this.location.insert(t.hostView)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,e){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const n=(e=e||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),r=this.parentContexts.getOrCreateContext(this.name).children,i=new Xr(t,r,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,i),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(Gr),r.Kb(r.P),r.Kb(r.j),r.Xb("name"),r.Kb(r.h))},t.\u0275dir=r.Fb({type:t,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),t})();class Xr{constructor(t,e,n){this.route=t,this.childContexts=e,this.parent=n}get(t,e){return t===Nn?this.route:t===Gr?this.childContexts:this.parent.get(t,e)}}class ti{}class ei{preload(t,e){return Object(wt.a)(null)}}let ni=(()=>{class t{constructor(t,e,n,r,i){this.router=t,this.injector=r,this.preloadingStrategy=i,this.loader=new Br(e,n,e=>t.triggerEvent(new Me(e)),e=>t.triggerEvent(new Ve(e)))}setUpPreloading(){this.subscription=this.router.events.pipe(qt(t=>t instanceof Ie),we(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(r.x);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,e){const n=[];for(const r of e)if(r.loadChildren&&!r.canLoad&&r._loadedConfig){const t=r._loadedConfig;n.push(this.processRoutes(t.module,t.routes))}else r.loadChildren&&!r.canLoad?n.push(this.preloadConfig(t,r)):r.children&&n.push(this.processRoutes(t,r.children));return Object(_t.a)(n).pipe(Object(Ht.a)(),Object(Ut.a)(t=>{}))}preloadConfig(t,e){return this.preloadingStrategy.preload(e,()=>this.loader.load(t.injector,e).pipe(Object(ve.a)(t=>(e._loadedConfig=t,this.processRoutes(t.module,t.routes)))))}}return t.\u0275fac=function(e){return new(e||t)(r.Wb(Jr),r.Wb(r.w),r.Wb(r.i),r.Wb(r.r),r.Wb(ti))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})(),ri=(()=>{class t{constructor(t,e,n={}){this.router=t,this.viewportScroller=e,this.options=n,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},n.scrollPositionRestoration=n.scrollPositionRestoration||"disabled",n.anchorScrolling=n.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Te?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Ie&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof ze&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,e){this.router.triggerEvent(new ze(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,e))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(r.Wb(Jr),r.Wb(bt),r.Wb(void 0))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})();const ii=new r.q("ROUTER_CONFIGURATION"),oi=new r.q("ROUTER_FORROOT_GUARD"),si=[O,{provide:ln,useClass:hn},{provide:Jr,useFactory:function(t,e,n,r,i,o,a,u={},c,l){const h=new Jr(null,t,e,n,r,i,o,Ye(a));if(c&&(h.urlHandlingStrategy=c),l&&(h.routeReuseStrategy=l),function(t,e){t.errorHandler&&(e.errorHandler=t.errorHandler),t.malformedUriErrorHandler&&(e.malformedUriErrorHandler=t.malformedUriErrorHandler),t.onSameUrlNavigation&&(e.onSameUrlNavigation=t.onSameUrlNavigation),t.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=t.paramsInheritanceStrategy),t.relativeLinkResolution&&(e.relativeLinkResolution=t.relativeLinkResolution),t.urlUpdateStrategy&&(e.urlUpdateStrategy=t.urlUpdateStrategy)}(u,h),u.enableTracing){const t=s();h.events.subscribe(e=>{t.logGroup("Router Event: "+e.constructor.name),t.log(e.toString()),t.log(e),t.logGroupEnd()})}return h},deps:[ln,Gr,O,r.r,r.w,r.i,qr,ii,[class{},new r.A],[class{},new r.A]]},Gr,{provide:Nn,useFactory:function(t){return t.routerState.root},deps:[Jr]},{provide:r.w,useClass:r.J},ni,ei,class{preload(t,e){return e().pipe(me(()=>Object(wt.a)(null)))}},{provide:ii,useValue:{enableTracing:!1}}];function ai(){return new r.y("Router",Jr)}let ui=(()=>{class t{constructor(t,e){}static forRoot(e,n){return{ngModule:t,providers:[si,fi(e),{provide:oi,useFactory:hi,deps:[[Jr,new r.A,new r.I]]},{provide:ii,useValue:n||{}},{provide:b,useFactory:li,deps:[u,[new r.p(v),new r.A],ii]},{provide:ri,useFactory:ci,deps:[Jr,bt,ii]},{provide:ti,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:ei},{provide:r.y,multi:!0,useFactory:ai},[di,{provide:r.d,multi:!0,useFactory:pi,deps:[di]},{provide:mi,useFactory:gi,deps:[di]},{provide:r.b,multi:!0,useExisting:mi}]]}}static forChild(e){return{ngModule:t,providers:[fi(e)]}}}return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)(r.Wb(oi,8),r.Wb(Jr,8))}}),t})();function ci(t,e,n){return n.scrollOffset&&e.setOffset(n.scrollOffset),new ri(t,e,n)}function li(t,e,n={}){return n.useHash?new _(t,e):new w(t,e)}function hi(t){return"guarded"}function fi(t){return[{provide:r.a,multi:!0,useValue:t},{provide:qr,multi:!0,useValue:t}]}let di=(()=>{class t{constructor(t){this.injector=t,this.initNavigation=!1,this.resultOfPreactivationDone=new Ot.a}appInitializer(){return this.injector.get(l,Promise.resolve(null)).then(()=>{let t=null;const e=new Promise(e=>t=e),n=this.injector.get(Jr),r=this.injector.get(ii);return"disabled"===r.initialNavigation?(n.setUpLocationChangeListener(),t(!0)):"enabled"===r.initialNavigation||"enabledBlocking"===r.initialNavigation?(n.hooks.afterPreactivation=()=>this.initNavigation?Object(wt.a)(null):(this.initNavigation=!0,t(!0),this.resultOfPreactivationDone),n.initialNavigation()):t(!0),e})}bootstrapListener(t){const e=this.injector.get(ii),n=this.injector.get(ni),i=this.injector.get(ri),o=this.injector.get(Jr),s=this.injector.get(r.g);t===s.components[0]&&("enabledNonBlocking"!==e.initialNavigation&&void 0!==e.initialNavigation||o.initialNavigation(),n.setUpPreloading(),i.init(),o.resetRootComponentType(s.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}}return t.\u0275fac=function(e){return new(e||t)(r.Wb(r.r))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})();function pi(t){return t.appInitializer.bind(t)}function gi(t){return t.bootstrapListener.bind(t)}const mi=new r.q("Router Initializer"),bi=[];let yi=(()=>{class t{}return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)},imports:[[ui.forRoot(bi)],ui]}),t})();class vi extends class extends class{}{constructor(){super()}supportsDOMEvents(){return!0}}{static makeCurrent(){var t;t=new vi,o||(o=t)}getProperty(t,e){return t[e]}log(t){window.console&&window.console.log&&window.console.log(t)}logGroup(t){window.console&&window.console.group&&window.console.group(t)}logGroupEnd(){window.console&&window.console.groupEnd&&window.console.groupEnd()}onAndCancel(t,e,n){return t.addEventListener(e,n,!1),()=>{t.removeEventListener(e,n,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){return t.parentNode&&t.parentNode.removeChild(t),t}getValue(t){return t.value}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getHistory(){return window.history}getLocation(){return window.location}getBaseHref(t){const e=_i||(_i=document.querySelector("base"),_i)?_i.getAttribute("href"):null;return null==e?null:(n=e,wi||(wi=document.createElement("a")),wi.setAttribute("href",n),"/"===wi.pathname.charAt(0)?wi.pathname:"/"+wi.pathname);var n}resetBaseElement(){_i=null}getUserAgent(){return window.navigator.userAgent}performanceNow(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}supportsCookies(){return!0}getCookie(t){return function(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const t=n.indexOf("="),[r,i]=-1==t?[n,""]:[n.slice(0,t),n.slice(t+1)];if(r.trim()===e)return decodeURIComponent(i)}return null}(document.cookie,t)}}let wi,_i=null;const Oi=new r.q("TRANSITION_ID"),Ei=[{provide:r.d,useFactory:function(t,e,n){return()=>{n.get(r.e).donePromise.then(()=>{const n=s();Array.prototype.slice.apply(e.querySelectorAll("style[ng-transition]")).filter(e=>e.getAttribute("ng-transition")===t).forEach(t=>n.remove(t))})}},deps:[Oi,a,r.r],multi:!0}];class Ci{static init(){Object(r.W)(new Ci)}addToWindow(t){r.nb.getAngularTestability=(e,n=!0)=>{const r=t.findTestabilityInTree(e,n);if(null==r)throw new Error("Could not find testability for element.");return r},r.nb.getAllAngularTestabilities=()=>t.getAllTestabilities(),r.nb.getAllAngularRootElements=()=>t.getAllRootElements(),r.nb.frameworkStabilizers||(r.nb.frameworkStabilizers=[]),r.nb.frameworkStabilizers.push(t=>{const e=r.nb.getAllAngularTestabilities();let n=e.length,i=!1;const o=function(e){i=i||e,n--,0==n&&t(i)};e.forEach(function(t){t.whenStable(o)})})}findTestabilityInTree(t,e,n){if(null==e)return null;const r=t.getTestability(e);return null!=r?r:n?s().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}const xi=new r.q("EventManagerPlugins");let Si=(()=>{class t{constructor(t,e){this._zone=e,this._eventNameToPlugin=new Map,t.forEach(t=>t.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,e,n){return this._findPluginFor(e).addEventListener(t,e,n)}addGlobalEventListener(t,e,n){return this._findPluginFor(e).addGlobalEventListener(t,e,n)}getZone(){return this._zone}_findPluginFor(t){const e=this._eventNameToPlugin.get(t);if(e)return e;const n=this._plugins;for(let r=0;r<n.length;r++){const e=n[r];if(e.supports(t))return this._eventNameToPlugin.set(t,e),e}throw new Error("No event manager plugin found for event "+t)}}return t.\u0275fac=function(e){return new(e||t)(r.Wb(xi),r.Wb(r.z))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})();class Ti{constructor(t){this._doc=t}addGlobalEventListener(t,e,n){const r=s().getGlobalEventTarget(this._doc,t);if(!r)throw new Error(`Unsupported event target ${r} for event ${e}`);return this.addEventListener(r,e,n)}}let Ii=(()=>{class t{constructor(){this._stylesSet=new Set}addStyles(t){const e=new Set;t.forEach(t=>{this._stylesSet.has(t)||(this._stylesSet.add(t),e.add(t))}),this.onStylesAdded(e)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})(),ki=(()=>{class t extends Ii{constructor(t){super(),this._doc=t,this._hostNodes=new Set,this._styleNodes=new Set,this._hostNodes.add(t.head)}_addStylesToHost(t,e){t.forEach(t=>{const n=this._doc.createElement("style");n.textContent=t,this._styleNodes.add(e.appendChild(n))})}addHost(t){this._addStylesToHost(this._stylesSet,t),this._hostNodes.add(t)}removeHost(t){this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach(e=>this._addStylesToHost(t,e))}ngOnDestroy(){this._styleNodes.forEach(t=>s().remove(t))}}return t.\u0275fac=function(e){return new(e||t)(r.Wb(a))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})();const Ai={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Di=/%COMP%/g;function ji(t,e,n){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?ji(t,i,n):(i=i.replace(Di,t),n.push(i))}return n}function Ni(t){return e=>{if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}let Pi=(()=>{class t{constructor(t,e,n){this.eventManager=t,this.sharedStylesHost=e,this.appId=n,this.rendererByCompId=new Map,this.defaultRenderer=new Ri(t)}createRenderer(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case r.Q.Emulated:{let n=this.rendererByCompId.get(e.id);return n||(n=new Mi(this.eventManager,this.sharedStylesHost,e,this.appId),this.rendererByCompId.set(e.id,n)),n.applyToHost(t),n}case 1:case r.Q.ShadowDom:return new Vi(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){const t=ji(e.id,e.styles,[]);this.sharedStylesHost.addStyles(t),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return t.\u0275fac=function(e){return new(e||t)(r.Wb(Si),r.Wb(ki),r.Wb(r.c))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})();class Ri{constructor(t){this.eventManager=t,this.data=Object.create(null)}destroy(){}createElement(t,e){return e?document.createElementNS(Ai[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,n){t&&t.insertBefore(e,n)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let n="string"==typeof t?document.querySelector(t):t;if(!n)throw new Error(`The selector "${t}" did not match any elements`);return e||(n.textContent=""),n}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,n,r){if(r){e=r+":"+e;const i=Ai[r];i?t.setAttributeNS(i,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)}removeAttribute(t,e,n){if(n){const r=Ai[n];r?t.removeAttributeNS(r,e):t.removeAttribute(`${n}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,n,i){i&(r.F.DashCase|r.F.Important)?t.style.setProperty(e,n,i&r.F.Important?"important":""):t.style[e]=n}removeStyle(t,e,n){n&r.F.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,n){t[e]=n}setValue(t,e){t.nodeValue=e}listen(t,e,n){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,Ni(n)):this.eventManager.addEventListener(t,e,Ni(n))}}class Mi extends Ri{constructor(t,e,n,r){super(t),this.component=n;const i=ji(r+"-"+n.id,n.styles,[]);e.addStyles(i),this.contentAttr="_ngcontent-%COMP%".replace(Di,r+"-"+n.id),this.hostAttr="_nghost-%COMP%".replace(Di,r+"-"+n.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const n=super.createElement(t,e);return super.setAttribute(n,this.contentAttr,""),n}}class Vi extends Ri{constructor(t,e,n,r){super(t),this.sharedStylesHost=e,this.hostEl=n,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const i=ji(r.id,r.styles,[]);for(let o=0;o<i.length;o++){const t=document.createElement("style");t.textContent=i[o],this.shadowRoot.appendChild(t)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,n){return super.insertBefore(this.nodeOrShadowRoot(t),e,n)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let Li=(()=>{class t extends Ti{constructor(t){super(t)}supports(t){return!0}addEventListener(t,e,n){return t.addEventListener(e,n,!1),()=>this.removeEventListener(t,e,n)}removeEventListener(t,e,n){return t.removeEventListener(e,n)}}return t.\u0275fac=function(e){return new(e||t)(r.Wb(a))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})();const Fi=["alt","control","meta","shift"],Ui={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Hi={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},zi={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let qi=(()=>{class t extends Ti{constructor(t){super(t)}supports(e){return null!=t.parseEventName(e)}addEventListener(e,n,r){const i=t.parseEventName(n),o=t.eventCallback(i.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>s().onAndCancel(e,i.domEventName,o))}static parseEventName(e){const n=e.toLowerCase().split("."),r=n.shift();if(0===n.length||"keydown"!==r&&"keyup"!==r)return null;const i=t._normalizeKey(n.pop());let o="";if(Fi.forEach(t=>{const e=n.indexOf(t);e>-1&&(n.splice(e,1),o+=t+".")}),o+=i,0!=n.length||0===i.length)return null;const s={};return s.domEventName=r,s.fullKey=o,s}static getEventFullKey(t){let e="",n=function(t){let e=t.key;if(null==e){if(e=t.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&Hi.hasOwnProperty(e)&&(e=Hi[e]))}return Ui[e]||e}(t);return n=n.toLowerCase()," "===n?n="space":"."===n&&(n="dot"),Fi.forEach(r=>{r!=n&&(0,zi[r])(t)&&(e+=r+".")}),e+=n,e}static eventCallback(e,n,r){return i=>{t.getEventFullKey(i)===e&&r.runGuarded(()=>n(i))}}static _normalizeKey(t){switch(t){case"esc":return"escape";default:return t}}}return t.\u0275fac=function(e){return new(e||t)(r.Wb(a))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})();const Bi=[{provide:r.B,useValue:"browser"},{provide:r.C,useValue:function(){vi.makeCurrent(),Ci.init()},multi:!0},{provide:a,useFactory:function(){return Object(r.sb)(document),document},deps:[]}],Wi=Object(r.R)(r.V,"browser",Bi),Gi=[[],{provide:r.Y,useValue:"root"},{provide:r.m,useFactory:function(){return new r.m},deps:[]},{provide:xi,useClass:Li,multi:!0,deps:[a,r.z,r.B]},{provide:xi,useClass:qi,multi:!0,deps:[a]},[],{provide:Pi,useClass:Pi,deps:[Si,ki,r.c]},{provide:r.E,useExisting:Pi},{provide:Ii,useExisting:ki},{provide:ki,useClass:ki,deps:[a]},{provide:r.L,useClass:r.L,deps:[r.z]},{provide:Si,useClass:Si,deps:[xi,r.z]},[]];let $i=(()=>{class t{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:t,providers:[{provide:r.c,useValue:e.appId},{provide:Oi,useExisting:r.c},Ei]}}}return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)(r.Wb(t,12))},providers:Gi,imports:[gt,r.f]}),t})();"undefined"!=typeof window&&window;var Ki=n("spgP"),Zi=n("D0XW");function Yi(){return t=>t.lift(new Ji)}class Ji{call(t,e){return e.subscribe(new Qi(t))}}class Qi extends Tt.a{constructor(t){super(t),this.hasPrev=!1}_next(t){let e;this.hasPrev?e=[this.prev,t]:this.hasPrev=!0,this.prev=t,e&&this.destination.next(e)}}class Xi{constructor(t,e){this.compare=t,this.keySelector=e}call(t,e){return e.subscribe(new to(t,this.compare,this.keySelector))}}class to extends Tt.a{constructor(t,e,n){super(t),this.keySelector=n,this.hasKey=!1,"function"==typeof e&&(this.compare=e)}compare(t,e){return t===e}_next(t){let e;try{const{keySelector:n}=this;e=n?n(t):t}catch(r){return this.destination.error(r)}let n=!1;if(this.hasKey)try{const{compare:t}=this;n=t(this.key,e)}catch(r){return this.destination.error(r)}else this.hasKey=!0;n||(this.key=e,this.destination.next(t))}}var eo=n("pxpQ"),no=n("Jgta"),ro=n("zIRd"),io=n("q/0M"),oo=n("qOnz"),so=function(t,e){return(so=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function ao(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var uo,co="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},lo=lo||{},ho=co||self;function fo(){}function po(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function go(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var mo="closure_uid_"+(1e9*Math.random()>>>0),bo=0;function yo(t,e,n){return t.call.apply(t.bind,arguments)}function vo(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function wo(t,e,n){return(wo=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?yo:vo).apply(null,arguments)}function _o(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function Oo(){return Date.now()}function Eo(t,e){function n(){}n.prototype=e.prototype,t.X=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Kb=function(t,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return e.prototype[n].apply(t,i)}}function Co(){this.j=this.j,this.i=this.i}Co.prototype.j=!1,Co.prototype.ja=function(){!this.j&&(this.j=!0,this.G(),0)&&function(t){Object.prototype.hasOwnProperty.call(t,mo)&&t[mo]||(t[mo]=++bo)}(this)},Co.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var xo=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},So=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)};function To(t){return Array.prototype.concat.apply([],arguments)}function Io(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function ko(t){return/^[\s\xa0]*$/.test(t)}var Ao,Do=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function jo(t,e){return-1!=t.indexOf(e)}function No(t,e){return t<e?-1:t>e?1:0}t:{var Po=ho.navigator;if(Po){var Ro=Po.userAgent;if(Ro){Ao=Ro;break t}}Ao=""}function Mo(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function Vo(t){var e={};for(var n in t)e[n]=t[n];return e}var Lo="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Fo(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<Lo.length;o++)n=Lo[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Uo(t){return Uo[" "](t),t}Uo[" "]=fo;var Ho,zo,qo=jo(Ao,"Opera"),Bo=jo(Ao,"Trident")||jo(Ao,"MSIE"),Wo=jo(Ao,"Edge"),Go=Wo||Bo,$o=jo(Ao,"Gecko")&&!(jo(Ao.toLowerCase(),"webkit")&&!jo(Ao,"Edge"))&&!(jo(Ao,"Trident")||jo(Ao,"MSIE"))&&!jo(Ao,"Edge"),Ko=jo(Ao.toLowerCase(),"webkit")&&!jo(Ao,"Edge");function Zo(){var t=ho.document;return t?t.documentMode:void 0}t:{var Yo="",Jo=(zo=Ao,$o?/rv:([^\);]+)(\)|;)/.exec(zo):Wo?/Edge\/([\d\.]+)/.exec(zo):Bo?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(zo):Ko?/WebKit\/(\S+)/.exec(zo):qo?/(?:Version)[ \/]?(\S+)/.exec(zo):void 0);if(Jo&&(Yo=Jo?Jo[1]:""),Bo){var Qo=Zo();if(null!=Qo&&Qo>parseFloat(Yo)){Ho=String(Qo);break t}}Ho=Yo}var Xo={};function ts(t){return function(t,e){var n=Xo;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e()}(t,function(){for(var e=0,n=Do(String(Ho)).split("."),r=Do(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var s=n[o]||"",a=r[o]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==s[0].length&&0==a[0].length)break;e=No(0==s[1].length?0:parseInt(s[1],10),0==a[1].length?0:parseInt(a[1],10))||No(0==s[2].length,0==a[2].length)||No(s[2],a[2]),s=s[3],a=a[3]}while(0==e)}return 0<=e})}var es=ho.document&&Bo&&(Zo()||parseInt(Ho,10))||void 0,ns=!Bo||9<=Number(es),rs=Bo&&!ts("9"),is=function(){if(!ho.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{ho.addEventListener("test",fo,e),ho.removeEventListener("test",fo,e)}catch(n){}return t}();function os(t,e){this.type=t,this.a=this.target=e,this.defaultPrevented=!1}function ss(t,e){if(os.call(this,t?t.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.a=e,e=t.relatedTarget){if($o){t:{try{Uo(e.nodeName);var i=!0;break t}catch(o){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:as[t.pointerType]||"",this.c=t,t.defaultPrevented&&this.b()}}os.prototype.b=function(){this.defaultPrevented=!0},Eo(ss,os);var as={2:"touch",3:"pen",4:"mouse"};ss.prototype.b=function(){ss.X.b.call(this);var t=this.c;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,rs)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(e){}};var us="closure_listenable_"+(1e6*Math.random()|0),cs=0;function ls(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ca=i,this.key=++cs,this.Y=this.Z=!1}function hs(t){t.Y=!0,t.listener=null,t.proxy=null,t.src=null,t.ca=null}function fs(t){this.src=t,this.a={},this.b=0}function ds(t,e){var n=e.type;if(n in t.a){var r,i=t.a[n],o=xo(i,e);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(hs(e),0==t.a[n].length&&(delete t.a[n],t.b--))}}function ps(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.Y&&o.listener==e&&o.capture==!!n&&o.ca==r)return i}return-1}fs.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var s=ps(t,e,r,i);return-1<s?(e=t[s],n||(e.Z=!1)):((e=new ls(e,this.src,o,!!r,i)).Z=n,t.push(e)),e};var gs="closure_lm_"+(1e6*Math.random()|0),ms={};function bs(t,e,n,r,i){if(r&&r.once)return vs(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)bs(t,e[o],n,r,i);return null}return n=Ts(n),t&&t[us]?t.va(e,n,go(r)?!!r.capture:!!r,i):ys(t,e,n,!1,r,i)}function ys(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=go(i)?!!i.capture:!!i;if(s&&!ns)return null;var a=xs(t);if(a||(t[gs]=a=new fs(t)),(n=a.add(e,n,r,s,o)).proxy)return n;if(r=function(){var t=Cs,e=ns?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)is||(i=s),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(Os(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function vs(t,e,n,r,i){if(Array.isArray(e)){for(var o=0;o<e.length;o++)vs(t,e[o],n,r,i);return null}return n=Ts(n),t&&t[us]?t.wa(e,n,go(r)?!!r.capture:!!r,i):ys(t,e,n,!0,r,i)}function ws(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)ws(t,e[o],n,r,i);else r=go(r)?!!r.capture:!!r,n=Ts(n),t&&t[us]?(t=t.c,(e=String(e).toString())in t.a&&-1<(n=ps(o=t.a[e],n,r,i))&&(hs(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.a[e],t.b--))):t&&(t=xs(t))&&(e=t.a[e.toString()],t=-1,e&&(t=ps(e,n,r,i)),(n=-1<t?e[t]:null)&&_s(n))}function _s(t){if("number"!=typeof t&&t&&!t.Y){var e=t.src;if(e&&e[us])ds(e.c,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(Os(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=xs(e))?(ds(n,t),0==n.b&&(n.src=null,e[gs]=null)):hs(t)}}}function Os(t){return t in ms?ms[t]:ms[t]="on"+t}function Es(t,e){var n=t.listener,r=t.ca||t.src;return t.Z&&_s(t),n.call(r,e)}function Cs(t,e){if(t.Y)return!0;if(!ns){if(!e)t:{e=["window","event"];for(var n=ho,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}return Es(t,e=new ss(e,this))}return Es(t,new ss(e,this))}function xs(t){return(t=t[gs])instanceof fs?t:null}var Ss="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ts(t){return"function"==typeof t?t:(t[Ss]||(t[Ss]=function(e){return t.handleEvent(e)}),t[Ss])}function Is(){Co.call(this),this.c=new fs(this),this.J=this,this.C=null}function ks(t,e){var n,r=t.C;if(r)for(n=[];r;r=r.C)n.push(r);if(t=t.J,r=e.type||e,"string"==typeof e)e=new os(e,t);else if(e instanceof os)e.target=e.target||t;else{var i=e;Fo(e=new os(r,t),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var s=e.a=n[o];i=As(s,r,!0,e)&&i}if(i=As(s=e.a=t,r,!0,e)&&i,i=As(s,r,!1,e)&&i,n)for(o=0;o<n.length;o++)i=As(s=e.a=n[o],r,!1,e)&&i}function As(t,e,n,r){if(!(e=t.c.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.Y&&s.capture==n){var a=s.listener,u=s.ca||s.src;s.Z&&ds(t.c,s),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}Eo(Is,Co),Is.prototype[us]=!0,(uo=Is.prototype).addEventListener=function(t,e,n,r){bs(this,t,e,n,r)},uo.removeEventListener=function(t,e,n,r){ws(this,t,e,n,r)},uo.G=function(){if(Is.X.G.call(this),this.c){var t,e=this.c;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)hs(n[r]);delete e.a[t],e.b--}}this.C=null},uo.va=function(t,e,n,r){return this.c.add(String(t),e,!1,n,r)},uo.wa=function(t,e,n,r){return this.c.add(String(t),e,!0,n,r)};var Ds=ho.JSON.stringify;function js(){this.b=this.a=null}var Ns,Ps=new(function(){function t(t,e){this.c=t,this.f=e,this.b=0,this.a=null}return t.prototype.get=function(){var t;return 0<this.b?(this.b--,this.a=(t=this.a).next,t.next=null):t=this.c(),t},t}())(function(){return new Ms},function(t){t.reset()});function Rs(){var t=Us,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function Ms(){this.next=this.b=this.a=null}function Vs(t){ho.setTimeout(function(){throw t},0)}function Ls(t,e){Ns||function(){var t=ho.Promise.resolve(void 0);Ns=function(){t.then(Hs)}}(),Fs||(Ns(),Fs=!0),Us.add(t,e)}js.prototype.add=function(t,e){var n=Ps.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},Ms.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},Ms.prototype.reset=function(){this.next=this.b=this.a=null};var Fs=!1,Us=new js;function Hs(){for(var t;t=Rs();){try{t.a.call(t.b)}catch(n){Vs(n)}var e=Ps;e.f(t),100>e.b&&(e.b++,t.next=e.a,e.a=t)}Fs=!1}function zs(t,e){Is.call(this),this.b=t||1,this.a=e||ho,this.f=wo(this.Za,this),this.g=Oo()}function qs(t){t.aa=!1,t.M&&(t.a.clearTimeout(t.M),t.M=null)}function Bs(t,e,n){if("function"==typeof t)n&&(t=wo(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=wo(t.handleEvent,t)}return 2147483647<Number(e)?-1:ho.setTimeout(t,e||0)}function Ws(t){t.a=Bs(function(){t.a=null,t.c&&(t.c=!1,Ws(t))},t.h);var e=t.b;t.b=null,t.g.apply(null,e)}Eo(zs,Is),(uo=zs.prototype).aa=!1,uo.M=null,uo.Za=function(){if(this.aa){var t=Oo()-this.g;0<t&&t<.8*this.b?this.M=this.a.setTimeout(this.f,this.b-t):(this.M&&(this.a.clearTimeout(this.M),this.M=null),ks(this,"tick"),this.aa&&(qs(this),this.start()))}},uo.start=function(){this.aa=!0,this.M||(this.M=this.a.setTimeout(this.f,this.b),this.g=Oo())},uo.G=function(){zs.X.G.call(this),qs(this),delete this.a};var Gs=function(t){function e(e,n){var r=t.call(this)||this;return r.g=e,r.h=n,r.b=null,r.c=!1,r.a=null,r}return function(t,e){function n(){this.constructor=t}so(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype.f=function(t){this.b=arguments,this.a?this.c=!0:Ws(this)},e.prototype.G=function(){t.prototype.G.call(this),this.a&&(ho.clearTimeout(this.a),this.a=null,this.c=!1,this.b=null)},e}(Co);function $s(t){Co.call(this),this.b=t,this.a={}}Eo($s,Co);var Ks=[];function Zs(t,e,n,r){Array.isArray(n)||(n&&(Ks[0]=n.toString()),n=Ks);for(var i=0;i<n.length;i++){var o=bs(e,n[i],r||t.handleEvent,!1,t.b||t);if(!o)break;t.a[o.key]=o}}function Ys(t){Mo(t.a,function(t,e){this.a.hasOwnProperty(e)&&_s(t)},t),t.a={}}function Js(){this.a=!0}function Qs(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.a)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var s=1;s<i.length;s++)i[s]=""}}}return Ds(n)}catch(a){return e}}(t,n)+(r?" "+r:"")})}$s.prototype.G=function(){$s.X.G.call(this),Ys(this)},$s.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Js.prototype.info=function(){};var Xs={},ta=null;function ea(){return ta=ta||new Is}function na(t){os.call(this,Xs.Fa,t)}function ra(t){var e=ea();ks(e,new na(e,t))}function ia(t,e){os.call(this,Xs.STAT_EVENT,t),this.stat=e}function oa(t){var e=ea();ks(e,new ia(e,t))}function sa(t){os.call(this,Xs.Ga,t)}function aa(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return ho.setTimeout(function(){t()},e)}Xs.Fa="serverreachability",Eo(na,os),Xs.STAT_EVENT="statevent",Eo(ia,os),Xs.Ga="timingevent",Eo(sa,os);var ua={NO_ERROR:0,$a:1,nb:2,mb:3,hb:4,lb:5,ob:6,Da:7,TIMEOUT:8,rb:9},ca={fb:"complete",Bb:"success",Ea:"error",Da:"abort",tb:"ready",ub:"readystatechange",TIMEOUT:"timeout",pb:"incrementaldata",sb:"progress",ib:"downloadprogress",Jb:"uploadprogress"};function la(){}function ha(){}la.prototype.a=null;var fa,da={OPEN:"a",eb:"b",Ea:"c",qb:"d"};function pa(){os.call(this,"d")}function ga(){os.call(this,"c")}function ma(){}function ba(t,e,n,r){this.g=t,this.c=e,this.f=n,this.S=r||1,this.J=new $s(this),this.P=ya,this.R=new zs(t=Go?125:void 0),this.B=null,this.b=!1,this.j=this.l=this.i=this.H=this.u=this.T=this.o=null,this.s=[],this.a=null,this.D=0,this.h=this.m=null,this.N=-1,this.A=!1,this.O=0,this.F=null,this.V=this.C=this.U=this.I=!1}Eo(pa,os),Eo(ga,os),Eo(ma,la),fa=new ma;var ya=45e3,va={},wa={};function _a(t,e,n){t.H=1,t.i=qa(Va(e)),t.j=n,t.I=!0,Oa(t,null)}function Oa(t,e){t.u=Oo(),xa(t),t.l=Va(t.i);var n=t.l,r=t.S;Array.isArray(r)||(r=[String(r)]),nu(n.b,"t",r),t.D=0,t.a=Yu(t.g,t.g.C?e:null),0<t.O&&(t.F=new Gs(wo(t.Ca,t,t.a),t.O)),Zs(t.J,t.a,"readystatechange",t.Xa),e=t.B?Vo(t.B):{},t.j?(t.m||(t.m="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.a.ba(t.l,t.m,t.j,e)):(t.m="GET",t.a.ba(t.l,t.m,null,e)),ra(1),function(t,e,n,r,i,o){t.info(function(){if(t.a)if(o)for(var s="",a=o.split("&"),u=0;u<a.length;u++){var c=a[u].split("=");if(1<c.length){var l=c[0];c=c[1];var h=l.split("_");s=2<=h.length&&"type"==h[1]?s+(l+"=")+c+"&":s+(l+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+s})}(t.c,t.m,t.l,t.f,t.S,t.j)}function Ea(t,e,n){for(var r=!0;!t.A&&t.D<n.length;){var i=Ca(t,n);if(i==wa){4==e&&(t.h=4,oa(14),r=!1),Qs(t.c,t.f,null,"[Incomplete Response]");break}if(i==va){t.h=4,oa(15),Qs(t.c,t.f,n,"[Invalid Chunk]"),r=!1;break}Qs(t.c,t.f,i,null),Aa(t,i)}4==e&&0==n.length&&(t.h=1,oa(16),r=!1),t.b=t.b&&r,r?0<n.length&&!t.V&&(t.V=!0,(e=t.g).a==t&&e.U&&!e.F&&(e.c.info("Great, no buffering proxy detected. Bytes received: "+n.length),zu(e),e.F=!0,oa(11))):(Qs(t.c,t.f,n,"[Invalid Chunked Response]"),ka(t),Ia(t))}function Ca(t,e){var n=t.D,r=e.indexOf("\n",n);return-1==r?wa:(n=Number(e.substring(n,r)),isNaN(n)?va:(r+=1)+n>e.length?wa:(e=e.substr(r,n),t.D=r+n,e))}function xa(t){t.T=Oo()+t.P,Sa(t,t.P)}function Sa(t,e){if(null!=t.o)throw Error("WatchDog timer not null");t.o=aa(wo(t.Va,t),e)}function Ta(t){t.o&&(ho.clearTimeout(t.o),t.o=null)}function Ia(t){0==t.g.v||t.A||Wu(t.g,t)}function ka(t){Ta(t);var e=t.F;e&&"function"==typeof e.ja&&e.ja(),t.F=null,qs(t.R),Ys(t.J),t.a&&(e=t.a,t.a=null,e.abort(),e.ja())}function Aa(t,e){try{var n=t.g;if(0!=n.v&&(n.a==t||cu(n.b,t)))if(n.I=t.N,!t.C&&cu(n.b,t)&&3==n.v){try{var r=n.ka.a.parse(e)}catch(Ry){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){t:if(!n.j){if(n.a){if(!(n.a.u+3e3<t.u))break t;Bu(n),Nu(n)}Hu(n),oa(18)}}else n.oa=i[1],0<n.oa-n.P&&37500>i[2]&&n.H&&0==n.o&&!n.m&&(n.m=aa(wo(n.Sa,n),6e3));if(1>=uu(n.b)&&n.ea){try{n.ea()}catch(Ry){}n.ea=void 0}}else $u(n,11)}else if((t.C||n.a==t)&&Bu(n),!ko(e))for(e=r=n.ka.a.parse(e),r=0;r<e.length;r++)if(n.P=(i=e[r])[0],i=i[1],2==n.v)if("c"==i[0]){n.J=i[1],n.ga=i[2];var o=i[3];null!=o&&(n.ha=o,n.c.info("VER="+n.ha));var s=i[4];null!=s&&(n.pa=s,n.c.info("SVER="+n.pa));var a=i[5];if(null!=a&&"number"==typeof a&&0<a){var u=1.5*a;n.D=u,n.c.info("backChannelRequestTimeoutMs_="+u)}u=n;var c=t.a;if(c){var l=c.a?c.a.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var h=u.b;!h.a&&(jo(l,"spdy")||jo(l,"quic")||jo(l,"h2"))&&(h.f=h.g,h.a=new Set,h.b&&(lu(h,h.b),h.b=null))}if(u.A){var f=c.a?c.a.getResponseHeader("X-HTTP-Session-Id"):null;f&&(u.na=f,za(u.B,u.A,f))}}n.v=3,n.f&&n.f.ta(),n.U&&(n.N=Oo()-t.u,n.c.info("Handshake RTT: "+n.N+"ms"));var d=t;if((u=n).la=Zu(u,u.C?u.ga:null,u.fa),d.C){hu(u.b,d);var p=d,g=u.D;g&&p.setTimeout(g),p.o&&(Ta(p),xa(p)),u.a=d}else Uu(u);0<n.g.length&&Mu(n)}else"stop"!=i[0]&&"close"!=i[0]||$u(n,7);else 3==n.v&&("stop"==i[0]||"close"==i[0]?"stop"==i[0]?$u(n,7):ju(n):"noop"!=i[0]&&n.f&&n.f.sa(i),n.o=0);ra(4)}catch(Ry){}}function Da(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(po(t)||"string"==typeof t)So(t,e,void 0);else{if(t.L&&"function"==typeof t.L)var n=t.L();else if(t.K&&"function"==typeof t.K)n=void 0;else if(po(t)||"string"==typeof t){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;i=(r=function(t){if(t.K&&"function"==typeof t.K)return t.K();if("string"==typeof t)return t.split("");if(po(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t)).length;for(var o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}}function ja(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof ja)for(n=t.L(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function Na(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];Pa(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)Pa(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function Pa(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(uo=ba.prototype).setTimeout=function(t){this.P=t},uo.Xa=function(t){t=t.target;var e=this.F;e&&3==Iu(t)?e.f():this.Ca(t)},uo.Ca=function(t){try{if(t==this.a)t:{var e=Iu(this.a),n=this.a.ua(),r=this.a.W();if(!(3>e||3==e&&!Go&&!this.a.$())){this.A||4!=e||7==n||ra(8==n||0>=r?3:2),Ta(this);var i=this.a.W();this.N=i;var o=this.a.$();if(this.b=200==i,function(t,e,n,r,i,o,s){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+o+" "+s})}(this.c,this.m,this.l,this.f,this.S,e,i),this.b){if(this.U&&!this.C){e:{if(this.a){var s,a=this.a;if((s=a.a?a.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ko(s)){var u=s;break e}}u=null}if(!u){this.b=!1,this.h=3,oa(12),ka(this),Ia(this);break t}Qs(this.c,this.f,u,"Initial handshake response via X-HTTP-Initial-Response"),this.C=!0,Aa(this,u)}this.I?(Ea(this,e,o),Go&&this.b&&3==e&&(Zs(this.J,this.R,"tick",this.Wa),this.R.start())):(Qs(this.c,this.f,o,null),Aa(this,o)),4==e&&ka(this),this.b&&!this.A&&(4==e?Wu(this.g,this):(this.b=!1,xa(this)))}else 400==i&&0<o.indexOf("Unknown SID")?(this.h=3,oa(12)):(this.h=0,oa(13)),ka(this),Ia(this)}}}catch(c){}},uo.Wa=function(){if(this.a){var t=Iu(this.a),e=this.a.$();this.D<e.length&&(Ta(this),Ea(this,t,e),this.b&&4!=t&&xa(this))}},uo.cancel=function(){this.A=!0,ka(this)},uo.Va=function(){this.o=null;var t=Oo();0<=t-this.T?(function(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.c,this.l),2!=this.H&&(ra(3),oa(17)),ka(this),this.h=2,Ia(this)):Sa(this,this.T-t)},(uo=ja.prototype).K=function(){Na(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},uo.L=function(){return Na(this),this.a.concat()},uo.get=function(t,e){return Pa(this.b,t)?this.b[t]:e},uo.set=function(t,e){Pa(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},uo.forEach=function(t,e){for(var n=this.L(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var Ra=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Ma(t,e){if(this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,t instanceof Ma){this.a=void 0!==e?e:t.a,La(this,t.f),this.j=t.j,Fa(this,t.c),Ua(this,t.h),this.g=t.g,e=t.b;var n=new Qa;n.c=e.c,e.a&&(n.a=new ja(e.a),n.b=e.b),Ha(this,n),this.i=t.i}else t&&(n=String(t).match(Ra))?(this.a=!!e,La(this,n[1]||"",!0),this.j=Ba(n[2]||""),Fa(this,n[3]||"",!0),Ua(this,n[4]),this.g=Ba(n[5]||"",!0),Ha(this,n[6]||"",!0),this.i=Ba(n[7]||"")):(this.a=!!e,this.b=new Qa(null,this.a))}function Va(t){return new Ma(t)}function La(t,e,n){t.f=n?Ba(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function Fa(t,e,n){t.c=n?Ba(e,!0):e}function Ua(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.h=e}else t.h=null}function Ha(t,e,n){e instanceof Qa?(t.b=e,function(t,e){e&&!t.f&&(Xa(t),t.c=null,t.a.forEach(function(t,e){var n=e.toLowerCase();e!=n&&(tu(this,e),nu(this,n,t))},t)),t.f=e}(t.b,t.a)):(n||(e=Wa(e,Ya)),t.b=new Qa(e,t.a))}function za(t,e,n){t.b.set(e,n)}function qa(t){return za(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Oo()).toString(36)),t}function Ba(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Wa(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,Ga),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Ga(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Ma.prototype.toString=function(){var t=[],e=this.f;e&&t.push(Wa(e,$a,!0),":");var n=this.c;return(n||"file"==e)&&(t.push("//"),(e=this.j)&&t.push(Wa(e,$a,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.h)&&t.push(":",String(n))),(n=this.g)&&(this.c&&"/"!=n.charAt(0)&&t.push("/"),t.push(Wa(n,"/"==n.charAt(0)?Za:Ka,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.i)&&t.push("#",Wa(n,Ja)),t.join("")};var $a=/[#\/\?@]/g,Ka=/[#\?:]/g,Za=/[#\?]/g,Ya=/[#\?@]/g,Ja=/#/g;function Qa(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function Xa(t){t.a||(t.a=new ja,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function tu(t,e){Xa(t),e=ru(t,e),Pa(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,Pa((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&Na(t)))}function eu(t,e){return Xa(t),e=ru(t,e),Pa(t.a.b,e)}function nu(t,e,n){tu(t,e),0<n.length&&(t.c=null,t.a.set(ru(t,e),Io(n)),t.b+=n.length)}function ru(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}(uo=Qa.prototype).add=function(t,e){Xa(this),this.c=null,t=ru(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},uo.forEach=function(t,e){Xa(this),this.a.forEach(function(n,r){So(n,function(n){t.call(e,n,r,this)},this)},this)},uo.L=function(){Xa(this);for(var t=this.a.K(),e=this.a.L(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},uo.K=function(t){Xa(this);var e=[];if("string"==typeof t)eu(this,t)&&(e=To(e,this.a.get(ru(this,t))));else{t=this.a.K();for(var n=0;n<t.length;n++)e=To(e,t[n])}return e},uo.set=function(t,e){return Xa(this),this.c=null,eu(this,t=ru(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},uo.get=function(t,e){return t&&0<(t=this.K(t)).length?String(t[0]):e},uo.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.L(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.K(r);for(var o=0;o<r.length;o++){var s=i;""!==r[o]&&(s+="="+encodeURIComponent(String(r[o]))),t.push(s)}}return this.c=t.join("&")};var iu=function(){return function(t,e){this.b=t,this.a=e}}();function ou(t){this.g=t||su,t=ho.PerformanceNavigationTiming?0<(t=ho.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(ho.ia&&ho.ia.ya&&ho.ia.ya()&&ho.ia.ya().Lb),this.f=t?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}var su=10;function au(t){return!!t.b||!!t.a&&t.a.size>=t.f}function uu(t){return t.b?1:t.a?t.a.size:0}function cu(t,e){return t.b?t.b==e:!!t.a&&t.a.has(e)}function lu(t,e){t.a?t.a.add(e):t.b=e}function hu(t,e){t.b&&t.b==e?t.b=null:t.a&&t.a.has(e)&&t.a.delete(e)}function fu(t){var e,n;if(null!=t.b)return t.c.concat(t.b.s);if(null!=t.a&&0!==t.a.size){var r=t.c;try{for(var i=ao(t.a.values()),o=i.next();!o.done;o=i.next())r=r.concat(o.value.s)}catch(s){e={error:s}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}return Io(t.c)}function du(){}function pu(){this.a=new du}function gu(t,e,n){var r=n||"";try{Da(t,function(t,n){var i=t;go(t)&&(i=Ds(t)),e.push(r+n+"="+encodeURIComponent(i))})}catch(Ov){throw e.push(r+"type="+encodeURIComponent("_badmap")),Ov}}function mu(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(o){}}ou.prototype.cancel=function(){var t,e;if(this.c=fu(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&0!==this.a.size){try{for(var n=ao(this.a.values()),r=n.next();!r.done;r=n.next())r.value.cancel()}catch(i){t={error:i}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.a.clear()}},du.prototype.stringify=function(t){return ho.JSON.stringify(t,void 0)},du.prototype.parse=function(t){return ho.JSON.parse(t,void 0)};var bu=ho.JSON.parse;function yu(t){Is.call(this),this.headers=new ja,this.H=t||null,this.b=!1,this.s=this.a=null,this.B="",this.h=0,this.f="",this.g=this.A=this.l=this.u=!1,this.o=0,this.m=null,this.I=vu,this.D=this.F=!1}Eo(yu,Is);var vu="",wu=/^https?$/i,_u=["POST","PUT"];function Ou(t){return"content-type"==t.toLowerCase()}function Eu(t,e){t.b=!1,t.a&&(t.g=!0,t.a.abort(),t.g=!1),t.f=e,t.h=5,Cu(t),Su(t)}function Cu(t){t.u||(t.u=!0,ks(t,"complete"),ks(t,"error"))}function xu(t){if(t.b&&void 0!==lo&&(!t.s[1]||4!=Iu(t)||2!=t.W()))if(t.l&&4==Iu(t))Bs(t.za,0,t);else if(ks(t,"readystatechange"),4==Iu(t)){t.b=!1;try{var e,n=t.W();t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var o=String(t.B).match(Ra)[1]||null;if(!o&&ho.self&&ho.self.location){var s=ho.self.location.protocol;o=s.substr(0,s.length-1)}i=!wu.test(o?o.toLowerCase():"")}e=i}if(e)ks(t,"complete"),ks(t,"success");else{t.h=6;try{var a=2<Iu(t)?t.a.statusText:""}catch(n){a=""}t.f=a+" ["+t.W()+"]",Cu(t)}}finally{Su(t)}}}function Su(t,e){if(t.a){Tu(t);var n=t.a,r=t.s[0]?fo:null;t.a=null,t.s=null,e||ks(t,"ready");try{n.onreadystatechange=r}catch(Ov){}}}function Tu(t){t.a&&t.D&&(t.a.ontimeout=null),t.m&&(ho.clearTimeout(t.m),t.m=null)}function Iu(t){return t.a?t.a.readyState:0}function ku(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}r||(n=function(t){var e="";return Mo(t,function(t,n){e+=n,e+=":",e+=t,e+="\r\n"}),e}(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):za(t,e,n))}function Au(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function Du(t){this.pa=0,this.g=[],this.c=new Js,this.ga=this.la=this.B=this.fa=this.a=this.na=this.A=this.V=this.i=this.O=this.l=null,this.Oa=this.R=0,this.La=Au("failFast",!1,t),this.H=this.m=this.j=this.h=this.f=null,this.S=!0,this.I=this.oa=this.P=-1,this.T=this.o=this.u=0,this.Ha=Au("baseRetryDelayMs",5e3,t),this.Ra=Au("retryDelaySeedMs",1e4,t),this.Ma=Au("forwardChannelMaxRetries",2,t),this.ma=Au("forwardChannelRequestTimeoutMs",2e4,t),this.Na=t&&t.g||void 0,this.D=void 0,this.C=t&&t.supportsCrossDomainXhr||!1,this.J="",this.b=new ou(t&&t.concurrentRequestLimit),this.ka=new pu,this.da=t&&t.fastHandshake||!1,this.Ia=t&&t.b||!1,t&&t.f&&(this.c.a=!1),t&&t.forceLongPolling&&(this.S=!1),this.U=!this.da&&this.S&&t&&t.detectBufferingProxy||!1,this.ea=void 0,this.N=0,this.F=!1,this.s=null,(this.Ka=t&&t.c||!1)&&this.c.info("Opt-in to enable Chrome Origin Trials.")}function ju(t){if(Pu(t),3==t.v){var e=t.R++,n=Va(t.B);za(n,"SID",t.J),za(n,"RID",e),za(n,"TYPE","terminate"),Lu(t,n),(e=new ba(t,t.c,e,void 0)).H=2,e.i=qa(Va(n)),n=!1,ho.navigator&&ho.navigator.sendBeacon&&(n=ho.navigator.sendBeacon(e.i.toString(),"")),!n&&ho.Image&&((new Image).src=e.i,n=!0),n||(e.a=Yu(e.g,null),e.a.ba(e.i)),e.u=Oo(),xa(e)}Ku(t)}function Nu(t){t.a&&(zu(t),t.a.cancel(),t.a=null)}function Pu(t){Nu(t),t.j&&(ho.clearTimeout(t.j),t.j=null),Bu(t),t.b.cancel(),t.h&&("number"==typeof t.h&&ho.clearTimeout(t.h),t.h=null)}function Ru(t,e){t.g.push(new iu(t.Oa++,e)),3==t.v&&Mu(t)}function Mu(t){au(t.b)||t.h||(t.h=!0,Ls(t.Ba,t),t.u=0)}function Vu(t,e){var n;n=e?e.f:t.R++;var r=Va(t.B);za(r,"SID",t.J),za(r,"RID",n),za(r,"AID",t.P),Lu(t,r),t.i&&t.l&&ku(r,t.i,t.l),n=new ba(t,t.c,n,t.u+1),null===t.i&&(n.B=t.l),e&&(t.g=e.s.concat(t.g)),e=Fu(t,n,1e3),n.setTimeout(Math.round(.5*t.ma)+Math.round(.5*t.ma*Math.random())),lu(t.b,n),_a(n,r,e)}function Lu(t,e){t.f&&Da({},function(t,n){za(e,n,t)})}function Fu(t,e,n){n=Math.min(t.g.length,n);var r=t.f?wo(t.f.Ja,t.f,t):null;t:for(var i=t.g,o=-1;;){var s=["count="+n];-1==o?0<n?s.push("ofs="+(o=i[0].b)):o=0:s.push("ofs="+o);for(var a=!0,u=0;u<n;u++){var c=i[u].b,l=i[u].a;if(0>(c-=o))o=Math.max(0,i[u].b-100),a=!1;else try{gu(l,s,"req"+c+"_")}catch(jc){r&&r(l)}}if(a){r=s.join("&");break t}}return t=t.g.splice(0,n),e.s=t,r}function Uu(t){t.a||t.j||(t.T=1,Ls(t.Aa,t),t.o=0)}function Hu(t){return!(t.a||t.j||3<=t.o||(t.T++,t.j=aa(wo(t.Aa,t),Gu(t,t.o)),t.o++,0))}function zu(t){null!=t.s&&(ho.clearTimeout(t.s),t.s=null)}function qu(t){t.a=new ba(t,t.c,"rpc",t.T),null===t.i&&(t.a.B=t.l),t.a.O=0;var e=Va(t.la);za(e,"RID","rpc"),za(e,"SID",t.J),za(e,"CI",t.H?"0":"1"),za(e,"AID",t.P),Lu(t,e),za(e,"TYPE","xmlhttp"),t.i&&t.l&&ku(e,t.i,t.l),t.D&&t.a.setTimeout(t.D);var n=t.a;t=t.ga,n.H=1,n.i=qa(Va(e)),n.j=null,n.I=!0,Oa(n,t)}function Bu(t){null!=t.m&&(ho.clearTimeout(t.m),t.m=null)}function Wu(t,e){var n=null;if(t.a==e){Bu(t),zu(t),t.a=null;var r=2}else{if(!cu(t.b,e))return;n=e.s,hu(t.b,e),r=1}if(t.I=e.N,0!=t.v)if(e.b)if(1==r){n=e.j?e.j.length:0,e=Oo()-e.u;var i=t.u;ks(r=ea(),new sa(r,n,e,i)),Mu(t)}else Uu(t);else if(3==(i=e.h)||0==i&&0<t.I||!(1==r&&function(t,e){return!(uu(t.b)>=t.b.f-(t.h?1:0)||(t.h?(t.g=e.s.concat(t.g),0):1==t.v||2==t.v||t.u>=(t.La?0:t.Ma)||(t.h=aa(wo(t.Ba,t,e),Gu(t,t.u)),t.u++,0)))}(t,e)||2==r&&Hu(t)))switch(n&&0<n.length&&(e=t.b,e.c=e.c.concat(n)),i){case 1:$u(t,5);break;case 4:$u(t,10);break;case 3:$u(t,6);break;default:$u(t,2)}}function Gu(t,e){var n=t.Ha+Math.floor(Math.random()*t.Ra);return t.f||(n*=2),n*e}function $u(t,e){if(t.c.info("Error code "+e),2==e){var n=null;t.f&&(n=null);var r=wo(t.Ya,t);n||(n=new Ma("//www.google.com/images/cleardot.gif"),ho.location&&"http"==ho.location.protocol||La(n,"https"),qa(n)),function(t,e){var n=new Js;if(ho.Image){var r=new Image;r.onload=_o(mu,n,r,"TestLoadImage: loaded",!0,e),r.onerror=_o(mu,n,r,"TestLoadImage: error",!1,e),r.onabort=_o(mu,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=_o(mu,n,r,"TestLoadImage: timeout",!1,e),ho.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}(n.toString(),r)}else oa(2);t.v=0,t.f&&t.f.ra(e),Ku(t),Pu(t)}function Ku(t){t.v=0,t.I=-1,t.f&&(0==fu(t.b).length&&0==t.g.length||(t.b.c.length=0,Io(t.g),t.g.length=0),t.f.qa())}function Zu(t,e,n){var r=function(t){return t instanceof Ma?Va(t):new Ma(t,void 0)}(n);if(""!=r.c)e&&Fa(r,e+"."+r.c),Ua(r,r.h);else{var i=ho.location;r=function(t,e,n,r){var i=new Ma(null,void 0);return t&&La(i,t),e&&Fa(i,e),n&&Ua(i,n),r&&(i.g=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.V&&Mo(t.V,function(t,e){za(r,e,t)}),n=t.na,(e=t.A)&&n&&za(r,e,n),za(r,"VER",t.ha),Lu(t,r),r}function Yu(t,e){if(e&&!t.C)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new yu(t.Na)).F=t.C,e}function Ju(){}function Qu(){if(Bo&&!(10<=Number(es)))throw Error("Environmental error: no available transport.")}function Xu(t,e){Is.call(this),this.a=new Du(e),this.o=t,this.b=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.a.l=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.a&&(t?t["X-WebChannel-Client-Profile"]=e.a:t={"X-WebChannel-Client-Profile":e.a}),this.a.O=t,(t=e&&e.httpHeadersOverwriteParam)&&!ko(t)&&(this.a.i=t),this.m=e&&e.supportsCrossDomainXhr||!1,this.l=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!ko(e)&&(this.a.A=e,null!==(t=this.b)&&e in t&&e in(t=this.b)&&delete t[e]),this.f=new nc(this)}function tc(t){pa.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.c=t)?(t=this.c,this.data=null!==e&&t in e?e[t]:void 0):this.data=e}else this.data=t}function ec(){ga.call(this),this.status=1}function nc(t){this.a=t}(uo=yu.prototype).ba=function(t,e,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.B+"; newUri="+t);e=e?e.toUpperCase():"GET",this.B=t,this.f="",this.h=0,this.u=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=function(t){var e;return(e=t.a)||(e=t.a={}),e}(this.H?this.H:fa),this.a.onreadystatechange=wo(this.za,this);try{this.A=!0,this.a.open(e,String(t),!0),this.A=!1}catch(o){return void Eu(this,o)}t=n||"";var i=new ja(this.headers);r&&Da(r,function(t,e){i.set(e,t)}),r=function(t){t:{for(var e=Ou,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(i.L()),n=ho.FormData&&t instanceof ho.FormData,!(0<=xo(_u,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(t,e){this.a.setRequestHeader(e,t)},this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{Tu(this),0<this.o&&((this.D=function(t){return Bo&&ts(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.a))?(this.a.timeout=this.o,this.a.ontimeout=wo(this.xa,this)):this.m=Bs(this.xa,this.o,this)),this.l=!0,this.a.send(t),this.l=!1}catch(o){Eu(this,o)}},uo.xa=function(){void 0!==lo&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,ks(this,"timeout"),this.abort(8))},uo.abort=function(t){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=t||7,ks(this,"complete"),ks(this,"abort"),Su(this))},uo.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),Su(this,!0)),yu.X.G.call(this)},uo.za=function(){this.j||(this.A||this.l||this.g?xu(this):this.Ua())},uo.Ua=function(){xu(this)},uo.W=function(){try{return 2<Iu(this)?this.a.status:-1}catch(zo){return-1}},uo.$=function(){try{return this.a?this.a.responseText:""}catch(zo){return""}},uo.Pa=function(t){if(this.a){var e=this.a.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),bu(e)}},uo.ua=function(){return this.h},uo.Qa=function(){return"string"==typeof this.f?this.f:String(this.f)},(uo=Du.prototype).ha=8,uo.v=1,uo.Ba=function(t){if(this.h)if(this.h=null,1==this.v){if(!t){this.R=Math.floor(1e5*Math.random()),t=this.R++;var e,n=new ba(this,this.c,t,void 0),r=this.l;if(this.O&&(r?Fo(r=Vo(r),this.O):r=this.O),null===this.i&&(n.B=r),this.da)t:{for(var i=e=0;i<this.g.length;i++){var o=this.g[i];if(void 0===(o="__data__"in o.a&&"string"==typeof(o=o.a.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=i;break t}if(4096===e||i===this.g.length-1){e=i+1;break t}}e=1e3}else e=1e3;e=Fu(this,n,e),za(i=Va(this.B),"RID",t),za(i,"CVER",22),this.A&&za(i,"X-HTTP-Session-Id",this.A),Lu(this,i),this.i&&r&&ku(i,this.i,r),lu(this.b,n),this.Ia&&za(i,"TYPE","init"),this.da?(za(i,"$req",e),za(i,"SID","null"),n.U=!0,_a(n,i,null)):_a(n,i,e),this.v=2}}else 3==this.v&&(t?Vu(this,t):0==this.g.length||au(this.b)||Vu(this))},uo.Aa=function(){if(this.j=null,qu(this),this.U&&!(this.F||null==this.a||0>=this.N)){var t=2*this.N;this.c.info("BP detection timer enabled: "+t),this.s=aa(wo(this.Ta,this),t)}},uo.Ta=function(){this.s&&(this.s=null,this.c.info("BP detection timeout reached."),this.c.info("Buffering proxy detected and switch to long-polling!"),this.H=!1,this.F=!0,oa(10),Nu(this),qu(this))},uo.Sa=function(){null!=this.m&&(this.m=null,Nu(this),Hu(this),oa(19))},uo.Ya=function(t){t?(this.c.info("Successfully pinged google.com"),oa(2)):(this.c.info("Failed to ping google.com"),oa(1))},(uo=Ju.prototype).ta=function(){},uo.sa=function(){},uo.ra=function(){},uo.qa=function(){},uo.Ja=function(){},Qu.prototype.a=function(t,e){return new Xu(t,e)},Eo(Xu,Is),Xu.prototype.g=function(){this.a.f=this.f,this.m&&(this.a.C=!0);var t=this.a,e=this.o,n=this.b||void 0;oa(0),t.fa=e,t.V=n||{},t.H=t.S,t.B=Zu(t,null,t.fa),Mu(t)},Xu.prototype.close=function(){ju(this.a)},Xu.prototype.h=function(t){if("string"==typeof t){var e={};e.__data__=t,Ru(this.a,e)}else this.l?((e={}).__data__=Ds(t),Ru(this.a,e)):Ru(this.a,t)},Xu.prototype.G=function(){this.a.f=null,delete this.f,ju(this.a),delete this.a,Xu.X.G.call(this)},Eo(tc,pa),Eo(ec,ga),Eo(nc,Ju),nc.prototype.ta=function(){ks(this.a,"a")},nc.prototype.sa=function(t){ks(this.a,new tc(t))},nc.prototype.ra=function(t){ks(this.a,new ec(t))},nc.prototype.qa=function(){ks(this.a,"b")},Qu.prototype.createWebChannel=Qu.prototype.a,Xu.prototype.send=Xu.prototype.h,Xu.prototype.open=Xu.prototype.g,Xu.prototype.close=Xu.prototype.close,ua.NO_ERROR=0,ua.TIMEOUT=8,ua.HTTP_ERROR=6,ca.COMPLETE="complete",ha.EventType=da,da.OPEN="a",da.CLOSE="b",da.ERROR="c",da.MESSAGE="d",Is.prototype.listen=Is.prototype.va,yu.prototype.listenOnce=yu.prototype.wa,yu.prototype.getLastError=yu.prototype.Qa,yu.prototype.getLastErrorCode=yu.prototype.ua,yu.prototype.getStatus=yu.prototype.W,yu.prototype.getResponseJson=yu.prototype.Pa,yu.prototype.getResponseText=yu.prototype.$,yu.prototype.send=yu.prototype.ba;var rc=ua,ic=ca,oc=Xs,sc=ha,ac=yu,uc=n("os0x"),cc=new io.b("@firebase/firestore");function lc(){return cc.logLevel}function hc(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(cc.logLevel<=io.a.DEBUG){var r=e.map(pc);cc.debug.apply(cc,Object(uc.g)(["Firestore (8.2.1): "+t],r))}}function fc(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(cc.logLevel<=io.a.ERROR){var r=e.map(pc);cc.error.apply(cc,Object(uc.g)(["Firestore (8.2.1): "+t],r))}}function dc(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(cc.logLevel<=io.a.WARN){var r=e.map(pc);cc.warn.apply(cc,Object(uc.g)(["Firestore (8.2.1): "+t],r))}}function pc(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch(Ov){return t}}function gc(t){void 0===t&&(t="Unexpected state");var e="FIRESTORE (8.2.1) INTERNAL ASSERTION FAILED: "+t;throw fc(e),new Error(e)}function mc(t,e){t||gc()}function bc(t,e){return t}function yc(t){var e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(var r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var vc=function(){function t(){}return t.t=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length,n="";n.length<20;)for(var r=yc(40),i=0;i<r.length;++i)n.length<20&&r[i]<e&&(n+=t.charAt(r[i]%t.length));return n},t}();function wc(t,e){return t<e?-1:t>e?1:0}function _c(t,e,n){return t.length===e.length&&t.every(function(t,r){return n(t,e[r])})}function Oc(t){return t+"\0"}var Ec=function(){function t(t){this.i=t}return t.fromBase64String=function(e){return new t(atob(e))},t.fromUint8Array=function(e){return new t(function(t){for(var e="",n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(e))},t.prototype.toBase64=function(){return btoa(this.i)},t.prototype.toUint8Array=function(){return function(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.i)},t.prototype.o=function(){return 2*this.i.length},t.prototype.u=function(t){return wc(this.i,t.i)},t.prototype.isEqual=function(t){return this.i===t.i},t}();Ec.h=new Ec("");var Cc={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},xc=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).code=e,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return Object(uc.c)(e,t),e}(Error),Sc=function(){function t(t){this.l=t}return t.fromBase64String=function(e){try{return new t(Ec.fromBase64String(e))}catch(e){throw new xc(Cc.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}},t.fromUint8Array=function(e){return new t(Ec.fromUint8Array(e))},t.prototype.toBase64=function(){return this.l.toBase64()},t.prototype.toUint8Array=function(){return this.l.toUint8Array()},t.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this.l.isEqual(t.l)},t}(),Tc=function(t){this._=t};function Ic(){if("undefined"==typeof Uint8Array)throw new xc(Cc.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function kc(){if("undefined"==typeof atob)throw new xc(Cc.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var Ac=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(uc.c)(e,t),e.fromBase64String=function(t){return kc(),new e(Sc.fromBase64String(t))},e.fromUint8Array=function(t){return Ic(),new e(Sc.fromUint8Array(t))},e.prototype.toBase64=function(){return kc(),this._.toBase64()},e.prototype.toUint8Array=function(){return Ic(),this._.toUint8Array()},e.prototype.isEqual=function(t){return this._.isEqual(t._)},e.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},e}(Tc),Dc=function(t,e,n,r,i,o){this.T=t,this.persistenceKey=e,this.host=n,this.ssl=r,this.forceLongPolling=i,this.I=o},jc=function(){function t(t,e){this.projectId=t,this.database=e||"(default)"}return Object.defineProperty(t.prototype,"m",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t}(),Nc=function(){function t(t){this.uid=t}return t.prototype.A=function(){return null!=this.uid},t.prototype.R=function(){return this.A()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t}();Nc.UNAUTHENTICATED=new Nc(null),Nc.P=new Nc("google-credentials-uid"),Nc.g=new Nc("first-party-uid");var Pc=function(t,e){this.user=e,this.type="OAuth",this.V={},this.V.Authorization="Bearer "+t},Rc=function(){function t(){this.p=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.v=function(){},t.prototype.S=function(t){this.p=t,t(Nc.UNAUTHENTICATED)},t.prototype.D=function(){this.p=null},t}(),Mc=function(){function t(t){var e=this;this.C=null,this.currentUser=Nc.UNAUTHENTICATED,this.N=!1,this.F=0,this.p=null,this.forceRefresh=!1,this.C=function(){e.F++,e.currentUser=e.O(),e.N=!0,e.p&&e.p(e.currentUser)},this.F=0,this.auth=t.getImmediate({optional:!0}),this.auth?this.auth.addAuthTokenListener(this.C):(this.C(null),t.get().then(function(t){e.auth=t,e.C&&e.auth.addAuthTokenListener(e.C)},function(){}))}return t.prototype.getToken=function(){var t=this,e=this.F,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(function(n){return t.F!==e?(hc("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):n?(mc("string"==typeof n.accessToken),new Pc(n.accessToken,t.currentUser)):null}):Promise.resolve(null)},t.prototype.v=function(){this.forceRefresh=!0},t.prototype.S=function(t){this.p=t,this.N&&t(this.currentUser)},t.prototype.D=function(){this.auth&&this.auth.removeAuthTokenListener(this.C),this.C=null,this.p=null},t.prototype.O=function(){var t=this.auth&&this.auth.getUid();return mc(null===t||"string"==typeof t),new Nc(t)},t}(),Vc=function(){function t(t,e){this.k=t,this.M=e,this.type="FirstParty",this.user=Nc.g}return Object.defineProperty(t.prototype,"V",{get:function(){var t={"X-Goog-AuthUser":this.M},e=this.k.auth.getAuthHeaderValueForFirstParty([]);return e&&(t.Authorization=e),t},enumerable:!1,configurable:!0}),t}(),Lc=function(){function t(t,e){this.k=t,this.M=e}return t.prototype.getToken=function(){return Promise.resolve(new Vc(this.k,this.M))},t.prototype.S=function(t){t(Nc.g)},t.prototype.D=function(){},t.prototype.v=function(){},t}(),Fc=function(){function t(t,e){var n=this;this.previousValue=t,e&&(e.L=function(t){return n.$(t)},this.B=function(t){return e.q(t)})}return t.prototype.$=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},t.prototype.next=function(){var t=++this.previousValue;return this.B&&this.B(t),t},t}();Fc.U=-1;var Uc=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new xc(Cc.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new xc(Cc.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new xc(Cc.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new xc(Cc.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,1e6*(e-1e3*n))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype.K=function(t){return this.seconds===t.seconds?wc(this.nanoseconds,t.nanoseconds):wc(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},t.prototype.valueOf=function(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}(),Hc=function(){function t(t){this.timestamp=t}return t.W=function(e){return new t(e)},t.min=function(){return new t(new Uc(0,0))},t.prototype.u=function(t){return this.timestamp.K(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.j=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.G=function(){return this.timestamp},t}(),zc=function(){function t(t,e,n){void 0===e?e=0:e>t.length&&gc(),void 0===n?n=t.length-e:n>t.length-e&&gc(),this.segments=t,this.offset=e,this.H=n}return Object.defineProperty(t.prototype,"length",{get:function(){return this.H},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.J(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(function(t){n.push(t)}):n.push(e),this.Y(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.X=function(t){return this.Y(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)},t.prototype.Z=function(){return this.Y(this.segments,this.offset,this.length-1)},t.prototype.tt=function(){return this.segments[this.offset]},t.prototype.et=function(){return this.get(this.length-1)},t.prototype.get=function(t){return this.segments[this.offset+t]},t.prototype.nt=function(){return 0===this.length},t.prototype.st=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.it=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.rt=function(){return this.segments.slice(this.offset,this.limit())},t.J=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),o=e.get(r);if(i<o)return-1;if(i>o)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),qc=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(uc.c)(e,t),e.prototype.Y=function(t,n,r){return new e(t,n,r)},e.prototype.ot=function(){return this.rt().join("/")},e.prototype.toString=function(){return this.ot()},e.ct=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=[],i=0,o=t;i<o.length;i++){var s=o[i];if(s.indexOf("//")>=0)throw new xc(Cc.INVALID_ARGUMENT,"Invalid segment ("+s+"). Paths must not contain // in them.");r.push.apply(r,s.split("/").filter(function(t){return t.length>0}))}return new e(r)},e.at=function(){return new e([])},e}(zc),Bc=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Wc=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(uc.c)(e,t),e.prototype.Y=function(t,n,r){return new e(t,n,r)},e.ut=function(t){return Bc.test(t)},e.prototype.ot=function(){return this.rt().map(function(t){return t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),e.ut(t)||(t="`"+t+"`"),t}).join(".")},e.prototype.toString=function(){return this.ot()},e.prototype.ht=function(){return 1===this.length&&"__name__"===this.get(0)},e.lt=function(){return new e(["__name__"])},e._t=function(t){for(var n=[],r="",i=0,o=function(){if(0===r.length)throw new xc(Cc.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},s=!1;i<t.length;){var a=t[i];if("\\"===a){if(i+1===t.length)throw new xc(Cc.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var u=t[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new xc(Cc.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=u,i+=2}else"`"===a?(s=!s,i++):"."!==a||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new xc(Cc.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)},e.at=function(){return new e([])},e}(zc),Gc=function(){function t(t){this.path=t}return t.ft=function(e){return new t(qc.ct(e))},t.dt=function(e){return new t(qc.ct(e).X(5))},t.prototype.wt=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},t.prototype.isEqual=function(t){return null!==t&&0===qc.J(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.J=function(t,e){return qc.J(t.path,e.path)},t.Et=function(t){return t.length%2==0},t.Tt=function(e){return new t(new qc(e.slice()))},t}();function $c(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Kc(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Zc(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var Yc=function(){function t(t){this.fields=t,t.sort(Wc.J)}return t.prototype.It=function(t){for(var e=0,n=this.fields;e<n.length;e++)if(n[e].st(t))return!0;return!1},t.prototype.isEqual=function(t){return _c(this.fields,t.fields,function(t,e){return t.isEqual(e)})},t}(),Jc=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Qc(t){if(mc(!!t),"string"==typeof t){var e=0,n=Jc.exec(t);if(mc(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}var i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Xc(t.seconds),nanos:Xc(t.nanos)}}function Xc(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function tl(t){return"string"==typeof t?Ec.fromBase64String(t):Ec.fromUint8Array(t)}function el(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function nl(t){var e=t.mapValue.fields.__previous_value__;return el(e)?nl(e):e}function rl(t){var e=Qc(t.mapValue.fields.__local_write_time__.timestampValue);return new Uc(e.seconds,e.nanos)}function il(t){return null==t}function ol(t){return 0===t&&1/t==-1/0}function sl(t){return"number"==typeof t&&Number.isInteger(t)&&!ol(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}function al(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?el(t)?4:10:gc()}function ul(t,e){var n=al(t);if(n!==al(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return rl(t).isEqual(rl(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;var n=Qc(t.timestampValue),r=Qc(e.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(t,e){return tl(t.bytesValue).isEqual(tl(e.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return Xc(t.geoPointValue.latitude)===Xc(e.geoPointValue.latitude)&&Xc(t.geoPointValue.longitude)===Xc(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return Xc(t.integerValue)===Xc(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){var n=Xc(t.doubleValue),r=Xc(e.doubleValue);return n===r?ol(n)===ol(r):isNaN(n)&&isNaN(r)}return!1}(t,e);case 9:return _c(t.arrayValue.values||[],e.arrayValue.values||[],ul);case 10:return function(t,e){var n=t.mapValue.fields||{},r=e.mapValue.fields||{};if($c(n)!==$c(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!ul(n[i],r[i])))return!1;return!0}(t,e);default:return gc()}}function cl(t,e){return void 0!==(t.values||[]).find(function(t){return ul(t,e)})}function ll(t,e){var n=al(t),r=al(e);if(n!==r)return wc(n,r);switch(n){case 0:return 0;case 1:return wc(t.booleanValue,e.booleanValue);case 2:return function(t,e){var n=Xc(t.integerValue||t.doubleValue),r=Xc(e.integerValue||e.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(t,e);case 3:return hl(t.timestampValue,e.timestampValue);case 4:return hl(rl(t),rl(e));case 5:return wc(t.stringValue,e.stringValue);case 6:return function(t,e){var n=tl(t),r=tl(e);return n.u(r)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){for(var n=t.split("/"),r=e.split("/"),i=0;i<n.length&&i<r.length;i++){var o=wc(n[i],r[i]);if(0!==o)return o}return wc(n.length,r.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){var n=wc(Xc(t.latitude),Xc(e.latitude));return 0!==n?n:wc(Xc(t.longitude),Xc(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(t,e){for(var n=t.values||[],r=e.values||[],i=0;i<n.length&&i<r.length;++i){var o=ll(n[i],r[i]);if(o)return o}return wc(n.length,r.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){var n=t.fields||{},r=Object.keys(n),i=e.fields||{},o=Object.keys(i);r.sort(),o.sort();for(var s=0;s<r.length&&s<o.length;++s){var a=wc(r[s],o[s]);if(0!==a)return a;var u=ll(n[r[s]],i[o[s]]);if(0!==u)return u}return wc(r.length,o.length)}(t.mapValue,e.mapValue);default:throw gc()}}function hl(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return wc(t,e);var n=Qc(t),r=Qc(e),i=wc(n.seconds,r.seconds);return 0!==i?i:wc(n.nanos,r.nanos)}function fl(t){return dl(t)}function dl(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(t){var e=Qc(t);return"time("+e.seconds+","+e.nanos+")"}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?tl(t.bytesValue).toBase64():"referenceValue"in t?Gc.dt(t.referenceValue).toString():"geoPointValue"in t?"geo("+(e=t.geoPointValue).latitude+","+e.longitude+")":"arrayValue"in t?function(t){for(var e="[",n=!0,r=0,i=t.values||[];r<i.length;r++)n?n=!1:e+=",",e+=dl(i[r]);return e+"]"}(t.arrayValue):"mapValue"in t?function(t){for(var e="{",n=!0,r=0,i=Object.keys(t.fields||{}).sort();r<i.length;r++){var o=i[r];n?n=!1:e+=",",e+=o+":"+dl(t.fields[o])}return e+"}"}(t.mapValue):gc();var e}function pl(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.ot()}}function gl(t){return!!t&&"integerValue"in t}function ml(t){return!!t&&"arrayValue"in t}function bl(t){return!!t&&"nullValue"in t}function yl(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function vl(t){return!!t&&"mapValue"in t}var wl=function(){function t(t){this.proto=t}return t.empty=function(){return new t({mapValue:{}})},t.prototype.field=function(t){if(t.nt())return this.proto;for(var e=this.proto,n=0;n<t.length-1;++n){if(!e.mapValue.fields)return null;if(!vl(e=e.mapValue.fields[t.get(n)]))return null}return(e=(e.mapValue.fields||{})[t.et()])||null},t.prototype.isEqual=function(t){return ul(this.proto,t.proto)},t}(),_l=function(){function t(t){void 0===t&&(t=wl.empty()),this.At=t,this.Rt=new Map}return t.prototype.set=function(t,e){return this.Pt(t,e),this},t.prototype.delete=function(t){return this.Pt(t,null),this},t.prototype.Pt=function(t,e){for(var n=this.Rt,r=0;r<t.length-1;++r){var i=t.get(r),o=n.get(i);o instanceof Map?n=o:o&&10===al(o)?(o=new Map(Object.entries(o.mapValue.fields||{})),n.set(i,o),n=o):(o=new Map,n.set(i,o),n=o)}n.set(t.et(),e)},t.prototype.yt=function(){var t=this.gt(Wc.at(),this.Rt);return null!=t?new wl(t):this.At},t.prototype.gt=function(t,e){var n=this,r=!1,i=this.At.field(t),o=vl(i)?Object.assign({},i.mapValue.fields):{};return e.forEach(function(e,i){if(e instanceof Map){var s=n.gt(t.child(i),e);null!=s&&(o[i]=s,r=!0)}else null!==e?(o[i]=e,r=!0):o.hasOwnProperty(i)&&(delete o[i],r=!0)}),r?{mapValue:{fields:o}}:null},t}();function Ol(t){var e=[];return Kc(t.fields||{},function(t,n){var r=new Wc([t]);if(vl(n)){var i=Ol(n.mapValue).fields;if(0===i.length)e.push(r);else for(var o=0,s=i;o<s.length;o++)e.push(r.child(s[o]))}else e.push(r)}),new Yc(e)}var El=function(t,e){this.key=t,this.version=e},Cl=function(t){function e(e,n,r,i){var o=this;return(o=t.call(this,e,n)||this).Vt=r,o.bt=!!i.bt,o.hasCommittedMutations=!!i.hasCommittedMutations,o}return Object(uc.c)(e,t),e.prototype.field=function(t){return this.Vt.field(t)},e.prototype.data=function(){return this.Vt},e.prototype.vt=function(){return this.Vt.proto},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.bt===t.bt&&this.hasCommittedMutations===t.hasCommittedMutations&&this.Vt.isEqual(t.Vt)},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+this.Vt.toString()+", {hasLocalMutations: "+this.bt+"}), {hasCommittedMutations: "+this.hasCommittedMutations+"})"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.bt||this.hasCommittedMutations},enumerable:!1,configurable:!0}),e}(El),xl=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n)||this).hasCommittedMutations=!(!r||!r.hasCommittedMutations),i}return Object(uc.c)(e,t),e.prototype.toString=function(){return"NoDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasCommittedMutations},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.hasCommittedMutations===this.hasCommittedMutations&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(El),Sl=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(uc.c)(e,t),e.prototype.toString=function(){return"UnknownDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!0},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(El),Tl=function(t,e,n,r,i,o,s){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=s,this.St=null};function Il(t,e,n,r,i,o,s){return void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=null),new Tl(t,e,n,r,i,o,s)}function kl(t){var e=bc(t);if(null===e.St){var n=e.path.ot();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(function(t){return function(t){return t.field.ot()+t.op.toString()+fl(t.value)}(t)}).join(","),n+="|ob:",n+=e.orderBy.map(function(t){return function(t){return t.field.ot()+t.dir}(t)}).join(","),il(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=zl(e.startAt)),e.endAt&&(n+="|ub:",n+=zl(e.endAt)),e.St=n}return e.St}function Al(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(var n=0;n<t.orderBy.length;n++)if(!Bl(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(var r=0;r<t.filters.length;r++)if((i=t.filters[r]).op!==(o=e.filters[r]).op||!i.field.isEqual(o.field)||!ul(i.value,o.value))return!1;var i,o;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Gl(t.startAt,e.startAt)&&Gl(t.endAt,e.endAt)}function Dl(t){return Gc.Et(t.path)&&null===t.collectionGroup&&0===t.filters.length}var jl=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).field=e,i.op=n,i.value=r,i}return Object(uc.c)(e,t),e.create=function(t,n,r){return t.ht()?"in"===n||"not-in"===n?this.Dt(t,n,r):new Nl(t,n,r):"array-contains"===n?new Vl(t,r):"in"===n?new Ll(t,r):"not-in"===n?new Fl(t,r):"array-contains-any"===n?new Ul(t,r):new e(t,n,r)},e.Dt=function(t,e,n){return"in"===e?new Pl(t,n):new Rl(t,n)},e.prototype.matches=function(t){var e=t.field(this.field);return"!="===this.op?null!==e&&this.Ct(ll(e,this.value)):null!==e&&al(this.value)===al(e)&&this.Ct(ll(e,this.value))},e.prototype.Ct=function(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return gc()}},e.prototype.xt=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},e}(function(){}),Nl=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,r)||this).key=Gc.dt(r.referenceValue),i}return Object(uc.c)(e,t),e.prototype.matches=function(t){var e=Gc.J(t.key,this.key);return this.Ct(e)},e}(jl),Pl=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"in",n)||this).keys=Ml(0,n),r}return Object(uc.c)(e,t),e.prototype.matches=function(t){return this.keys.some(function(e){return e.isEqual(t.key)})},e}(jl),Rl=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"not-in",n)||this).keys=Ml(0,n),r}return Object(uc.c)(e,t),e.prototype.matches=function(t){return!this.keys.some(function(e){return e.isEqual(t.key)})},e}(jl);function Ml(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(function(t){return Gc.dt(t.referenceValue)})}var Vl=function(t){function e(e,n){return t.call(this,e,"array-contains",n)||this}return Object(uc.c)(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return ml(e)&&cl(e.arrayValue,this.value)},e}(jl),Ll=function(t){function e(e,n){return t.call(this,e,"in",n)||this}return Object(uc.c)(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return null!==e&&cl(this.value.arrayValue,e)},e}(jl),Fl=function(t){function e(e,n){return t.call(this,e,"not-in",n)||this}return Object(uc.c)(e,t),e.prototype.matches=function(t){if(cl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var e=t.field(this.field);return null!==e&&!cl(this.value.arrayValue,e)},e}(jl),Ul=function(t){function e(e,n){return t.call(this,e,"array-contains-any",n)||this}return Object(uc.c)(e,t),e.prototype.matches=function(t){var e=this,n=t.field(this.field);return!(!ml(n)||!n.arrayValue.values)&&n.arrayValue.values.some(function(t){return cl(e.value.arrayValue,t)})},e}(jl),Hl=function(t,e){this.position=t,this.before=e};function zl(t){return(t.before?"b":"a")+":"+t.position.map(function(t){return fl(t)}).join(",")}var ql=function(t,e){void 0===e&&(e="asc"),this.field=t,this.dir=e};function Bl(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function Wl(t,e,n){for(var r=0,i=0;i<t.position.length;i++){var o=e[i],s=t.position[i];if(r=o.field.ht()?Gc.J(Gc.dt(s.referenceValue),n.key):ll(s,n.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return t.before?r<=0:r<0}function Gl(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.before!==e.before||t.position.length!==e.position.length)return!1;for(var n=0;n<t.position.length;n++)if(!ul(t.position[n],e.position[n]))return!1;return!0}var $l=function(t,e,n,r,i,o,s,a){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o="F"),void 0===s&&(s=null),void 0===a&&(a=null),this.path=t,this.collectionGroup=e,this.Nt=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=s,this.endAt=a,this.Ft=null,this.Ot=null};function Kl(t,e,n,r,i,o,s,a){return new $l(t,e,n,r,i,o,s,a)}function Zl(t){return new $l(t)}function Yl(t){return!il(t.limit)&&"F"===t.limitType}function Jl(t){return!il(t.limit)&&"L"===t.limitType}function Ql(t){return t.Nt.length>0?t.Nt[0].field:null}function Xl(t){for(var e=0,n=t.filters;e<n.length;e++){var r=n[e];if(r.xt())return r.field}return null}function th(t){return null!==t.collectionGroup}function eh(t){var e=bc(t);if(null===e.Ft){e.Ft=[];var n=Xl(e),r=Ql(e);if(null!==n&&null===r)n.ht()||e.Ft.push(new ql(n)),e.Ft.push(new ql(Wc.lt(),"asc"));else{for(var i=!1,o=0,s=e.Nt;o<s.length;o++){var a=s[o];e.Ft.push(a),a.field.ht()&&(i=!0)}if(!i){var u=e.Nt.length>0?e.Nt[e.Nt.length-1].dir:"asc";e.Ft.push(new ql(Wc.lt(),u))}}}return e.Ft}function nh(t){var e=bc(t);if(!e.Ot)if("F"===e.limitType)e.Ot=Il(e.path,e.collectionGroup,eh(e),e.filters,e.limit,e.startAt,e.endAt);else{for(var n=[],r=0,i=eh(e);r<i.length;r++){var o=i[r];n.push(new ql(o.field,"desc"===o.dir?"asc":"desc"))}var s=e.endAt?new Hl(e.endAt.position,!e.endAt.before):null,a=e.startAt?new Hl(e.startAt.position,!e.startAt.before):null;e.Ot=Il(e.path,e.collectionGroup,n,e.filters,e.limit,s,a)}return e.Ot}function rh(t,e,n){return new $l(t.path,t.collectionGroup,t.Nt.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function ih(t,e){return Al(nh(t),nh(e))&&t.limitType===e.limitType}function oh(t){return kl(nh(t))+"|lt:"+t.limitType}function sh(t){return"Query(target="+function(t){var e=t.path.ot();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=", filters: ["+t.filters.map(function(t){return(e=t).field.ot()+" "+e.op+" "+fl(e.value);var e}).join(", ")+"]"),il(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=", orderBy: ["+t.orderBy.map(function(t){return function(t){return t.field.ot()+" ("+t.dir+")"}(t)}).join(", ")+"]"),t.startAt&&(e+=", startAt: "+zl(t.startAt)),t.endAt&&(e+=", endAt: "+zl(t.endAt)),"Target("+e+")"}(nh(t))+"; limitType="+t.limitType+")"}function ah(t,e){return function(t,e){var n=e.key.path;return null!==t.collectionGroup?e.key.wt(t.collectionGroup)&&t.path.st(n):Gc.Et(t.path)?t.path.isEqual(n):t.path.it(n)}(t,e)&&function(t,e){for(var n=0,r=t.Nt;n<r.length;n++){var i=r[n];if(!i.field.ht()&&null===e.field(i.field))return!1}return!0}(t,e)&&function(t,e){for(var n=0,r=t.filters;n<r.length;n++)if(!r[n].matches(e))return!1;return!0}(t,e)&&function(t,e){return!(t.startAt&&!Wl(t.startAt,eh(t),e)||t.endAt&&Wl(t.endAt,eh(t),e))}(t,e)}function uh(t){return function(e,n){for(var r=!1,i=0,o=eh(t);i<o.length;i++){var s=o[i],a=ch(s,e,n);if(0!==a)return a;r=r||s.field.ht()}return 0}}function ch(t,e,n){var r=t.field.ht()?Gc.J(e.key,n.key):function(t,e,n){var r=e.field(t),i=n.field(t);return null!==r&&null!==i?ll(r,i):gc()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return gc()}}var lh=function(){function t(t,e,n,r,i,o,s){void 0===i&&(i=Hc.min()),void 0===o&&(o=Hc.min()),void 0===s&&(s=Ec.h),this.target=t,this.targetId=e,this.kt=n,this.sequenceNumber=r,this.Mt=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s}return t.prototype.Lt=function(e){return new t(this.target,this.targetId,this.kt,e,this.Mt,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.$t=function(e,n){return new t(this.target,this.targetId,this.kt,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.Bt=function(e){return new t(this.target,this.targetId,this.kt,this.sequenceNumber,this.Mt,e,this.resumeToken)},t}();function hh(t,e){if(t.qt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ol(e)?"-0":e}}function fh(t){return{integerValue:""+t}}function dh(t,e){return sl(e)?fh(e):hh(t,e)}var ph=function(){this.Ut=void 0};function gh(t,e,n){return t instanceof yh?function(t,e){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return e&&(n.fields.__previous_value__=e),{mapValue:n}}(n,e):t instanceof vh?wh(t,e):t instanceof _h?Oh(t,e):function(t,e){var n=bh(t,e),r=Ch(n)+Ch(t.Qt);return gl(n)&&gl(t.Qt)?fh(r):hh(t.Kt,r)}(t,e)}function mh(t,e,n){return t instanceof vh?wh(t,e):t instanceof _h?Oh(t,e):n}function bh(t,e){return t instanceof Eh?gl(n=e)||function(t){return!!t&&"doubleValue"in t}(n)?e:{integerValue:0}:null;var n}var yh=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(uc.c)(e,t),e}(ph),vh=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Object(uc.c)(e,t),e}(ph);function wh(t,e){for(var n=xh(e),r=function(t){n.some(function(e){return ul(e,t)})||n.push(t)},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var _h=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Object(uc.c)(e,t),e}(ph);function Oh(t,e){for(var n=xh(e),r=function(t){n=n.filter(function(e){return!ul(e,t)})},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var Eh=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Kt=e,r.Qt=n,r}return Object(uc.c)(e,t),e}(ph);function Ch(t){return Xc(t.integerValue||t.doubleValue)}function xh(t){return ml(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var Sh=function(t,e){this.field=t,this.transform=e},Th=function(t,e){this.version=t,this.transformResults=e},Ih=function(){function t(t,e){this.updateTime=t,this.exists=e}return t.Wt=function(){return new t},t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"jt",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},t}();function kh(t,e){return void 0!==t.updateTime?e instanceof Cl&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e instanceof Cl}var Ah=function(){};function Dh(t,e,n){return t instanceof Mh?function(t,e,n){var r=t.value;if(n.transformResults){var i=Fh(t.fieldTransforms,e,n.transformResults);r=Hh(t.fieldTransforms,r,i)}return new Cl(t.key,n.version,r,{hasCommittedMutations:!0})}(t,e,n):t instanceof Vh?function(t,e,n){if(!kh(t.Gt,e))return new Sl(t.key,n.version);var r=Lh(t,e,n.transformResults?Fh(t.fieldTransforms,e,n.transformResults):[]);return new Cl(t.key,n.version,r,{hasCommittedMutations:!0})}(t,e,n):function(t,e,n){return new xl(t.key,n.version,{hasCommittedMutations:!0})}(t,0,n)}function jh(t,e,n,r){return t instanceof Mh?function(t,e,n,r){if(!kh(t.Gt,e))return e;var i=t.value;if(t.fieldTransforms){var o=Uh(t.fieldTransforms,n,e,r);i=Hh(t.fieldTransforms,i,o)}var s=Rh(e);return new Cl(t.key,s,i,{bt:!0})}(t,e,r,n):t instanceof Vh?function(t,e,n,r){if(!kh(t.Gt,e))return e;var i=Rh(e),o=Lh(t,e,Uh(t.fieldTransforms,n,e,r));return new Cl(t.key,i,o,{bt:!0})}(t,e,r,n):function(t,e){return kh(t.Gt,e)?new xl(t.key,Hc.min()):e}(t,e)}function Nh(t,e){return void 0!==t.fieldTransforms?function(t,e){for(var n=null,r=0,i=t;r<i.length;r++){var o=i[r],s=e instanceof Cl?e.field(o.field):void 0,a=bh(o.transform,s||null);null!=a&&(n=null==n?(new _l).set(o.field,a):n.set(o.field,a))}return n?n.yt():null}(t.fieldTransforms,e):null}function Ph(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.Gt.isEqual(e.Gt)&&!!function(t,e){return void 0===t&&void 0===e||!(!t||!e)&&_c(t,e,function(t,e){return function(t,e){return t.field.isEqual(e.field)&&function(t,e){return t instanceof vh&&e instanceof vh||t instanceof _h&&e instanceof _h?_c(t.elements,e.elements,ul):t instanceof Eh&&e instanceof Eh?ul(t.Qt,e.Qt):t instanceof yh&&e instanceof yh}(t.transform,e.transform)}(t,e)})}(t.fieldTransforms,e.fieldTransforms)&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.zt.isEqual(e.zt))}function Rh(t){return t instanceof Cl?t.version:Hc.min()}var Mh=function(t){function e(e,n,r,i){void 0===i&&(i=[]);var o=this;return(o=t.call(this)||this).key=e,o.value=n,o.Gt=r,o.fieldTransforms=i,o.type=0,o}return Object(uc.c)(e,t),e}(Ah),Vh=function(t){function e(e,n,r,i,o){void 0===o&&(o=[]);var s=this;return(s=t.call(this)||this).key=e,s.data=n,s.zt=r,s.Gt=i,s.fieldTransforms=o,s.type=1,s}return Object(uc.c)(e,t),e}(Ah);function Lh(t,e,n){var r;return r=function(t,e){var n=new _l(e);return t.zt.fields.forEach(function(e){if(!e.nt()){var r=t.data.field(e);null!==r?n.set(e,r):n.delete(e)}}),n.yt()}(t,r=e instanceof Cl?e.data():wl.empty()),Hh(t.fieldTransforms,r,n)}function Fh(t,e,n){var r=[];mc(t.length===n.length);for(var i=0;i<n.length;i++){var o=t[i],s=o.transform,a=null;e instanceof Cl&&(a=e.field(o.field)),r.push(mh(s,a,n[i]))}return r}function Uh(t,e,n,r){for(var i=[],o=0,s=t;o<s.length;o++){var a=s[o],u=a.transform,c=null;n instanceof Cl&&(c=n.field(a.field)),null===c&&r instanceof Cl&&(c=r.field(a.field)),i.push(gh(u,c,e))}return i}function Hh(t,e,n){for(var r=new _l(e),i=0;i<t.length;i++)r.set(t[i].field,n[i]);return r.yt()}var zh,qh,Bh=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.Gt=n,r.type=2,r.fieldTransforms=[],r}return Object(uc.c)(e,t),e}(Ah),Wh=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.Gt=n,r.type=3,r.fieldTransforms=[],r}return Object(uc.c)(e,t),e}(Ah),Gh=function(t){this.count=t};function $h(t){switch(t){case Cc.OK:return gc();case Cc.CANCELLED:case Cc.UNKNOWN:case Cc.DEADLINE_EXCEEDED:case Cc.RESOURCE_EXHAUSTED:case Cc.INTERNAL:case Cc.UNAVAILABLE:case Cc.UNAUTHENTICATED:return!1;case Cc.INVALID_ARGUMENT:case Cc.NOT_FOUND:case Cc.ALREADY_EXISTS:case Cc.PERMISSION_DENIED:case Cc.FAILED_PRECONDITION:case Cc.ABORTED:case Cc.OUT_OF_RANGE:case Cc.UNIMPLEMENTED:case Cc.DATA_LOSS:return!0;default:return gc()}}function Kh(t){if(void 0===t)return fc("GRPC error has no .code"),Cc.UNKNOWN;switch(t){case zh.OK:return Cc.OK;case zh.CANCELLED:return Cc.CANCELLED;case zh.UNKNOWN:return Cc.UNKNOWN;case zh.DEADLINE_EXCEEDED:return Cc.DEADLINE_EXCEEDED;case zh.RESOURCE_EXHAUSTED:return Cc.RESOURCE_EXHAUSTED;case zh.INTERNAL:return Cc.INTERNAL;case zh.UNAVAILABLE:return Cc.UNAVAILABLE;case zh.UNAUTHENTICATED:return Cc.UNAUTHENTICATED;case zh.INVALID_ARGUMENT:return Cc.INVALID_ARGUMENT;case zh.NOT_FOUND:return Cc.NOT_FOUND;case zh.ALREADY_EXISTS:return Cc.ALREADY_EXISTS;case zh.PERMISSION_DENIED:return Cc.PERMISSION_DENIED;case zh.FAILED_PRECONDITION:return Cc.FAILED_PRECONDITION;case zh.ABORTED:return Cc.ABORTED;case zh.OUT_OF_RANGE:return Cc.OUT_OF_RANGE;case zh.UNIMPLEMENTED:return Cc.UNIMPLEMENTED;case zh.DATA_LOSS:return Cc.DATA_LOSS;default:return gc()}}(qh=zh||(zh={}))[qh.OK=0]="OK",qh[qh.CANCELLED=1]="CANCELLED",qh[qh.UNKNOWN=2]="UNKNOWN",qh[qh.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",qh[qh.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",qh[qh.NOT_FOUND=5]="NOT_FOUND",qh[qh.ALREADY_EXISTS=6]="ALREADY_EXISTS",qh[qh.PERMISSION_DENIED=7]="PERMISSION_DENIED",qh[qh.UNAUTHENTICATED=16]="UNAUTHENTICATED",qh[qh.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",qh[qh.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",qh[qh.ABORTED=10]="ABORTED",qh[qh.OUT_OF_RANGE=11]="OUT_OF_RANGE",qh[qh.UNIMPLEMENTED=12]="UNIMPLEMENTED",qh[qh.INTERNAL=13]="INTERNAL",qh[qh.UNAVAILABLE=14]="UNAVAILABLE",qh[qh.DATA_LOSS=15]="DATA_LOSS";var Zh=function(){function t(t,e){this.J=t,this.root=e||Jh.EMPTY}return t.prototype.Ht=function(e,n){return new t(this.J,this.root.Ht(e,n,this.J).copy(null,null,Jh.Jt,null,null))},t.prototype.remove=function(e){return new t(this.J,this.root.remove(e,this.J).copy(null,null,Jh.Jt,null,null))},t.prototype.get=function(t){for(var e=this.root;!e.nt();){var n=this.J(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.nt();){var r=this.J(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype.nt=function(){return this.root.nt()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),t.prototype.Yt=function(){return this.root.Yt()},t.prototype.Xt=function(){return this.root.Xt()},t.prototype.Zt=function(t){return this.root.Zt(t)},t.prototype.forEach=function(t){this.Zt(function(e,n){return t(e,n),!1})},t.prototype.toString=function(){var t=[];return this.Zt(function(e,n){return t.push(e+":"+n),!1}),"{"+t.join(", ")+"}"},t.prototype.te=function(t){return this.root.te(t)},t.prototype.ee=function(){return new Yh(this.root,null,this.J,!1)},t.prototype.ne=function(t){return new Yh(this.root,t,this.J,!1)},t.prototype.se=function(){return new Yh(this.root,null,this.J,!0)},t.prototype.ie=function(t){return new Yh(this.root,t,this.J,!0)},t}(),Yh=function(){function t(t,e,n,r){this.re=r,this.oe=[];for(var i=1;!t.nt();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.re?t.left:t.right;else{if(0===i){this.oe.push(t);break}this.oe.push(t),t=this.re?t.right:t.left}}return t.prototype.ce=function(){var t=this.oe.pop(),e={key:t.key,value:t.value};if(this.re)for(t=t.left;!t.nt();)this.oe.push(t),t=t.right;else for(t=t.right;!t.nt();)this.oe.push(t),t=t.left;return e},t.prototype.ae=function(){return this.oe.length>0},t.prototype.ue=function(){if(0===this.oe.length)return null;var t=this.oe[this.oe.length-1];return{key:t.key,value:t.value}},t}(),Jh=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:t.EMPTY,this.right=null!=o?o:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,r,i,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},t.prototype.nt=function(){return!1},t.prototype.Zt=function(t){return this.left.Zt(t)||t(this.key,this.value)||this.right.Zt(t)},t.prototype.te=function(t){return this.right.te(t)||t(this.key,this.value)||this.left.te(t)},t.prototype.min=function(){return this.left.nt()?this:this.left.min()},t.prototype.Yt=function(){return this.min().key},t.prototype.Xt=function(){return this.right.nt()?this.key:this.right.Xt()},t.prototype.Ht=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.Ht(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.Ht(t,e,n))).he()},t.prototype.le=function(){if(this.left.nt())return t.EMPTY;var e=this;return e.left._e()||e.left.left._e()||(e=e.fe()),(e=e.copy(null,null,null,e.left.le(),null)).he()},t.prototype.remove=function(e,n){var r,i=this;if(n(e,i.key)<0)i.left.nt()||i.left._e()||i.left.left._e()||(i=i.fe()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left._e()&&(i=i.de()),i.right.nt()||i.right._e()||i.right.left._e()||(i=i.we()),0===n(e,i.key)){if(i.right.nt())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.le())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.he()},t.prototype._e=function(){return this.color},t.prototype.he=function(){var t=this;return t.right._e()&&!t.left._e()&&(t=t.Ee()),t.left._e()&&t.left.left._e()&&(t=t.de()),t.left._e()&&t.right._e()&&(t=t.Te()),t},t.prototype.fe=function(){var t=this.Te();return t.right.left._e()&&(t=(t=(t=t.copy(null,null,null,null,t.right.de())).Ee()).Te()),t},t.prototype.we=function(){var t=this.Te();return t.left.left._e()&&(t=(t=t.de()).Te()),t},t.prototype.Ee=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.de=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.Te=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.Ie=function(){var t=this.me();return Math.pow(2,t)<=this.size+1},t.prototype.me=function(){if(this._e()&&this.left._e())throw gc();if(this.right._e())throw gc();var t=this.left.me();if(t!==this.right.me())throw gc();return t+(this._e()?0:1)},t}();Jh.EMPTY=null,Jh.RED=!0,Jh.Jt=!1,Jh.EMPTY=new(function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw gc()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw gc()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw gc()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw gc()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw gc()},enumerable:!1,configurable:!0}),t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.Ht=function(t,e,n){return new Jh(t,e)},t.prototype.remove=function(t,e){return this},t.prototype.nt=function(){return!0},t.prototype.Zt=function(t){return!1},t.prototype.te=function(t){return!1},t.prototype.Yt=function(){return null},t.prototype.Xt=function(){return null},t.prototype._e=function(){return!1},t.prototype.Ie=function(){return!0},t.prototype.me=function(){return 0},t}());var Qh=function(){function t(t){this.J=t,this.data=new Zh(this.J)}return t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.Yt()},t.prototype.last=function(){return this.data.Xt()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.Zt(function(e,n){return t(e),!1})},t.prototype.Ae=function(t,e){for(var n=this.data.ne(t[0]);n.ae();){var r=n.ce();if(this.J(r.key,t[1])>=0)return;e(r.key)}},t.prototype.Re=function(t,e){var n;for(n=void 0!==e?this.data.ne(e):this.data.ee();n.ae();)if(!t(n.ce().key))return},t.prototype.Pe=function(t){var e=this.data.ne(t);return e.ae()?e.ce().key:null},t.prototype.ee=function(){return new Xh(this.data.ee())},t.prototype.ne=function(t){return new Xh(this.data.ne(t))},t.prototype.add=function(t){return this.copy(this.data.remove(t).Ht(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},t.prototype.nt=function(){return this.data.nt()},t.prototype.ye=function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach(function(t){e=e.add(t)}),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data.ee(),r=e.data.ee();n.ae();){var i=n.ce().key,o=r.ce().key;if(0!==this.J(i,o))return!1}return!0},t.prototype.rt=function(){var t=[];return this.forEach(function(e){t.push(e)}),t},t.prototype.toString=function(){var t=[];return this.forEach(function(e){return t.push(e)}),"SortedSet("+t.toString()+")"},t.prototype.copy=function(e){var n=new t(this.J);return n.data=e,n},t}(),Xh=function(){function t(t){this.ge=t}return t.prototype.ce=function(){return this.ge.ce().key},t.prototype.ae=function(){return this.ge.ae()},t}(),tf=new Zh(Gc.J);function ef(){return tf}function nf(){return ef()}var rf=new Zh(Gc.J);function of(){return rf}var sf=new Zh(Gc.J);function af(){return sf}var uf=new Qh(Gc.J);function cf(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=uf,r=0,i=t;r<i.length;r++){var o=i[r];n=n.add(o)}return n}var lf=new Qh(wc);function hf(){return lf}var ff=function(){function t(t){this.J=t?function(e,n){return t(e,n)||Gc.J(e.key,n.key)}:function(t,e){return Gc.J(t.key,e.key)},this.Ve=of(),this.pe=new Zh(this.J)}return t.be=function(e){return new t(e.J)},t.prototype.has=function(t){return null!=this.Ve.get(t)},t.prototype.get=function(t){return this.Ve.get(t)},t.prototype.first=function(){return this.pe.Yt()},t.prototype.last=function(){return this.pe.Xt()},t.prototype.nt=function(){return this.pe.nt()},t.prototype.indexOf=function(t){var e=this.Ve.get(t);return e?this.pe.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.pe.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t){this.pe.Zt(function(e,n){return t(e),!1})},t.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.Ve.Ht(t.key,t),e.pe.Ht(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.Ve.remove(t),this.pe.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.pe.ee(),r=e.pe.ee();n.ae();){var i=n.ce().key,o=r.ce().key;if(!i.isEqual(o))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach(function(e){t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.copy=function(e,n){var r=new t;return r.J=this.J,r.Ve=e,r.pe=n,r},t}(),df=function(){function t(){this.ve=new Zh(Gc.J)}return t.prototype.track=function(t){var e=t.doc.key,n=this.ve.get(e);n?0!==t.type&&3===n.type?this.ve=this.ve.Ht(e,t):3===t.type&&1!==n.type?this.ve=this.ve.Ht(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.ve=this.ve.Ht(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.ve=this.ve.Ht(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.ve=this.ve.remove(e):1===t.type&&2===n.type?this.ve=this.ve.Ht(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.ve=this.ve.Ht(e,{type:2,doc:t.doc}):gc():this.ve=this.ve.Ht(e,t)},t.prototype.Se=function(){var t=[];return this.ve.Zt(function(e,n){t.push(n)}),t},t}(),pf=function(){function t(t,e,n,r,i,o,s,a){this.query=t,this.docs=e,this.De=n,this.docChanges=r,this.Ce=i,this.fromCache=o,this.xe=s,this.Ne=a}return t.Fe=function(e,n,r,i){var o=[];return n.forEach(function(t){o.push({type:0,doc:t})}),new t(e,n,ff.be(n),o,r,i,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.Ce.nt()},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.xe===t.xe&&this.Ce.isEqual(t.Ce)&&ih(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.De.isEqual(t.De)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},t}(),gf=function(){function t(t,e,n,r,i){this.Mt=t,this.Oe=e,this.ke=n,this.Me=r,this.Le=i}return t.$e=function(e,n){var r=new Map;return r.set(e,mf.Be(e,n)),new t(Hc.min(),r,hf(),ef(),cf())},t}(),mf=function(){function t(t,e,n,r,i){this.resumeToken=t,this.qe=e,this.Ue=n,this.Qe=r,this.Ke=i}return t.Be=function(e,n){return new t(Ec.h,n,cf(),cf(),cf())},t}(),bf=function(t,e,n,r){this.We=t,this.removedTargetIds=e,this.key=n,this.je=r},yf=function(t,e){this.targetId=t,this.Ge=e},vf=function(t,e,n,r){void 0===n&&(n=Ec.h),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r},wf=function(){function t(){this.ze=0,this.He=Ef(),this.Je=Ec.h,this.Ye=!1,this.Xe=!0}return Object.defineProperty(t.prototype,"qe",{get:function(){return this.Ye},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.Je},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Ze",{get:function(){return 0!==this.ze},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tn",{get:function(){return this.Xe},enumerable:!1,configurable:!0}),t.prototype.en=function(t){t.o()>0&&(this.Xe=!0,this.Je=t)},t.prototype.nn=function(){var t=cf(),e=cf(),n=cf();return this.He.forEach(function(r,i){switch(i){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:n=n.add(r);break;default:gc()}}),new mf(this.Je,this.Ye,t,e,n)},t.prototype.sn=function(){this.Xe=!1,this.He=Ef()},t.prototype.rn=function(t,e){this.Xe=!0,this.He=this.He.Ht(t,e)},t.prototype.on=function(t){this.Xe=!0,this.He=this.He.remove(t)},t.prototype.cn=function(){this.ze+=1},t.prototype.an=function(){this.ze-=1},t.prototype.un=function(){this.Xe=!0,this.Ye=!0},t}(),_f=function(){function t(t){this.hn=t,this.ln=new Map,this._n=ef(),this.fn=Of(),this.dn=new Qh(wc)}return t.prototype.wn=function(t){for(var e=0,n=t.We;e<n.length;e++){var r=n[e];t.je instanceof Cl?this.En(r,t.je):t.je instanceof xl&&this.Tn(r,t.key,t.je)}for(var i=0,o=t.removedTargetIds;i<o.length;i++)this.Tn(r=o[i],t.key,t.je)},t.prototype.In=function(t){var e=this;this.mn(t,function(n){var r=e.An(n);switch(t.state){case 0:e.Rn(n)&&r.en(t.resumeToken);break;case 1:r.an(),r.Ze||r.sn(),r.en(t.resumeToken);break;case 2:r.an(),r.Ze||e.removeTarget(n);break;case 3:e.Rn(n)&&(r.un(),r.en(t.resumeToken));break;case 4:e.Rn(n)&&(e.Pn(n),r.en(t.resumeToken));break;default:gc()}})},t.prototype.mn=function(t,e){var n=this;t.targetIds.length>0?t.targetIds.forEach(e):this.ln.forEach(function(t,r){n.Rn(r)&&e(r)})},t.prototype.yn=function(t){var e=t.targetId,n=t.Ge.count,r=this.gn(e);if(r){var i=r.target;if(Dl(i))if(0===n){var o=new Gc(i.path);this.Tn(e,o,new xl(o,Hc.min()))}else mc(1===n);else this.Vn(e)!==n&&(this.Pn(e),this.dn=this.dn.add(e))}},t.prototype.pn=function(t){var e=this,n=new Map;this.ln.forEach(function(r,i){var o=e.gn(i);if(o){if(r.qe&&Dl(o.target)){var s=new Gc(o.target.path);null!==e._n.get(s)||e.bn(i,s)||e.Tn(i,s,new xl(s,t))}r.tn&&(n.set(i,r.nn()),r.sn())}});var r=cf();this.fn.forEach(function(t,n){var i=!0;n.Re(function(t){var n=e.gn(t);return!n||2===n.kt||(i=!1,!1)}),i&&(r=r.add(t))});var i=new gf(t,n,this.dn,this._n,r);return this._n=ef(),this.fn=Of(),this.dn=new Qh(wc),i},t.prototype.En=function(t,e){if(this.Rn(t)){var n=this.bn(t,e.key)?2:0;this.An(t).rn(e.key,n),this._n=this._n.Ht(e.key,e),this.fn=this.fn.Ht(e.key,this.vn(e.key).add(t))}},t.prototype.Tn=function(t,e,n){if(this.Rn(t)){var r=this.An(t);this.bn(t,e)?r.rn(e,1):r.on(e),this.fn=this.fn.Ht(e,this.vn(e).delete(t)),n&&(this._n=this._n.Ht(e,n))}},t.prototype.removeTarget=function(t){this.ln.delete(t)},t.prototype.Vn=function(t){var e=this.An(t).nn();return this.hn.Sn(t).size+e.Ue.size-e.Ke.size},t.prototype.cn=function(t){this.An(t).cn()},t.prototype.An=function(t){var e=this.ln.get(t);return e||(e=new wf,this.ln.set(t,e)),e},t.prototype.vn=function(t){var e=this.fn.get(t);return e||(e=new Qh(wc),this.fn=this.fn.Ht(t,e)),e},t.prototype.Rn=function(t){var e=null!==this.gn(t);return e||hc("WatchChangeAggregator","Detected inactive target",t),e},t.prototype.gn=function(t){var e=this.ln.get(t);return e&&e.Ze?null:this.hn.Dn(t)},t.prototype.Pn=function(t){var e=this;this.ln.set(t,new wf),this.hn.Sn(t).forEach(function(n){e.Tn(t,n,null)})},t.prototype.bn=function(t,e){return this.hn.Sn(t).has(e)},t}();function Of(){return new Zh(Gc.J)}function Ef(){return new Zh(Gc.J)}var Cf={asc:"ASCENDING",desc:"DESCENDING"},xf={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Sf=function(t,e){this.T=t,this.qt=e};function Tf(t,e){return t.qt?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function If(t,e){return t.qt?e.toBase64():e.toUint8Array()}function kf(t,e){return Tf(t,e.G())}function Af(t){return mc(!!t),Hc.W(function(t){var e=Qc(t);return new Uc(e.seconds,e.nanos)}(t))}function Df(t,e){return function(t){return new qc(["projects",t.projectId,"databases",t.database])}(t).child("documents").child(e).ot()}function jf(t){var e=qc.ct(t);return mc(nd(e)),e}function Nf(t,e){return Df(t.T,e.path)}function Pf(t,e){var n=jf(e);if(n.get(1)!==t.T.projectId)throw new xc(Cc.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.T.projectId);if(n.get(3)!==t.T.database)throw new xc(Cc.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.T.database);return new Gc(Lf(n))}function Rf(t,e){return Df(t.T,e)}function Mf(t){var e=jf(t);return 4===e.length?qc.at():Lf(e)}function Vf(t){return new qc(["projects",t.T.projectId,"databases",t.T.database]).ot()}function Lf(t){return mc(t.length>4&&"documents"===t.get(4)),t.X(5)}function Ff(t,e,n){return{name:Nf(t,e),fields:n.proto.mapValue.fields}}function Uf(t,e,n){var r=Pf(t,e.name),i=Af(e.updateTime),o=new wl({mapValue:{fields:e.fields}});return new Cl(r,i,o,{hasCommittedMutations:!!n})}function Hf(t,e){var n;if(e instanceof Mh)n={update:Ff(t,e.key,e.value)};else if(e instanceof Bh)n={delete:Nf(t,e.key)};else if(e instanceof Vh)n={update:Ff(t,e.key,e.data),updateMask:ed(e.zt)};else{if(!(e instanceof Wh))return gc();n={verify:Nf(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(function(t){return function(t,e){var n=e.transform;if(n instanceof yh)return{fieldPath:e.field.ot(),setToServerValue:"REQUEST_TIME"};if(n instanceof vh)return{fieldPath:e.field.ot(),appendMissingElements:{values:n.elements}};if(n instanceof _h)return{fieldPath:e.field.ot(),removeAllFromArray:{values:n.elements}};if(n instanceof Eh)return{fieldPath:e.field.ot(),increment:n.Qt};throw gc()}(0,t)})),e.Gt.jt||(n.currentDocument=function(t,e){return void 0!==e.updateTime?{updateTime:kf(t,e.updateTime)}:void 0!==e.exists?{exists:e.exists}:gc()}(t,e.Gt)),n}function zf(t,e){var n=e.currentDocument?function(t){return void 0!==t.updateTime?Ih.updateTime(Af(t.updateTime)):void 0!==t.exists?Ih.exists(t.exists):Ih.Wt()}(e.currentDocument):Ih.Wt(),r=e.updateTransforms?e.updateTransforms.map(function(e){return function(t,e){var n=null;"setToServerValue"in e?(mc("REQUEST_TIME"===e.setToServerValue),n=new yh):"appendMissingElements"in e?n=new vh(e.appendMissingElements.values||[]):"removeAllFromArray"in e?n=new _h(e.removeAllFromArray.values||[]):"increment"in e?n=new Eh(t,e.increment):gc();var r=Wc._t(e.fieldPath);return new Sh(r,n)}(t,e)}):[];if(e.update){var i=Pf(t,e.update.name),o=new wl({mapValue:{fields:e.update.fields}});if(e.updateMask){var s=function(t){return new Yc((t.fieldPaths||[]).map(function(t){return Wc._t(t)}))}(e.updateMask);return new Vh(i,o,s,n,r)}return new Mh(i,o,n,r)}if(e.delete){var a=Pf(t,e.delete);return new Bh(a,n)}if(e.verify){var u=Pf(t,e.verify);return new Wh(u,n)}return gc()}function qf(t,e){return{documents:[Rf(t,e.path)]}}function Bf(t,e){var n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=Rf(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=Rf(t,r.Z()),n.structuredQuery.from=[{collectionId:r.et()}]);var i=function(t){if(0!==t.length){var e=t.map(function(t){return function(t){if("=="===t.op){if(yl(t.value))return{unaryFilter:{field:Jf(t.field),op:"IS_NAN"}};if(bl(t.value))return{unaryFilter:{field:Jf(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(yl(t.value))return{unaryFilter:{field:Jf(t.field),op:"IS_NOT_NAN"}};if(bl(t.value))return{unaryFilter:{field:Jf(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Jf(t.field),op:Yf(t.op),value:t.value}}}(t)});return 1===e.length?e[0]:{compositeFilter:{op:"AND",filters:e}}}}(e.filters);i&&(n.structuredQuery.where=i);var o=function(t){if(0!==t.length)return t.map(function(t){return function(t){return{field:Jf(t.field),direction:Zf(t.dir)}}(t)})}(e.orderBy);o&&(n.structuredQuery.orderBy=o);var s=function(t,e){return t.qt||il(e)?e:{value:e}}(t,e.limit);return null!==s&&(n.structuredQuery.limit=s),e.startAt&&(n.structuredQuery.startAt=$f(e.startAt)),e.endAt&&(n.structuredQuery.endAt=$f(e.endAt)),n}function Wf(t){var e=Mf(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){mc(1===r);var o=n.from[0];o.allDescendants?i=o.collectionId:e=e.child(o.collectionId)}var s=[];n.where&&(s=Gf(n.where));var a=[];n.orderBy&&(a=n.orderBy.map(function(t){return function(t){return new ql(Qf(t.field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction))}(t)}));var u=null;n.limit&&(u=function(t){var e;return il(e="object"==typeof t?t.value:t)?null:e}(n.limit));var c=null;n.startAt&&(c=Kf(n.startAt));var l=null;return n.endAt&&(l=Kf(n.endAt)),Kl(e,i,a,s,u,"F",c,l)}function Gf(t){return t?void 0!==t.unaryFilter?[td(t)]:void 0!==t.fieldFilter?[Xf(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map(function(t){return Gf(t)}).reduce(function(t,e){return t.concat(e)}):gc():[]}function $f(t){return{before:t.before,values:t.position}}function Kf(t){return new Hl(t.values||[],!!t.before)}function Zf(t){return Cf[t]}function Yf(t){return xf[t]}function Jf(t){return{fieldPath:t.ot()}}function Qf(t){return Wc._t(t.fieldPath)}function Xf(t){return jl.create(Qf(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return gc()}}(t.fieldFilter.op),t.fieldFilter.value)}function td(t){switch(t.unaryFilter.op){case"IS_NAN":var e=Qf(t.unaryFilter.field);return jl.create(e,"==",{doubleValue:NaN});case"IS_NULL":var n=Qf(t.unaryFilter.field);return jl.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=Qf(t.unaryFilter.field);return jl.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=Qf(t.unaryFilter.field);return jl.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return gc()}}function ed(t){var e=[];return t.fields.forEach(function(t){return e.push(t.ot())}),{fieldPaths:e}}function nd(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}var rd=function(){var t=this;this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})},id=function(){function t(t){var e=this;this.Cn=null,this.xn=null,this.result=void 0,this.error=void 0,this.Nn=!1,this.Fn=!1,t(function(t){e.Nn=!0,e.result=t,e.Cn&&e.Cn(t)},function(t){e.Nn=!0,e.error=t,e.xn&&e.xn(t)})}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var r=this;return this.Fn&&gc(),this.Fn=!0,this.Nn?this.error?this.On(n,this.error):this.kn(e,this.result):new t(function(t,i){r.Cn=function(n){r.kn(e,n).next(t,i)},r.xn=function(e){r.On(n,e).next(t,i)}})},t.prototype.Mn=function(){var t=this;return new Promise(function(e,n){t.next(e,n)})},t.prototype.Ln=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(e){return t.reject(e)}},t.prototype.kn=function(e,n){return e?this.Ln(function(){return e(n)}):t.resolve(n)},t.prototype.On=function(e,n){return e?this.Ln(function(){return e(n)}):t.reject(n)},t.resolve=function(e){return new t(function(t,n){t(e)})},t.reject=function(e){return new t(function(t,n){n(e)})},t.$n=function(e){return new t(function(t,n){var r=0,i=0,o=!1;e.forEach(function(e){++r,e.next(function(){++i,o&&i===r&&t()},function(t){return n(t)})}),o=!0,i===r&&t()})},t.Bn=function(e){for(var n=t.resolve(!1),r=function(e){n=n.next(function(n){return n?t.resolve(n):e()})},i=0,o=e;i<o.length;i++)r(o[i]);return n},t.forEach=function(t,e){var n=this,r=[];return t.forEach(function(t,i){r.push(e.call(n,t,i))}),this.$n(r)},t}(),od=function(){function t(t,e){var n=this;this.action=t,this.transaction=e,this.aborted=!1,this.qn=new rd,this.transaction.oncomplete=function(){n.qn.resolve()},this.transaction.onabort=function(){e.error?n.qn.reject(new ud(t,e.error)):n.qn.resolve()},this.transaction.onerror=function(e){var r=dd(e.target.error);n.qn.reject(new ud(t,r))}}return t.open=function(e,n,r,i){try{return new t(n,e.transaction(i,r))}catch(e){throw new ud(n,e)}},Object.defineProperty(t.prototype,"Un",{get:function(){return this.qn.promise},enumerable:!1,configurable:!0}),t.prototype.abort=function(t){t&&this.qn.reject(t),this.aborted||(hc("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return new ld(e)},t}(),sd=function(){function t(e,n,r){this.name=e,this.version=n,this.Qn=r,12.2===t.Kn(Object(oo.g)())&&fc("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.delete=function(t){return hc("SimpleDb","Removing database:",t),hd(window.indexedDB.deleteDatabase(t)).Mn()},t.Wn=function(){if("undefined"==typeof indexedDB)return!1;if(t.jn())return!0;var e=Object(oo.g)(),n=t.Kn(e),r=0<n&&n<10,i=t.Gn(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)},t.jn=function(){var t;return"undefined"!=typeof process&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.zn)},t.Hn=function(t,e){return t.store(e)},t.Kn=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)},t.Gn=function(t){var e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)},t.prototype.Jn=function(t){return Object(uc.b)(this,void 0,void 0,function(){var e,n=this;return Object(uc.d)(this,function(r){switch(r.label){case 0:return this.db?[3,2]:(hc("SimpleDb","Opening database:",this.name),e=this,[4,new Promise(function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){e(t.target.result)},i.onblocked=function(){r(new ud(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;r("VersionError"===n.name?new xc(Cc.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):new ud(t,n))},i.onupgradeneeded=function(t){hc("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',t.oldVersion),n.Qn.Yn(t.target.result,i.transaction,t.oldVersion,n.version).next(function(){hc("SimpleDb","Database upgrade to version "+n.version+" complete")})}})]);case 1:e.db=r.sent(),r.label=2;case 2:return[2,(this.Xn&&(this.db.onversionchange=function(t){return n.Xn(t)}),this.db)]}})})},t.prototype.Zn=function(t){this.Xn=t,this.db&&(this.db.onversionchange=function(e){return t(e)})},t.prototype.runTransaction=function(t,e,n,r){return Object(uc.b)(this,void 0,void 0,function(){var i,o,s,a,u;return Object(uc.d)(this,function(c){switch(c.label){case 0:i="readonly"===e,o=0,s=function(){var e,s,u,c,l;return Object(uc.d)(this,function(h){switch(h.label){case 0:++o,h.label=1;case 1:return h.trys.push([1,4,,5]),[4,a.Jn(t)];case 2:return a.db=h.sent(),e=od.open(a.db,t,i?"readonly":"readwrite",n),s=r(e).catch(function(t){return e.abort(t),id.reject(t)}).Mn(),u={},s.catch(function(){}),[4,e.Un];case 3:return[2,(u.value=(h.sent(),s),u)];case 4:return hc("SimpleDb","Transaction failed with error:",(c=h.sent()).message,"Retrying:",l="FirebaseError"!==c.name&&o<3),a.close(),l?[3,5]:[2,{value:Promise.reject(c)}];case 5:return[2]}})},a=this,c.label=1;case 1:return[5,s()];case 2:if("object"==typeof(u=c.sent()))return[2,u.value];c.label=3;case 3:return[3,1];case 4:return[2]}})})},t.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},t}(),ad=function(){function t(t){this.ts=t,this.es=!1,this.ns=null}return Object.defineProperty(t.prototype,"Nn",{get:function(){return this.es},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ss",{get:function(){return this.ns},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.ts=t},enumerable:!1,configurable:!0}),t.prototype.done=function(){this.es=!0},t.prototype.rs=function(t){this.ns=t},t.prototype.delete=function(){return hd(this.ts.delete())},t}(),ud=function(t){function e(e,n){var r=this;return(r=t.call(this,Cc.UNAVAILABLE,"IndexedDB transaction '"+e+"' failed: "+n)||this).name="IndexedDbTransactionError",r}return Object(uc.c)(e,t),e}(xc);function cd(t){return"IndexedDbTransactionError"===t.name}var ld=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(hc("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(hc("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),hd(n)},t.prototype.add=function(t){return hc("SimpleDb","ADD",this.store.name,t,t),hd(this.store.add(t))},t.prototype.get=function(t){var e=this;return hd(this.store.get(t)).next(function(n){return void 0===n&&(n=null),hc("SimpleDb","GET",e.store.name,t,n),n})},t.prototype.delete=function(t){return hc("SimpleDb","DELETE",this.store.name,t),hd(this.store.delete(t))},t.prototype.count=function(){return hc("SimpleDb","COUNT",this.store.name),hd(this.store.count())},t.prototype.os=function(t,e){var n=this.cursor(this.options(t,e)),r=[];return this.cs(n,function(t,e){r.push(e)}).next(function(){return r})},t.prototype.us=function(t,e){hc("SimpleDb","DELETE ALL",this.store.name);var n=this.options(t,e);n.hs=!1;var r=this.cursor(n);return this.cs(r,function(t,e,n){return n.delete()})},t.prototype.ls=function(t,e){var n;e?n=t:(n={},e=t);var r=this.cursor(n);return this.cs(r,e)},t.prototype._s=function(t){var e=this.cursor({});return new id(function(n,r){e.onerror=function(t){var e=dd(t.target.error);r(e)},e.onsuccess=function(e){var r=e.target.result;r?t(r.primaryKey,r.value).next(function(t){t?r.continue():n()}):n()}})},t.prototype.cs=function(t,e){var n=[];return new id(function(r,i){t.onerror=function(t){i(t.target.error)},t.onsuccess=function(t){var i=t.target.result;if(i){var o=new ad(i),s=e(i.primaryKey,i.value,o);if(s instanceof id){var a=s.catch(function(t){return o.done(),id.reject(t)});n.push(a)}o.Nn?r():null===o.ss?i.continue():i.continue(o.ss)}else r()}}).next(function(){return id.$n(n)})},t.prototype.options=function(t,e){var n=void 0;return void 0!==t&&("string"==typeof t?n=t:e=t),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.hs?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();function hd(t){return new id(function(e,n){t.onsuccess=function(t){e(t.target.result)},t.onerror=function(t){var e=dd(t.target.error);n(e)}})}var fd=!1;function dd(t){var e=sd.Kn(Object(oo.g)());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var r=new xc("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return fd||(fd=!0,setTimeout(function(){throw r},0)),r}}return t}var pd=function(){function t(t,e,n,r,i){this.fs=t,this.ds=e,this.ws=n,this.op=r,this.Es=i,this.Ts=new rd,this.then=this.Ts.promise.then.bind(this.Ts.promise),this.Ts.promise.catch(function(t){})}return t.Is=function(e,n,r,i,o){var s=new t(e,n,Date.now()+r,i,o);return s.start(r),s},t.prototype.start=function(t){var e=this;this.As=setTimeout(function(){return e.Rs()},t)},t.prototype.Ps=function(){return this.Rs()},t.prototype.cancel=function(t){null!==this.As&&(this.clearTimeout(),this.Ts.reject(new xc(Cc.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype.Rs=function(){var t=this;this.fs.ys(function(){return null!==t.As?(t.clearTimeout(),t.op().then(function(e){return t.Ts.resolve(e)})):Promise.resolve()})},t.prototype.clearTimeout=function(){null!==this.As&&(this.Es(this),clearTimeout(this.As),this.As=null)},t}();function gd(t,e){if(fc("AsyncQueue",e+": "+t),cd(t))return new xc(Cc.UNAVAILABLE,e+": "+t);throw t}var md=function(t,e){this.progress=t,this.gs=e},bd="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",yd=function(){function t(){this.Vs=[]}return t.prototype.ps=function(t){this.Vs.push(t)},t.prototype.bs=function(){this.Vs.forEach(function(t){return t()})},t}();function vd(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=_d(e)),e=wd(t.get(n),e);return _d(e)}function wd(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var o=t.charAt(i);switch(o){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=o}}return n}function _d(t){return t+"\x01\x01"}function Od(t){var e=t.length;if(mc(e>=2),2===e)return mc("\x01"===t.charAt(0)&&"\x01"===t.charAt(1)),qc.at();for(var n=e-2,r=[],i="",o=0;o<e;){var s=t.indexOf("\x01",o);switch((s<0||s>n)&&gc(),t.charAt(s+1)){case"\x01":var a=t.substring(o,s),u=void 0;0===i.length?u=a:(u=i+=a,i=""),r.push(u);break;case"\x10":i+=t.substring(o,s),i+="\0";break;case"\x11":i+=t.substring(o,s+1);break;default:gc()}o=s+2}return new qc(r)}var Ed=function(t,e){this.seconds=t,this.nanoseconds=e},Cd=function(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n};Cd.store="owner",Cd.key="owner";var xd=function(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n};xd.store="mutationQueues",xd.keyPath="userId";var Sd=function(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};Sd.store="mutations",Sd.keyPath="batchId",Sd.userMutationsIndex="userMutationsIndex",Sd.userMutationsKeyPath=["userId","batchId"];var Td=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,vd(e)]},t.key=function(t,e,n){return[t,vd(e),n]},t}();Td.store="documentMutations",Td.PLACEHOLDER=new Td;var Id=function(t,e){this.path=t,this.readTime=e},kd=function(t,e){this.path=t,this.version=e},Ad=function(t,e,n,r,i,o){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o};Ad.store="remoteDocuments",Ad.readTimeIndex="readTimeIndex",Ad.readTimeIndexPath="readTime",Ad.collectionReadTimeIndex="collectionReadTimeIndex",Ad.collectionReadTimeIndexPath=["parentPath","readTime"];var Dd=function(t){this.byteSize=t};Dd.store="remoteDocumentGlobal",Dd.key="remoteDocumentGlobalKey";var jd=function(t,e,n,r,i,o,s){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=s};jd.store="targets",jd.keyPath="targetId",jd.queryTargetsIndexName="queryTargetsIndex",jd.queryTargetsKeyPath=["canonicalId","targetId"];var Nd=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};Nd.store="targetDocuments",Nd.keyPath=["targetId","path"],Nd.documentTargetsIndex="documentTargetsIndex",Nd.documentTargetsKeyPath=["path","targetId"];var Pd=function(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r};Pd.key="targetGlobalKey",Pd.store="targetGlobal";var Rd=function(t,e){this.collectionId=t,this.parent=e};Rd.store="collectionParents",Rd.keyPath=["collectionId","parent"];var Md=function(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r};Md.store="clientMetadata",Md.keyPath="clientId";var Vd=function(t,e,n){this.bundleId=t,this.createTime=e,this.version=n};Vd.store="bundles",Vd.keyPath="bundleId";var Ld=function(t,e,n){this.name=t,this.readTime=e,this.bundledQuery=n};Ld.store="namedQueries",Ld.keyPath="name";var Fd=Object(uc.g)(Object(uc.g)(Object(uc.g)(Object(uc.g)([xd.store,Sd.store,Td.store,Ad.store,jd.store,Cd.store,Pd.store,Nd.store],[Md.store]),[Dd.store]),[Rd.store]),[Vd.store,Ld.store]),Ud=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).vs=e,r.Ss=n,r}return Object(uc.c)(e,t),e}(yd);function Hd(t,e){var n=bc(t);return sd.Hn(n.vs,e)}var zd=function(){function t(t,e,n,r){this.batchId=t,this.Ds=e,this.baseMutations=n,this.mutations=r}return t.prototype.Cs=function(t,e,n){for(var r=n.xs,i=0;i<this.mutations.length;i++){var o=this.mutations[i];o.key.isEqual(t)&&(e=Dh(o,e,r[i]))}return e},t.prototype.Ns=function(t,e){for(var n=0,r=this.baseMutations;n<r.length;n++){var i=r[n];i.key.isEqual(t)&&(e=jh(i,e,e,this.Ds))}for(var o=e,s=0,a=this.mutations;s<a.length;s++){var u=a[s];u.key.isEqual(t)&&(e=jh(u,e,o,this.Ds))}return e},t.prototype.Fs=function(t){var e=this,n=t;return this.mutations.forEach(function(r){var i=e.Ns(r.key,t.get(r.key));i&&(n=n.Ht(r.key,i))}),n},t.prototype.keys=function(){return this.mutations.reduce(function(t,e){return t.add(e.key)},cf())},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&_c(this.mutations,t.mutations,function(t,e){return Ph(t,e)})&&_c(this.baseMutations,t.baseMutations,function(t,e){return Ph(t,e)})},t}(),qd=function(){function t(t,e,n,r){this.batch=t,this.Os=e,this.xs=n,this.ks=r}return t.from=function(e,n,r){mc(e.mutations.length===r.length);for(var i=af(),o=e.mutations,s=0;s<o.length;s++)i=i.Ht(o[s].key,r[s].version);return new t(e,n,r,i)},t}(),Bd=function(t){this.Ms=t};function Wd(t,e){if(e.document)return Uf(t.Ms,e.document,!!e.hasCommittedMutations);if(e.noDocument){var n=Gc.Tt(e.noDocument.path),r=Yd(e.noDocument.readTime);return new xl(n,r,{hasCommittedMutations:!!e.hasCommittedMutations})}if(e.unknownDocument){var i=Gc.Tt(e.unknownDocument.path);return r=Yd(e.unknownDocument.version),new Sl(i,r)}return gc()}function Gd(t,e,n){var r=$d(n),i=e.key.path.Z().rt();if(e instanceof Cl){var o=function(t,e){return{name:Nf(t,e.key),fields:e.vt().mapValue.fields,updateTime:Tf(t,e.version.G())}}(t.Ms,e),s=e.hasCommittedMutations;return new Ad(null,null,o,s,r,i)}if(e instanceof xl){var a=e.key.path.rt(),u=Zd(e.version);return s=e.hasCommittedMutations,new Ad(null,new Id(a,u),null,s,r,i)}if(e instanceof Sl){var c=e.key.path.rt(),l=Zd(e.version);return new Ad(new kd(c,l),null,null,!0,r,i)}return gc()}function $d(t){var e=t.G();return[e.seconds,e.nanoseconds]}function Kd(t){var e=new Uc(t[0],t[1]);return Hc.W(e)}function Zd(t){var e=t.G();return new Ed(e.seconds,e.nanoseconds)}function Yd(t){var e=new Uc(t.seconds,t.nanoseconds);return Hc.W(e)}function Jd(t,e){for(var n=(e.baseMutations||[]).map(function(e){return zf(t.Ms,e)}),r=e.mutations.length-1;r>=0;--r){var i=e.mutations[r];void 0!==(null==i?void 0:i.transform)&&(e.mutations[r-1].updateTransforms=i.transform.fieldTransforms,e.mutations.splice(r,1),--r)}var o=e.mutations.map(function(e){return zf(t.Ms,e)}),s=Uc.fromMillis(e.localWriteTimeMs);return new zd(e.batchId,s,n,o)}function Qd(t){var e,n,r=Yd(t.readTime),i=void 0!==t.lastLimboFreeSnapshotVersion?Yd(t.lastLimboFreeSnapshotVersion):Hc.min();return void 0!==t.query.documents?(mc(1===(n=t.query).documents.length),e=nh(Zl(Mf(n.documents[0])))):e=function(t){return nh(Wf(t))}(t.query),new lh(e,t.targetId,0,t.lastListenSequenceNumber,r,i,Ec.fromBase64String(t.resumeToken))}function Xd(t,e){var n,r=Zd(e.Mt),i=Zd(e.lastLimboFreeSnapshotVersion);n=Dl(e.target)?qf(t.Ms,e.target):Bf(t.Ms,e.target);var o=e.resumeToken.toBase64();return new jd(e.targetId,kl(e.target),r,o,e.sequenceNumber,i,n)}function tp(t){var e=Wf({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?rh(e,e.limit,"L"):e}var ep=function(){function t(){}return t.prototype.Ls=function(t,e){return np(t).get(e).next(function(t){if(t)return{id:(e=t).bundleId,createTime:Yd(e.createTime),version:e.version};var e})},t.prototype.$s=function(t,e){return np(t).put({bundleId:(n=e).id,createTime:Zd(Af(n.createTime)),version:n.version});var n},t.prototype.Bs=function(t,e){return rp(t).get(e).next(function(t){if(t)return{name:(e=t).name,query:tp(e.bundledQuery),readTime:Yd(e.readTime)};var e})},t.prototype.qs=function(t,e){return rp(t).put(function(t){return{name:t.name,readTime:Zd(Af(t.readTime)),bundledQuery:t.bundledQuery}}(e))},t}();function np(t){return Hd(t,Vd.store)}function rp(t){return Hd(t,Ld.store)}var ip=function(){function t(){this.Us=new op}return t.prototype.Qs=function(t,e){return this.Us.add(e),id.resolve()},t.prototype.Ks=function(t,e){return id.resolve(this.Us.getEntries(e))},t}(),op=function(){function t(){this.index={}}return t.prototype.add=function(t){var e=t.et(),n=t.Z(),r=this.index[e]||new Qh(qc.J),i=!r.has(n);return this.index[e]=r.add(n),i},t.prototype.has=function(t){var e=t.et(),n=t.Z(),r=this.index[e];return r&&r.has(n)},t.prototype.getEntries=function(t){return(this.index[t]||new Qh(qc.J)).rt()},t}(),sp=function(){function t(){this.Ws=new op}return t.prototype.Qs=function(t,e){var n=this;if(!this.Ws.has(e)){var r=e.et(),i=e.Z();t.ps(function(){n.Ws.add(e)});var o={collectionId:r,parent:vd(i)};return ap(t).put(o)}return id.resolve()},t.prototype.Ks=function(t,e){var n=[],r=IDBKeyRange.bound([e,""],[Oc(e),""],!1,!0);return ap(t).os(r).next(function(t){for(var r=0,i=t;r<i.length;r++){var o=i[r];if(o.collectionId!==e)break;n.push(Od(o.parent))}return n})},t}();function ap(t){return Hd(t,Rd.store)}var up={js:!1,Gs:0,zs:0,Hs:0},cp=function(){function t(t,e,n){this.Js=t,this.Ys=e,this.Xs=n}return t.Zs=function(e){return new t(e,t.ti,t.ei)},t}();function lp(t){return Object(uc.b)(this,void 0,void 0,function(){return Object(uc.d)(this,function(e){if(t.code!==Cc.FAILED_PRECONDITION||t.message!==bd)throw t;return hc("LocalStore","Unexpectedly lost primary lease"),[2]})})}cp.ti=10,cp.ei=1e3,cp.ni=new cp(41943040,cp.ti,cp.ei),cp.si=new cp(-1,0,0);var hp=function(){function t(t,e){this.ii=t,this.ri=e,this.oi={}}return t.prototype.get=function(t){var e=this.ii(t),n=this.oi[e];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var o=i[r],s=o[1];if(this.ri(o[0],t))return s}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.ii(t),r=this.oi[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.ri(r[i][0],t))return void(r[i]=[t,e]);r.push([t,e])}else this.oi[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.ii(t),n=this.oi[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.ri(n[r][0],t))return 1===n.length?delete this.oi[e]:n.splice(r,1),!0;return!1},t.prototype.forEach=function(t){Kc(this.oi,function(e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];t(o[0],o[1])}})},t.prototype.nt=function(){return Zc(this.oi)},t}(),fp=function(){function t(){this.ci=new hp(function(t){return t.toString()},function(t,e){return t.isEqual(e)}),this.ai=!1}return t.prototype.ui=function(t){var e=this.ci.get(t);return e?e.readTime:Hc.min()},t.prototype.hi=function(t,e){this.li(),this.ci.set(t.key,{_i:t,readTime:e})},t.prototype.fi=function(t,e){void 0===e&&(e=null),this.li(),this.ci.set(t,{_i:null,readTime:e})},t.prototype.di=function(t,e){this.li();var n=this.ci.get(e);return void 0!==n?id.resolve(n._i):this.wi(t,e)},t.prototype.getEntries=function(t,e){return this.Ei(t,e)},t.prototype.apply=function(t){return this.li(),this.ai=!0,this.Ti(t)},t.prototype.li=function(){},t}();function dp(t,e,n){var r=t.store(Sd.store),i=t.store(Td.store),o=[],s=IDBKeyRange.only(n.batchId),a=0,u=r.ls({range:s},function(t,e,n){return a++,n.delete()});o.push(u.next(function(){mc(1===a)}));for(var c=[],l=0,h=n.mutations;l<h.length;l++){var f=h[l],d=Td.key(e,f.key.path,n.batchId);o.push(i.delete(d)),c.push(f.key)}return id.$n(o).next(function(){return c})}function pp(t){var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw gc();e=t.noDocument}return JSON.stringify(e).length}var gp=function(){function t(t,e,n,r){this.userId=t,this.Kt=e,this.Ii=n,this.mi=r,this.Ai={}}return t.Ri=function(e,n,r,i){return mc(""!==e.uid),new t(e.A()?e.uid:"",n,r,i)},t.prototype.Pi=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return bp(t).ls({index:Sd.userMutationsIndex,range:n},function(t,n,r){e=!1,r.done()}).next(function(){return e})},t.prototype.yi=function(t,e,n,r){var i=this,o=yp(t),s=bp(t);return s.add({}).next(function(a){mc("number"==typeof a);for(var u=new zd(a,e,n,r),c=function(t,e,n){var r=n.baseMutations.map(function(e){return Hf(t.Ms,e)}),i=n.mutations.map(function(e){return Hf(t.Ms,e)});return new Sd(e,n.batchId,n.Ds.toMillis(),r,i)}(i.Kt,i.userId,u),l=[],h=new Qh(function(t,e){return wc(t.ot(),e.ot())}),f=0,d=r;f<d.length;f++){var p=d[f],g=Td.key(i.userId,p.key.path,a);h=h.add(p.key.path.Z()),l.push(s.put(c)),l.push(o.put(g,Td.PLACEHOLDER))}return h.forEach(function(e){l.push(i.Ii.Qs(t,e))}),t.ps(function(){i.Ai[a]=u.keys()}),id.$n(l).next(function(){return u})})},t.prototype.gi=function(t,e){var n=this;return bp(t).get(e).next(function(t){return t?(mc(t.userId===n.userId),Jd(n.Kt,t)):null})},t.prototype.Vi=function(t,e){var n=this;return this.Ai[e]?id.resolve(this.Ai[e]):this.gi(t,e).next(function(t){if(t){var r=t.keys();return n.Ai[e]=r,r}return null})},t.prototype.pi=function(t,e){var n=this,r=e+1,i=IDBKeyRange.lowerBound([this.userId,r]),o=null;return bp(t).ls({index:Sd.userMutationsIndex,range:i},function(t,e,i){e.userId===n.userId&&(mc(e.batchId>=r),o=Jd(n.Kt,e)),i.done()}).next(function(){return o})},t.prototype.bi=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return bp(t).ls({index:Sd.userMutationsIndex,range:e,reverse:!0},function(t,e,r){n=e.batchId,r.done()}).next(function(){return n})},t.prototype.vi=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return bp(t).os(Sd.userMutationsIndex,n).next(function(t){return t.map(function(t){return Jd(e.Kt,t)})})},t.prototype.Si=function(t,e){var n=this,r=Td.prefixForPath(this.userId,e.path),i=IDBKeyRange.lowerBound(r),o=[];return yp(t).ls({range:i},function(r,i,s){var a=r[0],u=r[2],c=Od(r[1]);if(a===n.userId&&e.path.isEqual(c))return bp(t).get(u).next(function(t){if(!t)throw gc();mc(t.userId===n.userId),o.push(Jd(n.Kt,t))});s.done()}).next(function(){return o})},t.prototype.Di=function(t,e){var n=this,r=new Qh(wc),i=[];return e.forEach(function(e){var o=Td.prefixForPath(n.userId,e.path),s=IDBKeyRange.lowerBound(o),a=yp(t).ls({range:s},function(t,i,o){var s=t[0],a=t[2],u=Od(t[1]);s===n.userId&&e.path.isEqual(u)?r=r.add(a):o.done()});i.push(a)}),id.$n(i).next(function(){return n.Ci(t,r)})},t.prototype.xi=function(t,e){var n=this,r=e.path,i=r.length+1,o=Td.prefixForPath(this.userId,r),s=IDBKeyRange.lowerBound(o),a=new Qh(wc);return yp(t).ls({range:s},function(t,e,o){var s=t[0],u=t[2],c=Od(t[1]);s===n.userId&&r.st(c)?c.length===i&&(a=a.add(u)):o.done()}).next(function(){return n.Ci(t,a)})},t.prototype.Ci=function(t,e){var n=this,r=[],i=[];return e.forEach(function(e){i.push(bp(t).get(e).next(function(t){if(null===t)throw gc();mc(t.userId===n.userId),r.push(Jd(n.Kt,t))}))}),id.$n(i).next(function(){return r})},t.prototype.Ni=function(t,e){var n=this;return dp(t.vs,this.userId,e).next(function(r){return t.ps(function(){n.Fi(e.batchId)}),id.forEach(r,function(e){return n.mi.Oi(t,e)})})},t.prototype.Fi=function(t){delete this.Ai[t]},t.prototype.ki=function(t){var e=this;return this.Pi(t).next(function(n){if(!n)return id.resolve();var r=IDBKeyRange.lowerBound(Td.prefixForUser(e.userId)),i=[];return yp(t).ls({range:r},function(t,n,r){if(t[0]===e.userId){var o=Od(t[1]);i.push(o)}else r.done()}).next(function(){mc(0===i.length)})})},t.prototype.Mi=function(t,e){return mp(t,this.userId,e)},t.prototype.Li=function(t){var e=this;return vp(t).get(this.userId).next(function(t){return t||new xd(e.userId,-1,"")})},t}();function mp(t,e,n){var r=Td.prefixForPath(e,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),s=!1;return yp(t).ls({range:o,hs:!0},function(t,n,r){t[0]===e&&t[1]===i&&(s=!0),r.done()}).next(function(){return s})}function bp(t){return Hd(t,Sd.store)}function yp(t){return Hd(t,Td.store)}function vp(t){return Hd(t,xd.store)}var wp=function(){function t(t){this.$i=t}return t.prototype.next=function(){return this.$i+=2,this.$i},t.Bi=function(){return new t(0)},t.qi=function(){return new t(-1)},t}(),_p=function(){function t(t,e){this.mi=t,this.Kt=e}return t.prototype.Ui=function(t){var e=this;return this.Qi(t).next(function(n){var r=new wp(n.highestTargetId);return n.highestTargetId=r.next(),e.Ki(t,n).next(function(){return n.highestTargetId})})},t.prototype.Wi=function(t){return this.Qi(t).next(function(t){return Hc.W(new Uc(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))})},t.prototype.ji=function(t){return this.Qi(t).next(function(t){return t.highestListenSequenceNumber})},t.prototype.Gi=function(t,e,n){var r=this;return this.Qi(t).next(function(i){return i.highestListenSequenceNumber=e,n&&(i.lastRemoteSnapshotVersion=n.G()),e>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e),r.Ki(t,i)})},t.prototype.zi=function(t,e){var n=this;return this.Hi(t,e).next(function(){return n.Qi(t).next(function(r){return r.targetCount+=1,n.Ji(e,r),n.Ki(t,r)})})},t.prototype.Yi=function(t,e){return this.Hi(t,e)},t.prototype.Xi=function(t,e){var n=this;return this.Zi(t,e.targetId).next(function(){return Op(t).delete(e.targetId)}).next(function(){return n.Qi(t)}).next(function(e){return mc(e.targetCount>0),e.targetCount-=1,n.Ki(t,e)})},t.prototype.tr=function(t,e,n){var r=this,i=0,o=[];return Op(t).ls(function(s,a){var u=Qd(a);u.sequenceNumber<=e&&null===n.get(u.targetId)&&(i++,o.push(r.Xi(t,u)))}).next(function(){return id.$n(o)}).next(function(){return i})},t.prototype.mn=function(t,e){return Op(t).ls(function(t,n){var r=Qd(n);e(r)})},t.prototype.Qi=function(t){return Ep(t).get(Pd.key).next(function(t){return mc(null!==t),t})},t.prototype.Ki=function(t,e){return Ep(t).put(Pd.key,e)},t.prototype.Hi=function(t,e){return Op(t).put(Xd(this.Kt,e))},t.prototype.Ji=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},t.prototype.er=function(t){return this.Qi(t).next(function(t){return t.targetCount})},t.prototype.nr=function(t,e){var n=kl(e),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return Op(t).ls({range:r,index:jd.queryTargetsIndexName},function(t,n,r){var o=Qd(n);Al(e,o.target)&&(i=o,r.done())}).next(function(){return i})},t.prototype.sr=function(t,e,n){var r=this,i=[],o=Cp(t);return e.forEach(function(e){var s=vd(e.path);i.push(o.put(new Nd(n,s))),i.push(r.mi.ir(t,n,e))}),id.$n(i)},t.prototype.rr=function(t,e,n){var r=this,i=Cp(t);return id.forEach(e,function(e){var o=vd(e.path);return id.$n([i.delete([n,o]),r.mi.cr(t,n,e)])})},t.prototype.Zi=function(t,e){var n=Cp(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(r)},t.prototype.ar=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),r=Cp(t),i=cf();return r.ls({range:n,hs:!0},function(t,e,n){var r=Od(t[1]),o=new Gc(r);i=i.add(o)}).next(function(){return i})},t.prototype.Mi=function(t,e){var n=vd(e.path),r=IDBKeyRange.bound([n],[Oc(n)],!1,!0),i=0;return Cp(t).ls({index:Nd.documentTargetsIndex,hs:!0,range:r},function(t,e,n){0!==t[0]&&(i++,n.done())}).next(function(){return i>0})},t.prototype.Dn=function(t,e){return Op(t).get(e).next(function(t){return t?Qd(t):null})},t}();function Op(t){return Hd(t,jd.store)}function Ep(t){return Hd(t,Pd.store)}function Cp(t){return Hd(t,Nd.store)}function xp(t,e){var n=t[1],r=e[1],i=wc(t[0],e[0]);return 0===i?wc(n,r):i}var Sp=function(){function t(t){this.ur=t,this.buffer=new Qh(xp),this.hr=0}return t.prototype.lr=function(){return++this.hr},t.prototype._r=function(t){var e=[t,this.lr()];if(this.buffer.size<this.ur)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();xp(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),t}(),Tp=function(){function t(t,e){this.dr=t,this.fs=e,this.wr=!1,this.Er=null}return t.prototype.start=function(t){-1!==this.dr.params.Js&&this.Tr(t)},t.prototype.stop=function(){this.Er&&(this.Er.cancel(),this.Er=null)},Object.defineProperty(t.prototype,"Ir",{get:function(){return null!==this.Er},enumerable:!1,configurable:!0}),t.prototype.Tr=function(t){var e=this,n=this.wr?3e5:6e4;hc("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.Er=this.fs.mr("lru_garbage_collection",n,function(){return Object(uc.b)(e,void 0,void 0,function(){var e;return Object(uc.d)(this,function(n){switch(n.label){case 0:this.Er=null,this.wr=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,t.Ar(this.dr)];case 2:return n.sent(),[3,7];case 3:return cd(e=n.sent())?(hc("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e),[3,6]):[3,4];case 4:return[4,lp(e)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.Tr(t)];case 8:return n.sent(),[2]}})})})},t}(),Ip=function(){function t(t,e){this.Rr=t,this.params=e}return t.prototype.Pr=function(t,e){return this.Rr.yr(t).next(function(t){return Math.floor(e/100*t)})},t.prototype.gr=function(t,e){var n=this;if(0===e)return id.resolve(Fc.U);var r=new Sp(e);return this.Rr.mn(t,function(t){return r._r(t.sequenceNumber)}).next(function(){return n.Rr.Vr(t,function(t){return r._r(t)})}).next(function(){return r.maxValue})},t.prototype.tr=function(t,e,n){return this.Rr.tr(t,e,n)},t.prototype.pr=function(t,e){return this.Rr.pr(t,e)},t.prototype.br=function(t,e){var n=this;return-1===this.params.Js?(hc("LruGarbageCollector","Garbage collection skipped; disabled"),id.resolve(up)):this.vr(t).next(function(r){return r<n.params.Js?(hc("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.Js),up):n.Sr(t,e)})},t.prototype.vr=function(t){return this.Rr.vr(t)},t.prototype.Sr=function(t,e){var n,r,i,o,s,a,u,c=this,l=Date.now();return this.Pr(t,this.params.Ys).next(function(e){return e>c.params.Xs?(hc("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+c.params.Xs+" from "+e),r=c.params.Xs):r=e,o=Date.now(),c.gr(t,r)}).next(function(r){return n=r,s=Date.now(),c.tr(t,n,e)}).next(function(e){return i=e,a=Date.now(),c.pr(t,n)}).next(function(t){return u=Date.now(),lc()<=io.a.DEBUG&&hc("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(o-l)+"ms\n\tDetermined least recently used "+r+" in "+(s-o)+"ms\n\tRemoved "+i+" targets in "+(a-s)+"ms\n\tRemoved "+t+" documents in "+(u-a)+"ms\nTotal Duration: "+(u-l)+"ms"),id.resolve({js:!0,Gs:r,zs:i,Hs:t})})},t}(),kp=function(){function t(t,e){this.db=t,this.dr=function(t,e){return new Ip(t,e)}(this,e)}return t.prototype.yr=function(t){var e=this.Dr(t);return this.db.Cr().er(t).next(function(t){return e.next(function(e){return t+e})})},t.prototype.Dr=function(t){var e=0;return this.Vr(t,function(t){e++}).next(function(){return e})},t.prototype.mn=function(t,e){return this.db.Cr().mn(t,e)},t.prototype.Vr=function(t,e){return this.Nr(t,function(t,n){return e(n)})},t.prototype.ir=function(t,e,n){return Ap(t,n)},t.prototype.cr=function(t,e,n){return Ap(t,n)},t.prototype.tr=function(t,e,n){return this.db.Cr().tr(t,e,n)},t.prototype.Oi=function(t,e){return Ap(t,e)},t.prototype.Fr=function(t,e){return function(t,e){var n=!1;return vp(t)._s(function(r){return mp(t,r,e).next(function(t){return t&&(n=!0),id.resolve(!t)})}).next(function(){return n})}(t,e)},t.prototype.pr=function(t,e){var n=this,r=this.db.kr().Or(),i=[],o=0;return this.Nr(t,function(s,a){if(a<=e){var u=n.Fr(t,s).next(function(e){if(!e)return o++,r.di(t,s).next(function(){return r.fi(s),Cp(t).delete([0,vd(s.path)])})});i.push(u)}}).next(function(){return id.$n(i)}).next(function(){return r.apply(t)}).next(function(){return o})},t.prototype.removeTarget=function(t,e){var n=e.Lt(t.Ss);return this.db.Cr().Yi(t,n)},t.prototype.Mr=function(t,e){return Ap(t,e)},t.prototype.Nr=function(t,e){var n,r=Cp(t),i=Fc.U;return r.ls({index:Nd.documentTargetsIndex},function(t,r){var o=r.path,s=r.sequenceNumber;0===t[0]?(i!==Fc.U&&e(new Gc(Od(n)),i),i=s,n=o):i=Fc.U}).next(function(){i!==Fc.U&&e(new Gc(Od(n)),i)})},t.prototype.vr=function(t){return this.db.kr().Lr(t)},t}();function Ap(t,e){return Cp(t).put(function(t,e){return new Nd(0,vd(t.path),e)}(e,t.Ss))}var Dp=function(){function t(t,e){this.Kt=t,this.Ii=e}return t.prototype.hi=function(t,e,n){return Pp(t).put(Rp(e),n)},t.prototype.fi=function(t,e){var n=Pp(t),r=Rp(e);return n.delete(r)},t.prototype.updateMetadata=function(t,e){var n=this;return this.getMetadata(t).next(function(r){return r.byteSize+=e,n.$r(t,r)})},t.prototype.di=function(t,e){var n=this;return Pp(t).get(Rp(e)).next(function(t){return n.Br(t)})},t.prototype.qr=function(t,e){var n=this;return Pp(t).get(Rp(e)).next(function(t){var e=n.Br(t);return e?{_i:e,size:pp(t)}:null})},t.prototype.getEntries=function(t,e){var n=this,r=nf();return this.Ur(t,e,function(t,e){var i=n.Br(e);r=r.Ht(t,i)}).next(function(){return r})},t.prototype.Qr=function(t,e){var n=this,r=nf(),i=new Zh(Gc.J);return this.Ur(t,e,function(t,e){var o=n.Br(e);o?(r=r.Ht(t,o),i=i.Ht(t,pp(e))):(r=r.Ht(t,null),i=i.Ht(t,0))}).next(function(){return{Kr:r,Wr:i}})},t.prototype.Ur=function(t,e,n){if(e.nt())return id.resolve();var r=IDBKeyRange.bound(e.first().path.rt(),e.last().path.rt()),i=e.ee(),o=i.ce();return Pp(t).ls({range:r},function(t,e,r){for(var s=Gc.Tt(t);o&&Gc.J(o,s)<0;)n(o,null),o=i.ce();o&&o.isEqual(s)&&(n(o,e),o=i.ae()?i.ce():null),o?r.rs(o.path.rt()):r.done()}).next(function(){for(;o;)n(o,null),o=i.ae()?i.ce():null})},t.prototype.jr=function(t,e,n){var r=this,i=of(),o=e.path.length+1,s={};if(n.isEqual(Hc.min())){var a=e.path.rt();s.range=IDBKeyRange.lowerBound(a)}else{var u=e.path.rt(),c=$d(n);s.range=IDBKeyRange.lowerBound([u,c],!0),s.index=Ad.collectionReadTimeIndex}return Pp(t).ls(s,function(t,n,s){if(t.length===o){var a=Wd(r.Kt,n);e.path.st(a.key.path)?a instanceof Cl&&ah(e,a)&&(i=i.Ht(a.key,a)):s.done()}}).next(function(){return i})},t.prototype.Or=function(t){return new jp(this,!!t&&t.Gr)},t.prototype.Lr=function(t){return this.getMetadata(t).next(function(t){return t.byteSize})},t.prototype.getMetadata=function(t){return Np(t).get(Dd.key).next(function(t){return mc(!!t),t})},t.prototype.$r=function(t,e){return Np(t).put(Dd.key,e)},t.prototype.Br=function(t){if(t){var e=Wd(this.Kt,t);return e instanceof xl&&e.version.isEqual(Hc.min())?null:e}return null},t}(),jp=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).zr=e,r.Gr=n,r.Hr=new hp(function(t){return t.toString()},function(t,e){return t.isEqual(e)}),r}return Object(uc.c)(e,t),e.prototype.Ti=function(t){var e=this,n=[],r=0,i=new Qh(function(t,e){return wc(t.ot(),e.ot())});return this.ci.forEach(function(o,s){var a=e.Hr.get(o);if(s._i){var u=Gd(e.zr.Kt,s._i,e.ui(o));i=i.add(o.path.Z());var c=pp(u);r+=c-a,n.push(e.zr.hi(t,o,u))}else if(r-=a,e.Gr){var l=Gd(e.zr.Kt,new xl(o,Hc.min()),e.ui(o));n.push(e.zr.hi(t,o,l))}else n.push(e.zr.fi(t,o))}),i.forEach(function(r){n.push(e.zr.Ii.Qs(t,r))}),n.push(this.zr.updateMetadata(t,r)),id.$n(n)},e.prototype.wi=function(t,e){var n=this;return this.zr.qr(t,e).next(function(t){return null===t?(n.Hr.set(e,0),null):(n.Hr.set(e,t.size),t._i)})},e.prototype.Ei=function(t,e){var n=this;return this.zr.Qr(t,e).next(function(t){var e=t.Kr;return t.Wr.forEach(function(t,e){n.Hr.set(t,e)}),e})},e}(fp);function Np(t){return Hd(t,Dd.store)}function Pp(t){return Hd(t,Ad.store)}function Rp(t){return t.path.rt()}var Mp=function(){function t(t){this.Kt=t}return t.prototype.Yn=function(t,e,n,r){var i=this;mc(n<r&&n>=0&&r<=11);var o=new od("createOrUpgrade",e);n<1&&r>=1&&(function(t){t.createObjectStore(Cd.store)}(t),function(t){t.createObjectStore(xd.store,{keyPath:xd.keyPath}),t.createObjectStore(Sd.store,{keyPath:Sd.keyPath,autoIncrement:!0}).createIndex(Sd.userMutationsIndex,Sd.userMutationsKeyPath,{unique:!0}),t.createObjectStore(Td.store)}(t),Vp(t),function(t){t.createObjectStore(Ad.store)}(t));var s=id.resolve();return n<3&&r>=3&&(0!==n&&(function(t){t.deleteObjectStore(Nd.store),t.deleteObjectStore(jd.store),t.deleteObjectStore(Pd.store)}(t),Vp(t)),s=s.next(function(){return function(t){var e=t.store(Pd.store),n=new Pd(0,0,Hc.min().G(),0);return e.put(Pd.key,n)}(o)})),n<4&&r>=4&&(0!==n&&(s=s.next(function(){return function(t,e){return e.store(Sd.store).os().next(function(n){t.deleteObjectStore(Sd.store),t.createObjectStore(Sd.store,{keyPath:Sd.keyPath,autoIncrement:!0}).createIndex(Sd.userMutationsIndex,Sd.userMutationsKeyPath,{unique:!0});var r=e.store(Sd.store),i=n.map(function(t){return r.put(t)});return id.$n(i)})}(t,o)})),s=s.next(function(){!function(t){t.createObjectStore(Md.store,{keyPath:Md.keyPath})}(t)})),n<5&&r>=5&&(s=s.next(function(){return i.Jr(o)})),n<6&&r>=6&&(s=s.next(function(){return function(t){t.createObjectStore(Dd.store)}(t),i.Yr(o)})),n<7&&r>=7&&(s=s.next(function(){return i.Xr(o)})),n<8&&r>=8&&(s=s.next(function(){return i.Zr(t,o)})),n<9&&r>=9&&(s=s.next(function(){!function(t){t.objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges")}(t),function(t){var e=t.objectStore(Ad.store);e.createIndex(Ad.readTimeIndex,Ad.readTimeIndexPath,{unique:!1}),e.createIndex(Ad.collectionReadTimeIndex,Ad.collectionReadTimeIndexPath,{unique:!1})}(e)})),n<10&&r>=10&&(s=s.next(function(){return i.eo(o)})),n<11&&r>=11&&(s=s.next(function(){!function(t){t.createObjectStore(Vd.store,{keyPath:Vd.keyPath})}(t),function(t){t.createObjectStore(Ld.store,{keyPath:Ld.keyPath})}(t)})),s},t.prototype.Yr=function(t){var e=0;return t.store(Ad.store).ls(function(t,n){e+=pp(n)}).next(function(){var n=new Dd(e);return t.store(Dd.store).put(Dd.key,n)})},t.prototype.Jr=function(t){var e=this,n=t.store(xd.store),r=t.store(Sd.store);return n.os().next(function(n){return id.forEach(n,function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.os(Sd.userMutationsIndex,i).next(function(r){return id.forEach(r,function(r){mc(r.userId===n.userId);var i=Jd(e.Kt,r);return dp(t,n.userId,i).next(function(){})})})})})},t.prototype.Xr=function(t){var e=t.store(Nd.store),n=t.store(Ad.store);return t.store(Pd.store).get(Pd.key).next(function(t){var r=[];return n.ls(function(n,i){var o=new qc(n),s=function(t){return[0,vd(t)]}(o);r.push(e.get(s).next(function(n){return n?id.resolve():function(n){return e.put(new Nd(0,vd(n),t.highestListenSequenceNumber))}(o)}))}).next(function(){return id.$n(r)})})},t.prototype.Zr=function(t,e){t.createObjectStore(Rd.store,{keyPath:Rd.keyPath});var n=e.store(Rd.store),r=new op,i=function(t){if(r.add(t)){var e=t.et(),i=t.Z();return n.put({collectionId:e,parent:vd(i)})}};return e.store(Ad.store).ls({hs:!0},function(t,e){var n=new qc(t);return i(n.Z())}).next(function(){return e.store(Td.store).ls({hs:!0},function(t,e){var n=Od(t[1]);return i(n.Z())})})},t.prototype.eo=function(t){var e=this,n=t.store(jd.store);return n.ls(function(t,r){var i=Qd(r),o=Xd(e.Kt,i);return n.put(o)})},t}();function Vp(t){t.createObjectStore(Nd.store,{keyPath:Nd.keyPath}).createIndex(Nd.documentTargetsIndex,Nd.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(jd.store,{keyPath:jd.keyPath}).createIndex(jd.queryTargetsIndexName,jd.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(Pd.store)}var Lp="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",Fp=function(){function t(e,n,r,i,o,s,a,u,c,l){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.no=o,this.window=s,this.document=a,this.so=c,this.io=l,this.ro=null,this.oo=!1,this.isPrimary=!1,this.networkEnabled=!0,this.co=null,this.inForeground=!1,this.ao=null,this.uo=null,this.ho=Number.NEGATIVE_INFINITY,this.lo=function(t){return Promise.resolve()},!t.Wn())throw new xc(Cc.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.mi=new kp(this,i),this._o=n+"main",this.Kt=new Bd(u),this.fo=new sd(this._o,11,new Mp(this.Kt)),this.wo=new _p(this.mi,this.Kt),this.Ii=new sp,this.Eo=function(t,e){return new Dp(t,e)}(this.Kt,this.Ii),this.To=new ep,this.window&&this.window.localStorage?this.Io=this.window.localStorage:(this.Io=null,!1===l&&fc("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return t.prototype.start=function(){var t=this;return this.mo().then(function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new xc(Cc.FAILED_PRECONDITION,Lp);return t.Ao(),t.Ro(),t.Po(),t.runTransaction("getHighestListenSequenceNumber","readonly",function(e){return t.wo.ji(e)})}).then(function(e){t.ro=new Fc(e,t.so)}).then(function(){t.oo=!0}).catch(function(e){return t.fo&&t.fo.close(),Promise.reject(e)})},t.prototype.yo=function(t){var e=this;return this.lo=function(n){return Object(uc.b)(e,void 0,void 0,function(){return Object(uc.d)(this,function(e){return this.Ir?[2,t(n)]:[2]})})},t(this.isPrimary)},t.prototype.Vo=function(t){var e=this;this.fo.Zn(function(n){return Object(uc.b)(e,void 0,void 0,function(){return Object(uc.d)(this,function(e){switch(e.label){case 0:return null===n.newVersion?[4,t()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})})})},t.prototype.po=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.no.ys(function(){return Object(uc.b)(e,void 0,void 0,function(){return Object(uc.d)(this,function(t){switch(t.label){case 0:return this.Ir?[4,this.mo()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})}))},t.prototype.mo=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(e){return Hp(e).put(new Md(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next(function(){if(t.isPrimary)return t.bo(e).next(function(e){e||(t.isPrimary=!1,t.no.vo(function(){return t.lo(!1)}))})}).next(function(){return t.So(e)}).next(function(n){return t.isPrimary&&!n?t.Do(e).next(function(){return!1}):!!n&&t.Co(e).next(function(){return!0})})}).catch(function(e){if(cd(e))return hc("IndexedDbPersistence","Failed to extend owner lease: ",e),t.isPrimary;if(!t.allowTabSynchronization)throw e;return hc("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(function(e){t.isPrimary!==e&&t.no.vo(function(){return t.lo(e)}),t.isPrimary=e})},t.prototype.bo=function(t){var e=this;return Up(t).get(Cd.key).next(function(t){return id.resolve(e.xo(t))})},t.prototype.No=function(t){return Hp(t).delete(this.clientId)},t.prototype.Fo=function(){return Object(uc.b)(this,void 0,void 0,function(){var t,e,n,r=this;return Object(uc.d)(this,function(i){switch(i.label){case 0:return!this.isPrimary||this.Oo(this.ho,18e5)?[3,2]:(this.ho=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(t){var e=Hd(t,Md.store);return e.os().next(function(t){var n=r.ko(t,18e5),i=t.filter(function(t){return-1===n.indexOf(t)});return id.forEach(i,function(t){return e.delete(t.clientId)}).next(function(){return i})})}).catch(function(){return[]})]);case 1:if(t=i.sent(),this.Io)for(e=0,n=t;e<n.length;e++)this.Io.removeItem(this.Mo(n[e].clientId));i.label=2;case 2:return[2]}})})},t.prototype.Po=function(){var t=this;this.uo=this.no.mr("client_metadata_refresh",4e3,function(){return t.mo().then(function(){return t.Fo()}).then(function(){return t.Po()})})},t.prototype.xo=function(t){return!!t&&t.ownerId===this.clientId},t.prototype.So=function(t){var e=this;return this.io?id.resolve(!0):Up(t).get(Cd.key).next(function(n){if(null!==n&&e.Oo(n.leaseTimestampMs,5e3)&&!e.Lo(n.ownerId)){if(e.xo(n)&&e.networkEnabled)return!0;if(!e.xo(n)){if(!n.allowTabSynchronization)throw new xc(Cc.FAILED_PRECONDITION,Lp);return!1}}return!(!e.networkEnabled||!e.inForeground)||Hp(t).os().next(function(t){return void 0===e.ko(t,5e3).find(function(t){return!(e.clientId===t.clientId||!(!e.networkEnabled&&t.networkEnabled||!e.inForeground&&t.inForeground&&e.networkEnabled===t.networkEnabled))})})}).next(function(t){return e.isPrimary!==t&&hc("IndexedDbPersistence","Client "+(t?"is":"is not")+" eligible for a primary lease."),t})},t.prototype.$o=function(){return Object(uc.b)(this,void 0,void 0,function(){var t=this;return Object(uc.d)(this,function(e){switch(e.label){case 0:return this.oo=!1,this.Bo(),this.uo&&(this.uo.cancel(),this.uo=null),this.qo(),this.Uo(),[4,this.fo.runTransaction("shutdown","readwrite",[Cd.store,Md.store],function(e){var n=new Ud(e,Fc.U);return t.Do(n).next(function(){return t.No(n)})})];case 1:return e.sent(),this.fo.close(),this.Qo(),[2]}})})},t.prototype.ko=function(t,e){var n=this;return t.filter(function(t){return n.Oo(t.updateTimeMs,e)&&!n.Lo(t.clientId)})},t.prototype.Ko=function(){var t=this;return this.runTransaction("getActiveClients","readonly",function(e){return Hp(e).os().next(function(e){return t.ko(e,18e5).map(function(t){return t.clientId})})})},Object.defineProperty(t.prototype,"Ir",{get:function(){return this.oo},enumerable:!1,configurable:!0}),t.prototype.Wo=function(t){return gp.Ri(t,this.Kt,this.Ii,this.mi)},t.prototype.Cr=function(){return this.wo},t.prototype.kr=function(){return this.Eo},t.prototype.jo=function(){return this.Ii},t.prototype.Go=function(){return this.To},t.prototype.runTransaction=function(t,e,n){var r,i=this;return hc("IndexedDbPersistence","Starting transaction:",t),this.fo.runTransaction(t,"readonly"===e?"readonly":"readwrite",Fd,function(o){return r=new Ud(o,i.ro?i.ro.next():Fc.U),"readwrite-primary"===e?i.bo(r).next(function(t){return!!t||i.So(r)}).next(function(e){if(!e)throw fc("Failed to obtain primary lease for action '"+t+"'."),i.isPrimary=!1,i.no.vo(function(){return i.lo(!1)}),new xc(Cc.FAILED_PRECONDITION,bd);return n(r)}).next(function(t){return i.Co(r).next(function(){return t})}):i.zo(r).next(function(){return n(r)})}).then(function(t){return r.bs(),t})},t.prototype.zo=function(t){var e=this;return Up(t).get(Cd.key).next(function(t){if(null!==t&&e.Oo(t.leaseTimestampMs,5e3)&&!e.Lo(t.ownerId)&&!e.xo(t)&&!(e.io||e.allowTabSynchronization&&t.allowTabSynchronization))throw new xc(Cc.FAILED_PRECONDITION,Lp)})},t.prototype.Co=function(t){var e=new Cd(this.clientId,this.allowTabSynchronization,Date.now());return Up(t).put(Cd.key,e)},t.Wn=function(){return sd.Wn()},t.prototype.Do=function(t){var e=this,n=Up(t);return n.get(Cd.key).next(function(t){return e.xo(t)?(hc("IndexedDbPersistence","Releasing primary lease."),n.delete(Cd.key)):id.resolve()})},t.prototype.Oo=function(t,e){var n=Date.now();return!(t<n-e||t>n&&(fc("Detected an update time that is in the future: "+t+" > "+n),1))},t.prototype.Ao=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ao=function(){t.no.ys(function(){return t.inForeground="visible"===t.document.visibilityState,t.mo()})},this.document.addEventListener("visibilitychange",this.ao),this.inForeground="visible"===this.document.visibilityState)},t.prototype.qo=function(){this.ao&&(this.document.removeEventListener("visibilitychange",this.ao),this.ao=null)},t.prototype.Ro=function(){var t,e=this;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.co=function(){e.Bo(),e.no.ys(function(){return e.$o()})},this.window.addEventListener("unload",this.co))},t.prototype.Uo=function(){this.co&&(this.window.removeEventListener("unload",this.co),this.co=null)},t.prototype.Lo=function(t){var e;try{var n=null!==(null===(e=this.Io)||void 0===e?void 0:e.getItem(this.Mo(t)));return hc("IndexedDbPersistence","Client '"+t+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(t){return fc("IndexedDbPersistence","Failed to get zombied client id.",t),!1}},t.prototype.Bo=function(){if(this.Io)try{this.Io.setItem(this.Mo(this.clientId),String(Date.now()))}catch(t){fc("Failed to set zombie client id.",t)}},t.prototype.Qo=function(){if(this.Io)try{this.Io.removeItem(this.Mo(this.clientId))}catch(t){}},t.prototype.Mo=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},t}();function Up(t){return Hd(t,Cd.store)}function Hp(t){return Hd(t,Md.store)}function zp(t,e){var n=t.projectId;return t.m||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}var qp=function(){function t(t,e,n){this.Eo=t,this.Ho=e,this.Ii=n}return t.prototype.Jo=function(t,e){var n=this;return this.Ho.Si(t,e).next(function(r){return n.Yo(t,e,r)})},t.prototype.Yo=function(t,e,n){return this.Eo.di(t,e).next(function(t){for(var r=0,i=n;r<i.length;r++)t=i[r].Ns(e,t);return t})},t.prototype.Xo=function(t,e,n){var r=nf();return e.forEach(function(t,e){for(var i=0,o=n;i<o.length;i++)e=o[i].Ns(t,e);r=r.Ht(t,e)}),r},t.prototype.Zo=function(t,e){var n=this;return this.Eo.getEntries(t,e).next(function(e){return n.tc(t,e)})},t.prototype.tc=function(t,e){var n=this;return this.Ho.Di(t,e).next(function(r){var i=n.Xo(t,e,r),o=ef();return i.forEach(function(t,e){e||(e=new xl(t,Hc.min())),o=o.Ht(t,e)}),o})},t.prototype.jr=function(t,e,n){return function(t){return Gc.Et(t.path)&&null===t.collectionGroup&&0===t.filters.length}(e)?this.ec(t,e.path):th(e)?this.nc(t,e,n):this.sc(t,e,n)},t.prototype.ec=function(t,e){return this.Jo(t,new Gc(e)).next(function(t){var e=of();return t instanceof Cl&&(e=e.Ht(t.key,t)),e})},t.prototype.nc=function(t,e,n){var r=this,i=e.collectionGroup,o=of();return this.Ii.Ks(t,i).next(function(s){return id.forEach(s,function(s){var a=function(t,e){return new $l(e,null,t.Nt.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(e,s.child(i));return r.sc(t,a,n).next(function(t){t.forEach(function(t,e){o=o.Ht(t,e)})})}).next(function(){return o})})},t.prototype.sc=function(t,e,n){var r,i,o=this;return this.Eo.jr(t,e,n).next(function(n){return r=n,o.Ho.xi(t,e)}).next(function(e){return o.ic(t,i=e,r).next(function(t){r=t;for(var e=0,n=i;e<n.length;e++)for(var o=n[e],s=0,a=o.mutations;s<a.length;s++){var u=a[s],c=u.key,l=r.get(c),h=jh(u,l,l,o.Ds);r=h instanceof Cl?r.Ht(c,h):r.remove(c)}})}).next(function(){return r.forEach(function(t,n){ah(e,n)||(r=r.remove(t))}),r})},t.prototype.ic=function(t,e,n){for(var r=cf(),i=0,o=e;i<o.length;i++)for(var s=0,a=o[i].mutations;s<a.length;s++){var u=a[s];u instanceof Vh&&null===n.get(u.key)&&(r=r.add(u.key))}var c=n;return this.Eo.getEntries(t,r).next(function(t){return t.forEach(function(t,e){null!==e&&e instanceof Cl&&(c=c.Ht(t,e))}),c})},t}(),Bp=function(){function t(t,e,n,r){this.targetId=t,this.fromCache=e,this.rc=n,this.oc=r}return t.cc=function(e,n){for(var r=cf(),i=cf(),o=0,s=n.docChanges;o<s.length;o++){var a=s[o];switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}}return new t(e,n.fromCache,r,i)},t}(),Wp=function(){function t(){}return t.prototype.ac=function(t){this.uc=t},t.prototype.jr=function(t,e,n,r){var i=this;return function(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.Nt.length||1===t.Nt.length&&t.Nt[0].field.ht())}(e)||n.isEqual(Hc.min())?this.hc(t,e):this.uc.Zo(t,r).next(function(o){var s=i.lc(e,o);return(Yl(e)||Jl(e))&&i._c(e.limitType,s,r,n)?i.hc(t,e):(lc()<=io.a.DEBUG&&hc("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),sh(e)),i.uc.jr(t,e,n).next(function(t){return s.forEach(function(e){t=t.Ht(e.key,e)}),t}))})},t.prototype.lc=function(t,e){var n=new Qh(uh(t));return e.forEach(function(e,r){r instanceof Cl&&ah(t,r)&&(n=n.add(r))}),n},t.prototype._c=function(t,e,n,r){if(n.size!==e.size)return!0;var i="F"===t?e.last():e.first();return!!i&&(i.hasPendingWrites||i.version.u(r)>0)},t.prototype.hc=function(t,e){return lc()<=io.a.DEBUG&&hc("QueryEngine","Using full collection scan to execute query:",sh(e)),this.uc.jr(t,e,Hc.min())},t}(),Gp=function(){function t(t,e,n,r){this.persistence=t,this.fc=e,this.Kt=r,this.dc=new Zh(wc),this.wc=new hp(function(t){return kl(t)},Al),this.Ec=Hc.min(),this.Ho=t.Wo(n),this.Tc=t.kr(),this.wo=t.Cr(),this.Ic=new qp(this.Tc,this.Ho,this.persistence.jo()),this.To=t.Go(),this.fc.ac(this.Ic)}return t.prototype.Ar=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(n){return t.br(n,e.dc)})},t}();function $p(t,e,n,r){return new Gp(t,e,n,r)}function Kp(t,e){return Object(uc.b)(this,void 0,void 0,function(){var n,r,i,o;return Object(uc.d)(this,function(s){switch(s.label){case 0:return n=bc(t),r=n.Ho,i=n.Ic,[4,n.persistence.runTransaction("Handle user change","readonly",function(t){var o;return n.Ho.vi(t).next(function(s){return o=s,r=n.persistence.Wo(e),i=new qp(n.Tc,r,n.persistence.jo()),r.vi(t)}).next(function(e){for(var n=[],r=[],s=cf(),a=0,u=o;a<u.length;a++){var c=u[a];n.push(c.batchId);for(var l=0,h=c.mutations;l<h.length;l++)s=s.add(h[l].key)}for(var f=0,d=e;f<d.length;f++){var p=d[f];r.push(p.batchId);for(var g=0,m=p.mutations;g<m.length;g++)s=s.add(m[g].key)}return i.Zo(t,s).next(function(t){return{mc:t,Ac:n,Rc:r}})})})];case 1:return o=s.sent(),[2,(n.Ho=r,n.Ic=i,n.fc.ac(n.Ic),o)]}})})}function Zp(t,e){var n=bc(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(t){var r=e.batch.keys(),i=n.Tc.Or({Gr:!0});return function(t,e,n,r){var i=n.batch,o=i.keys(),s=id.resolve();return o.forEach(function(t){s=s.next(function(){return r.di(e,t)}).next(function(e){var o=e,s=n.ks.get(t);mc(null!==s),(!o||o.version.u(s)<0)&&(o=i.Cs(t,o,n))&&r.hi(o,n.Os)})}),s.next(function(){return t.Ho.Ni(e,i)})}(n,t,e,i).next(function(){return i.apply(t)}).next(function(){return n.Ho.ki(t)}).next(function(){return n.Ic.Zo(t,r)})})}function Yp(t){var e=bc(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",function(t){return e.wo.Wi(t)})}function Jp(t,e){var n=bc(t),r=e.Mt,i=n.dc;return n.persistence.runTransaction("Apply remote event","readwrite-primary",function(t){var o=n.Tc.Or({Gr:!0});i=n.dc;var s=[];e.Oe.forEach(function(e,o){var a=i.get(o);if(a){s.push(n.wo.rr(t,e.Ke,o).next(function(){return n.wo.sr(t,e.Ue,o)}));var u=e.resumeToken;if(u.o()>0){var c=a.$t(u,r).Lt(t.Ss);i=i.Ht(o,c),function(t,e,n){return mc(e.resumeToken.o()>0),0===t.resumeToken.o()||e.Mt.j()-t.Mt.j()>=3e8||n.Ue.size+n.Qe.size+n.Ke.size>0}(a,c,e)&&s.push(n.wo.Yi(t,c))}}});var a=ef();if(e.Me.forEach(function(r,i){e.Le.has(r)&&s.push(n.persistence.mi.Mr(t,r))}),s.push(Qp(t,o,e.Me,r,void 0).next(function(t){a=t})),!r.isEqual(Hc.min())){var u=n.wo.Wi(t).next(function(e){return n.wo.Gi(t,t.Ss,r)});s.push(u)}return id.$n(s).next(function(){return o.apply(t)}).next(function(){return n.Ic.tc(t,a)})}).then(function(t){return n.dc=i,t})}function Qp(t,e,n,r,i){var o=cf();return n.forEach(function(t){return o=o.add(t)}),e.getEntries(t,o).next(function(t){var o=ef();return n.forEach(function(n,s){var a=t.get(n),u=(null==i?void 0:i.get(n))||r;s instanceof xl&&s.version.isEqual(Hc.min())?(e.fi(n,u),o=o.Ht(n,s)):null==a||s.version.u(a.version)>0||0===s.version.u(a.version)&&a.hasPendingWrites?(e.hi(s,u),o=o.Ht(n,s)):hc("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",s.version)}),o})}function Xp(t,e){var n=bc(t);return n.persistence.runTransaction("Get next mutation batch","readonly",function(t){return void 0===e&&(e=-1),n.Ho.pi(t,e)})}function tg(t,e){var n=bc(t);return n.persistence.runTransaction("Allocate target","readwrite",function(t){var r;return n.wo.nr(t,e).next(function(i){return i?id.resolve(r=i):n.wo.Ui(t).next(function(i){return r=new lh(e,i,0,t.Ss),n.wo.zi(t,r).next(function(){return r})})})}).then(function(t){var r=n.dc.get(t.targetId);return(null===r||t.Mt.u(r.Mt)>0)&&(n.dc=n.dc.Ht(t.targetId,t),n.wc.set(e,t.targetId)),t})}function eg(t,e,n){return Object(uc.b)(this,void 0,void 0,function(){var r,i,o,s;return Object(uc.d)(this,function(a){switch(a.label){case 0:r=bc(t),i=r.dc.get(e),o=n?"readwrite":"readwrite-primary",a.label=1;case 1:return a.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",o,function(t){return r.persistence.mi.removeTarget(t,i)})];case 2:a.sent(),a.label=3;case 3:return[3,5];case 4:if(!cd(s=a.sent()))throw s;return hc("LocalStore","Failed to update sequence numbers for target "+e+": "+s),[3,5];case 5:return r.dc=r.dc.remove(e),r.wc.delete(i.target),[2]}})})}function ng(t,e,n){var r=bc(t),i=Hc.min(),o=cf();return r.persistence.runTransaction("Execute query","readonly",function(t){return function(t,e,n){var r=bc(t),i=r.wc.get(n);return void 0!==i?id.resolve(r.dc.get(i)):r.wo.nr(e,n)}(r,t,nh(e)).next(function(e){if(e)return i=e.lastLimboFreeSnapshotVersion,r.wo.ar(t,e.targetId).next(function(t){o=t})}).next(function(){return r.fc.jr(t,e,n?i:Hc.min(),n?o:cf())}).next(function(t){return{documents:t,Pc:o}})})}function rg(t,e){var n=bc(t),r=bc(n.wo),i=n.dc.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",function(t){return r.Dn(t,e).next(function(t){return t?t.target:null})})}function ig(t){var e=bc(t);return e.persistence.runTransaction("Get new document changes","readonly",function(t){return function(t,e,n){var r=bc(t),i=ef(),o=$d(n),s=Pp(e),a=IDBKeyRange.lowerBound(o,!0);return s.ls({index:Ad.readTimeIndex,range:a},function(t,e){var n=Wd(r.Kt,e);i=i.Ht(n.key,n),o=e.readTime}).next(function(){return{gs:i,readTime:Kd(o)}})}(e.Tc,t,e.Ec)}).then(function(t){var n=t.gs;return e.Ec=t.readTime,n})}function og(t){return Object(uc.b)(this,void 0,void 0,function(){var e;return Object(uc.d)(this,function(n){return[2,(e=bc(t)).persistence.runTransaction("Synchronize last document change read time","readonly",function(t){return function(t){var e=Pp(t),n=Hc.min();return e.ls({index:Ad.readTimeIndex,reverse:!0},function(t,e,r){e.readTime&&(n=Kd(e.readTime)),r.done()}).next(function(){return n})}(t)}).then(function(t){e.Ec=t})]})})}function sg(t,e,n,r){return Object(uc.b)(this,void 0,void 0,function(){var i,o,s,a,u,c,l,h,f,d;return Object(uc.d)(this,function(p){switch(p.label){case 0:for(i=bc(t),o=cf(),s=ef(),a=af(),u=0,c=n;u<c.length;u++)h=e.yc((l=c[u]).metadata.name),l.document&&(o=o.add(h)),s=s.Ht(h,e.gc(l)),a=a.Ht(h,e.Vc(l.metadata.readTime));return f=i.Tc.Or({Gr:!0}),[4,tg(i,function(t){return nh(Zl(qc.ct("__bundle__/docs/"+t)))}(r))];case 1:return d=p.sent(),[2,i.persistence.runTransaction("Apply bundle documents","readwrite",function(t){return Qp(t,f,s,Hc.min(),a).next(function(e){return f.apply(t),e}).next(function(e){return i.wo.Zi(t,d.targetId).next(function(){return i.wo.sr(t,o,d.targetId)}).next(function(){return i.Ic.tc(t,e)})})})]}})})}function ag(t,e,n){return void 0===n&&(n=cf()),Object(uc.b)(this,void 0,void 0,function(){var r,i;return Object(uc.d)(this,function(o){switch(o.label){case 0:return[4,tg(t,nh(tp(e.bundledQuery)))];case 1:return r=o.sent(),[2,(i=bc(t)).persistence.runTransaction("Save named query","readwrite",function(t){var o=Af(e.readTime);if(r.Mt.u(o)>=0)return i.To.qs(t,e);var s=r.$t(Ec.h,o);return i.dc=i.dc.Ht(s.targetId,s),i.wo.Yi(t,s).next(function(){return i.wo.Zi(t,r.targetId)}).next(function(){return i.wo.sr(t,n,r.targetId)}).next(function(){return i.To.qs(t,e)})})]}})})}var ug=function(){function t(t){this.Kt=t,this.bc=new Map,this.vc=new Map}return t.prototype.Ls=function(t,e){return id.resolve(this.bc.get(e))},t.prototype.$s=function(t,e){var n;return this.bc.set(e.id,{id:(n=e).id,version:n.version,createTime:Af(n.createTime)}),id.resolve()},t.prototype.Bs=function(t,e){return id.resolve(this.vc.get(e))},t.prototype.qs=function(t,e){return this.vc.set(e.name,function(t){return{name:t.name,query:tp(t.bundledQuery),readTime:Af(t.readTime)}}(e)),id.resolve()},t}(),cg=function(){function t(){this.Sc=new Qh(lg.Dc),this.Cc=new Qh(lg.xc)}return t.prototype.nt=function(){return this.Sc.nt()},t.prototype.ir=function(t,e){var n=new lg(t,e);this.Sc=this.Sc.add(n),this.Cc=this.Cc.add(n)},t.prototype.Nc=function(t,e){var n=this;t.forEach(function(t){return n.ir(t,e)})},t.prototype.cr=function(t,e){this.Fc(new lg(t,e))},t.prototype.Oc=function(t,e){var n=this;t.forEach(function(t){return n.cr(t,e)})},t.prototype.kc=function(t){var e=this,n=new Gc(new qc([])),r=new lg(n,t),i=new lg(n,t+1),o=[];return this.Cc.Ae([r,i],function(t){e.Fc(t),o.push(t.key)}),o},t.prototype.Mc=function(){var t=this;this.Sc.forEach(function(e){return t.Fc(e)})},t.prototype.Fc=function(t){this.Sc=this.Sc.delete(t),this.Cc=this.Cc.delete(t)},t.prototype.Lc=function(t){var e=new Gc(new qc([])),n=new lg(e,t),r=new lg(e,t+1),i=cf();return this.Cc.Ae([n,r],function(t){i=i.add(t.key)}),i},t.prototype.Mi=function(t){var e=new lg(t,0),n=this.Sc.Pe(e);return null!==n&&t.isEqual(n.key)},t}(),lg=function(){function t(t,e){this.key=t,this.$c=e}return t.Dc=function(t,e){return Gc.J(t.key,e.key)||wc(t.$c,e.$c)},t.xc=function(t,e){return wc(t.$c,e.$c)||Gc.J(t.key,e.key)},t}(),hg=function(){function t(t,e){this.Ii=t,this.mi=e,this.Ho=[],this.Bc=1,this.qc=new Qh(lg.Dc)}return t.prototype.Pi=function(t){return id.resolve(0===this.Ho.length)},t.prototype.yi=function(t,e,n,r){var i=this.Bc;this.Bc++;var o=new zd(i,e,n,r);this.Ho.push(o);for(var s=0,a=r;s<a.length;s++){var u=a[s];this.qc=this.qc.add(new lg(u.key,i)),this.Ii.Qs(t,u.key.path.Z())}return id.resolve(o)},t.prototype.gi=function(t,e){return id.resolve(this.Uc(e))},t.prototype.pi=function(t,e){var n=this.Qc(e+1),r=n<0?0:n;return id.resolve(this.Ho.length>r?this.Ho[r]:null)},t.prototype.bi=function(){return id.resolve(0===this.Ho.length?-1:this.Bc-1)},t.prototype.vi=function(t){return id.resolve(this.Ho.slice())},t.prototype.Si=function(t,e){var n=this,r=new lg(e,0),i=new lg(e,Number.POSITIVE_INFINITY),o=[];return this.qc.Ae([r,i],function(t){var e=n.Uc(t.$c);o.push(e)}),id.resolve(o)},t.prototype.Di=function(t,e){var n=this,r=new Qh(wc);return e.forEach(function(t){var e=new lg(t,0),i=new lg(t,Number.POSITIVE_INFINITY);n.qc.Ae([e,i],function(t){r=r.add(t.$c)})}),id.resolve(this.Kc(r))},t.prototype.xi=function(t,e){var n=e.path,r=n.length+1,i=n;Gc.Et(i)||(i=i.child(""));var o=new lg(new Gc(i),0),s=new Qh(wc);return this.qc.Re(function(t){var e=t.key.path;return!!n.st(e)&&(e.length===r&&(s=s.add(t.$c)),!0)},o),id.resolve(this.Kc(s))},t.prototype.Kc=function(t){var e=this,n=[];return t.forEach(function(t){var r=e.Uc(t);null!==r&&n.push(r)}),n},t.prototype.Ni=function(t,e){var n=this;mc(0===this.Wc(e.batchId,"removed")),this.Ho.shift();var r=this.qc;return id.forEach(e.mutations,function(i){var o=new lg(i.key,e.batchId);return r=r.delete(o),n.mi.Oi(t,i.key)}).next(function(){n.qc=r})},t.prototype.Fi=function(t){},t.prototype.Mi=function(t,e){var n=new lg(e,0),r=this.qc.Pe(n);return id.resolve(e.isEqual(r&&r.key))},t.prototype.ki=function(t){return id.resolve()},t.prototype.Wc=function(t,e){return this.Qc(t)},t.prototype.Qc=function(t){return 0===this.Ho.length?0:t-this.Ho[0].batchId},t.prototype.Uc=function(t){var e=this.Qc(t);return e<0||e>=this.Ho.length?null:this.Ho[e]},t}(),fg=function(){function t(t,e){this.Ii=t,this.jc=e,this.docs=new Zh(Gc.J),this.size=0}return t.prototype.hi=function(t,e,n){var r=e.key,i=this.docs.get(r),o=i?i.size:0,s=this.jc(e);return this.docs=this.docs.Ht(r,{_i:e,size:s,readTime:n}),this.size+=s-o,this.Ii.Qs(t,r.path.Z())},t.prototype.fi=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},t.prototype.di=function(t,e){var n=this.docs.get(e);return id.resolve(n?n._i:null)},t.prototype.getEntries=function(t,e){var n=this,r=nf();return e.forEach(function(t){var e=n.docs.get(t);r=r.Ht(t,e?e._i:null)}),id.resolve(r)},t.prototype.jr=function(t,e,n){for(var r=of(),i=new Gc(e.path.child("")),o=this.docs.ne(i);o.ae();){var s=o.ce(),a=s.value,u=a._i,c=a.readTime;if(!e.path.st(s.key.path))break;c.u(n)<=0||u instanceof Cl&&ah(e,u)&&(r=r.Ht(u.key,u))}return id.resolve(r)},t.prototype.Gc=function(t,e){return id.forEach(this.docs,function(t){return e(t)})},t.prototype.Or=function(t){return new dg(this)},t.prototype.Lr=function(t){return id.resolve(this.size)},t}(),dg=function(t){function e(e){var n=this;return(n=t.call(this)||this).zr=e,n}return Object(uc.c)(e,t),e.prototype.Ti=function(t){var e=this,n=[];return this.ci.forEach(function(r,i){i&&i._i?n.push(e.zr.hi(t,i._i,e.ui(r))):e.zr.fi(r)}),id.$n(n)},e.prototype.wi=function(t,e){return this.zr.di(t,e)},e.prototype.Ei=function(t,e){return this.zr.getEntries(t,e)},e}(fp),pg=function(){function t(t){this.persistence=t,this.zc=new hp(function(t){return kl(t)},Al),this.lastRemoteSnapshotVersion=Hc.min(),this.highestTargetId=0,this.Hc=0,this.Jc=new cg,this.targetCount=0,this.Yc=wp.Bi()}return t.prototype.mn=function(t,e){return this.zc.forEach(function(t,n){return e(n)}),id.resolve()},t.prototype.Wi=function(t){return id.resolve(this.lastRemoteSnapshotVersion)},t.prototype.ji=function(t){return id.resolve(this.Hc)},t.prototype.Ui=function(t){return this.highestTargetId=this.Yc.next(),id.resolve(this.highestTargetId)},t.prototype.Gi=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.Hc&&(this.Hc=e),id.resolve()},t.prototype.Hi=function(t){this.zc.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.Yc=new wp(e),this.highestTargetId=e),t.sequenceNumber>this.Hc&&(this.Hc=t.sequenceNumber)},t.prototype.zi=function(t,e){return this.Hi(e),this.targetCount+=1,id.resolve()},t.prototype.Yi=function(t,e){return this.Hi(e),id.resolve()},t.prototype.Xi=function(t,e){return this.zc.delete(e.target),this.Jc.kc(e.targetId),this.targetCount-=1,id.resolve()},t.prototype.tr=function(t,e,n){var r=this,i=0,o=[];return this.zc.forEach(function(s,a){a.sequenceNumber<=e&&null===n.get(a.targetId)&&(r.zc.delete(s),o.push(r.Zi(t,a.targetId)),i++)}),id.$n(o).next(function(){return i})},t.prototype.er=function(t){return id.resolve(this.targetCount)},t.prototype.nr=function(t,e){var n=this.zc.get(e)||null;return id.resolve(n)},t.prototype.sr=function(t,e,n){return this.Jc.Nc(e,n),id.resolve()},t.prototype.rr=function(t,e,n){this.Jc.Oc(e,n);var r=this.persistence.mi,i=[];return r&&e.forEach(function(e){i.push(r.Oi(t,e))}),id.$n(i)},t.prototype.Zi=function(t,e){return this.Jc.kc(e),id.resolve()},t.prototype.ar=function(t,e){var n=this.Jc.Lc(e);return id.resolve(n)},t.prototype.Mi=function(t,e){return id.resolve(this.Jc.Mi(e))},t}(),gg=function(){function t(t,e){var n=this;this.Xc={},this.ro=new Fc(0),this.oo=!1,this.oo=!0,this.mi=t(this),this.wo=new pg(this),this.Ii=new ip,this.Eo=function(t,e){return new fg(t,function(t){return n.mi.Zc(t)})}(this.Ii),this.Kt=new Bd(e),this.To=new ug(this.Kt)}return t.prototype.start=function(){return Promise.resolve()},t.prototype.$o=function(){return this.oo=!1,Promise.resolve()},Object.defineProperty(t.prototype,"Ir",{get:function(){return this.oo},enumerable:!1,configurable:!0}),t.prototype.Vo=function(){},t.prototype.po=function(){},t.prototype.jo=function(){return this.Ii},t.prototype.Wo=function(t){var e=this.Xc[t.R()];return e||(e=new hg(this.Ii,this.mi),this.Xc[t.R()]=e),e},t.prototype.Cr=function(){return this.wo},t.prototype.kr=function(){return this.Eo},t.prototype.Go=function(){return this.To},t.prototype.runTransaction=function(t,e,n){var r=this;hc("MemoryPersistence","Starting transaction:",t);var i=new mg(this.ro.next());return this.mi.ta(),n(i).next(function(t){return r.mi.ea(i).next(function(){return t})}).Mn().then(function(t){return i.bs(),t})},t.prototype.na=function(t,e){return id.Bn(Object.values(this.Xc).map(function(n){return function(){return n.Mi(t,e)}}))},t}(),mg=function(t){function e(e){var n=this;return(n=t.call(this)||this).Ss=e,n}return Object(uc.c)(e,t),e}(yd),bg=function(){function t(t){this.persistence=t,this.sa=new cg,this.ia=null}return t.ra=function(e){return new t(e)},Object.defineProperty(t.prototype,"oa",{get:function(){if(this.ia)return this.ia;throw gc()},enumerable:!1,configurable:!0}),t.prototype.ir=function(t,e,n){return this.sa.ir(n,e),this.oa.delete(n.toString()),id.resolve()},t.prototype.cr=function(t,e,n){return this.sa.cr(n,e),this.oa.add(n.toString()),id.resolve()},t.prototype.Oi=function(t,e){return this.oa.add(e.toString()),id.resolve()},t.prototype.removeTarget=function(t,e){var n=this;this.sa.kc(e.targetId).forEach(function(t){return n.oa.add(t.toString())});var r=this.persistence.Cr();return r.ar(t,e.targetId).next(function(t){t.forEach(function(t){return n.oa.add(t.toString())})}).next(function(){return r.Xi(t,e)})},t.prototype.ta=function(){this.ia=new Set},t.prototype.ea=function(t){var e=this,n=this.persistence.kr().Or();return id.forEach(this.oa,function(r){var i=Gc.ft(r);return e.ca(t,i).next(function(t){t||n.fi(i)})}).next(function(){return e.ia=null,n.apply(t)})},t.prototype.Mr=function(t,e){var n=this;return this.ca(t,e).next(function(t){t?n.oa.delete(e.toString()):n.oa.add(e.toString())})},t.prototype.Zc=function(t){return 0},t.prototype.ca=function(t,e){var n=this;return id.Bn([function(){return id.resolve(n.sa.Mi(e))},function(){return n.persistence.Cr().Mi(t,e)},function(){return n.persistence.na(t,e)}])},t}();function yg(t,e){return"firestore_clients_"+t+"_"+e}function vg(t,e,n){var r="firestore_mutations_"+t+"_"+n;return e.A()&&(r+="_"+e.uid),r}function wg(t,e){return"firestore_targets_"+t+"_"+e}var _g=function(){function t(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r}return t.aa=function(e,n,r){var i=JSON.parse(r),o="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error),s=void 0;return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(s=new xc(i.error.code,i.error.message)),o?new t(e,n,i.state,s):(fc("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},t.prototype.ua=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),Og=function(){function t(t,e,n){this.targetId=t,this.state=e,this.error=n}return t.aa=function(e,n){var r=JSON.parse(n),i="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error),o=void 0;return i&&r.error&&(i="string"==typeof r.error.message&&"string"==typeof r.error.code)&&(o=new xc(r.error.code,r.error.message)),i?new t(e,r.state,o):(fc("SharedClientState","Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.ua=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),Eg=function(){function t(t,e){this.clientId=t,this.activeTargetIds=e}return t.aa=function(e,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,o=hf(),s=0;i&&s<r.activeTargetIds.length;++s)i=sl(r.activeTargetIds[s]),o=o.add(r.activeTargetIds[s]);return i?new t(e,o):(fc("SharedClientState","Failed to parse client data for instance '"+e+"': "+n),null)},t}(),Cg=function(){function t(t,e){this.clientId=t,this.onlineState=e}return t.aa=function(e){var n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new t(n.clientId,n.onlineState):(fc("SharedClientState","Failed to parse online state: "+e),null)},t}(),xg=function(){function t(){this.activeTargetIds=hf()}return t.prototype.ha=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},t.prototype.la=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},t.prototype.ua=function(){var t={activeTargetIds:this.activeTargetIds.rt(),updateTimeMs:Date.now()};return JSON.stringify(t)},t}(),Sg=function(){function t(t,e,n,r,i){this.window=t,this.no=e,this.persistenceKey=n,this._a=r,this.fa=null,this.da=null,this.L=null,this.wa=this.Ea.bind(this),this.Ta=new Zh(wc),this.Ir=!1,this.Ia=[];var o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.ma=yg(this.persistenceKey,this._a),this.Aa=function(t){return"firestore_sequence_number_"+t}(this.persistenceKey),this.Ta=this.Ta.Ht(this._a,new xg),this.Ra=new RegExp("^firestore_clients_"+o+"_([^_]*)$"),this.Pa=new RegExp("^firestore_mutations_"+o+"_(\\d+)(?:_(.*))?$"),this.ya=new RegExp("^firestore_targets_"+o+"_(\\d+)$"),this.ga=function(t){return"firestore_online_state_"+t}(this.persistenceKey),this.Va=function(t){return"firestore_bundle_loaded_"+t}(this.persistenceKey),this.window.addEventListener("storage",this.wa)}return t.Wn=function(t){return!(!t||!t.localStorage)},t.prototype.start=function(){return Object(uc.b)(this,void 0,void 0,function(){var t,e,n,r,i,o,s,a,u,c,l=this;return Object(uc.d)(this,function(h){switch(h.label){case 0:return[4,this.fa.Ko()];case 1:for(t=h.sent(),e=0,n=t;e<n.length;e++)(r=n[e])!==this._a&&(i=this.getItem(yg(this.persistenceKey,r)))&&(o=Eg.aa(r,i))&&(this.Ta=this.Ta.Ht(o.clientId,o));for(this.pa(),(s=this.storage.getItem(this.ga))&&(a=this.ba(s))&&this.va(a),u=0,c=this.Ia;u<c.length;u++)this.Ea(c[u]);return this.Ia=[],this.window.addEventListener("unload",function(){return l.$o()}),this.Ir=!0,[2]}})})},t.prototype.q=function(t){this.setItem(this.Aa,JSON.stringify(t))},t.prototype.Sa=function(){return this.Da(this.Ta)},t.prototype.Ca=function(t){var e=!1;return this.Ta.forEach(function(n,r){r.activeTargetIds.has(t)&&(e=!0)}),e},t.prototype.xa=function(t){this.Na(t,"pending")},t.prototype.Fa=function(t,e,n){this.Na(t,e,n),this.Oa(t)},t.prototype.ka=function(t){var e="not-current";if(this.Ca(t)){var n=this.storage.getItem(wg(this.persistenceKey,t));if(n){var r=Og.aa(t,n);r&&(e=r.state)}}return this.Ma.ha(t),this.pa(),e},t.prototype.La=function(t){this.Ma.la(t),this.pa()},t.prototype.$a=function(t){return this.Ma.activeTargetIds.has(t)},t.prototype.Ba=function(t){this.removeItem(wg(this.persistenceKey,t))},t.prototype.qa=function(t,e,n){this.Ua(t,e,n)},t.prototype.Qa=function(t,e,n){var r=this;e.forEach(function(t){r.Oa(t)}),this.currentUser=t,n.forEach(function(t){r.xa(t)})},t.prototype.Ka=function(t){this.Wa(t)},t.prototype.ja=function(){this.Ga()},t.prototype.$o=function(){this.Ir&&(this.window.removeEventListener("storage",this.wa),this.removeItem(this.ma),this.Ir=!1)},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return hc("SharedClientState","READ",t,e),e},t.prototype.setItem=function(t,e){hc("SharedClientState","SET",t,e),this.storage.setItem(t,e)},t.prototype.removeItem=function(t){hc("SharedClientState","REMOVE",t),this.storage.removeItem(t)},t.prototype.Ea=function(t){var e=this,n=t;if(n.storageArea===this.storage){if(hc("SharedClientState","EVENT",n.key,n.newValue),n.key===this.ma)return void fc("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.no.vo(function(){return Object(uc.b)(e,void 0,void 0,function(){var t,e,r,i,o,s;return Object(uc.d)(this,function(a){if(this.Ir){if(null!==n.key)if(this.Ra.test(n.key)){if(null==n.newValue)return t=this.za(n.key),[2,this.Ha(t,null)];if(e=this.Ja(n.key,n.newValue))return[2,this.Ha(e.clientId,e)]}else if(this.Pa.test(n.key)){if(null!==n.newValue&&(r=this.Ya(n.key,n.newValue)))return[2,this.Xa(r)]}else if(this.ya.test(n.key)){if(null!==n.newValue&&(i=this.Za(n.key,n.newValue)))return[2,this.tu(i)]}else if(n.key===this.ga){if(null!==n.newValue&&(o=this.ba(n.newValue)))return[2,this.va(o)]}else if(n.key===this.Aa)(s=function(t){var e=Fc.U;if(null!=t)try{var n=JSON.parse(t);mc("number"==typeof n),e=n}catch(t){fc("SharedClientState","Failed to read sequence number from WebStorage",t)}return e}(n.newValue))!==Fc.U&&this.L(s);else if(n.key===this.Va)return[2,this.fa.eu()]}else this.Ia.push(n);return[2]})})})}},Object.defineProperty(t.prototype,"Ma",{get:function(){return this.Ta.get(this._a)},enumerable:!1,configurable:!0}),t.prototype.pa=function(){this.setItem(this.ma,this.Ma.ua())},t.prototype.Na=function(t,e,n){var r=new _g(this.currentUser,t,e,n),i=vg(this.persistenceKey,this.currentUser,t);this.setItem(i,r.ua())},t.prototype.Oa=function(t){var e=vg(this.persistenceKey,this.currentUser,t);this.removeItem(e)},t.prototype.Wa=function(t){this.storage.setItem(this.ga,JSON.stringify({clientId:this._a,onlineState:t}))},t.prototype.Ua=function(t,e,n){var r=wg(this.persistenceKey,t),i=new Og(t,e,n);this.setItem(r,i.ua())},t.prototype.Ga=function(){this.setItem(this.Va,"value-not-used")},t.prototype.za=function(t){var e=this.Ra.exec(t);return e?e[1]:null},t.prototype.Ja=function(t,e){var n=this.za(t);return Eg.aa(n,e)},t.prototype.Ya=function(t,e){var n=this.Pa.exec(t),r=Number(n[1]);return _g.aa(new Nc(void 0!==n[2]?n[2]:null),r,e)},t.prototype.Za=function(t,e){var n=this.ya.exec(t),r=Number(n[1]);return Og.aa(r,e)},t.prototype.ba=function(t){return Cg.aa(t)},t.prototype.Xa=function(t){return Object(uc.b)(this,void 0,void 0,function(){return Object(uc.d)(this,function(e){return t.user.uid===this.currentUser.uid?[2,this.fa.nu(t.batchId,t.state,t.error)]:(hc("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])})})},t.prototype.tu=function(t){return this.fa.su(t.targetId,t.state,t.error)},t.prototype.Ha=function(t,e){var n=this,r=e?this.Ta.Ht(t,e):this.Ta.remove(t),i=this.Da(this.Ta),o=this.Da(r),s=[],a=[];return o.forEach(function(t){i.has(t)||s.push(t)}),i.forEach(function(t){o.has(t)||a.push(t)}),this.fa.iu(s,a).then(function(){n.Ta=r})},t.prototype.va=function(t){this.Ta.get(t.clientId)&&this.da(t.onlineState)},t.prototype.Da=function(t){var e=hf();return t.forEach(function(t,n){e=e.ye(n.activeTargetIds)}),e},t}(),Tg=function(){function t(){this.ru=new xg,this.ou={},this.da=null,this.L=null}return t.prototype.xa=function(t){},t.prototype.Fa=function(t,e,n){},t.prototype.ka=function(t){return this.ru.ha(t),this.ou[t]||"not-current"},t.prototype.qa=function(t,e,n){this.ou[t]=e},t.prototype.La=function(t){this.ru.la(t)},t.prototype.$a=function(t){return this.ru.activeTargetIds.has(t)},t.prototype.Ba=function(t){delete this.ou[t]},t.prototype.Sa=function(){return this.ru.activeTargetIds},t.prototype.Ca=function(t){return this.ru.activeTargetIds.has(t)},t.prototype.start=function(){return this.ru=new xg,Promise.resolve()},t.prototype.Qa=function(t,e,n){},t.prototype.Ka=function(t){},t.prototype.$o=function(){},t.prototype.q=function(t){},t.prototype.ja=function(){},t}(),Ig=function(){function t(){}return t.prototype.cu=function(t){},t.prototype.$o=function(){},t}(),kg=function(){function t(){var t=this;this.au=function(){return t.uu()},this.hu=function(){return t.lu()},this._u=[],this.fu()}return t.prototype.cu=function(t){this._u.push(t)},t.prototype.$o=function(){window.removeEventListener("online",this.au),window.removeEventListener("offline",this.hu)},t.prototype.fu=function(){window.addEventListener("online",this.au),window.addEventListener("offline",this.hu)},t.prototype.uu=function(){hc("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this._u;t<e.length;t++)(0,e[t])(0)},t.prototype.lu=function(){hc("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this._u;t<e.length;t++)(0,e[t])(1)},t.Wn=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},t}(),Ag={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},Dg=function(){function t(t){this.du=t.du,this.wu=t.wu}return t.prototype.Eu=function(t){this.Tu=t},t.prototype.Iu=function(t){this.mu=t},t.prototype.onMessage=function(t){this.Au=t},t.prototype.close=function(){this.wu()},t.prototype.send=function(t){this.du(t)},t.prototype.Ru=function(){this.Tu()},t.prototype.Pu=function(t){this.mu(t)},t.prototype.yu=function(t){this.Au(t)},t}(),jg=function(t){function e(e){var n=this;return(n=t.call(this,e)||this).forceLongPolling=e.forceLongPolling,n.I=e.I,n}return Object(uc.c)(e,t),e.prototype.Du=function(t,e,n,r){return new Promise(function(i,o){var s=new ac;s.listenOnce(ic.COMPLETE,function(){try{switch(s.getLastErrorCode()){case rc.NO_ERROR:var e=s.getResponseJson();hc("Connection","XHR received:",JSON.stringify(e)),i(e);break;case rc.TIMEOUT:hc("Connection",'RPC "'+t+'" timed out'),o(new xc(Cc.DEADLINE_EXCEEDED,"Request time out"));break;case rc.HTTP_ERROR:var n=s.getStatus();if(hc("Connection",'RPC "'+t+'" failed with status:',n,"response text:",s.getResponseText()),n>0){var r=s.getResponseJson().error;if(r&&r.status&&r.message){var a=function(t){var e=t.toLowerCase().replace(/_/g,"-");return Object.values(Cc).indexOf(e)>=0?e:Cc.UNKNOWN}(r.status);o(new xc(a,r.message))}else o(new xc(Cc.UNKNOWN,"Server responded with status "+s.getStatus()))}else o(new xc(Cc.UNAVAILABLE,"Connection failed."));break;default:gc()}}finally{hc("Connection",'RPC "'+t+'" completed.')}});var a=JSON.stringify(r);s.send(e,"POST",a,n,15)})},e.prototype.xu=function(t,e){var n=[this.Vu,"/","google.firestore.v1.Firestore","/",t,"/channel"],r=new Qu,i=ea(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.T.projectId+"/databases/"+this.T.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.I};this.Su(o.initMessageHeaders,e),Object(oo.l)()||Object(oo.n)()||Object(oo.j)()||Object(oo.k)()||Object(oo.o)()||Object(oo.i)()||(o.httpHeadersOverwriteParam="$httpHeaders");var s=n.join("");hc("Connection","Creating WebChannel: "+s,o);var a=r.createWebChannel(s,o),u=!1,c=!1,l=new Dg({du:function(t){c?hc("Connection","Not sending because WebChannel is closed:",t):(u||(hc("Connection","Opening WebChannel transport."),a.open(),u=!0),hc("Connection","WebChannel sending:",t),a.send(t))},wu:function(){return a.close()}}),h=function(t,e,n){t.listen(e,function(t){try{n(t)}catch(t){setTimeout(function(){throw t},0)}})};return h(a,sc.EventType.OPEN,function(){c||hc("Connection","WebChannel transport opened.")}),h(a,sc.EventType.CLOSE,function(){c||(c=!0,hc("Connection","WebChannel transport closed"),l.Pu())}),h(a,sc.EventType.ERROR,function(t){c||(c=!0,dc("Connection","WebChannel transport errored:",t),l.Pu(new xc(Cc.UNAVAILABLE,"The operation could not be completed")))}),h(a,sc.EventType.MESSAGE,function(t){var e;if(!c){var n=t.data[0];mc(!!n);var r=n.error||(null===(e=n[0])||void 0===e?void 0:e.error);if(r){hc("Connection","WebChannel received error:",r);var i=r.status,o=function(t){var e=zh[t];if(void 0!==e)return Kh(e)}(i),s=r.message;void 0===o&&(o=Cc.INTERNAL,s="Unknown error status: "+i+" with message "+r.message),c=!0,l.Pu(new xc(o,s)),a.close()}else hc("Connection","WebChannel received:",n),l.yu(n)}}),h(i,oc.STAT_EVENT,function(t){10===t.stat?hc("Connection","Detected buffering proxy"):11===t.stat&&hc("Connection","Detected no buffering proxy")}),setTimeout(function(){l.Ru()},0),l},e}(function(){function t(t){this.gu=t,this.T=t.T,this.Vu=(t.ssl?"https":"http")+"://"+t.host,this.pu="projects/"+this.T.projectId+"/databases/"+this.T.database+"/documents"}return t.prototype.bu=function(t,e,n,r){var i=this.vu(t,e);hc("RestConnection","Sending: ",i,n);var o={};return this.Su(o,r),this.Du(t,i,o,n).then(function(t){return hc("RestConnection","Received: ",t),t},function(e){throw dc("RestConnection",t+" failed with error: ",e,"url: ",i,"request:",n),e})},t.prototype.Cu=function(t,e,n,r){return this.bu(t,e,n,r)},t.prototype.Su=function(t,e){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.2.1",t["Content-Type"]="text/plain",e)for(var n in e.V)e.V.hasOwnProperty(n)&&(t[n]=e.V[n])},t.prototype.vu=function(t,e){return this.Vu+"/v1/"+e+":"+Ag[t]},t}());function Ng(){return"undefined"!=typeof window?window:null}function Pg(){return"undefined"!=typeof document?document:null}function Rg(t){return new Sf(t,!0)}var Mg=function(){function t(t,e,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.no=t,this.ds=e,this.Nu=n,this.Fu=r,this.Ou=i,this.ku=0,this.Mu=null,this.Lu=Date.now(),this.reset()}return t.prototype.reset=function(){this.ku=0},t.prototype.$u=function(){this.ku=this.Ou},t.prototype.Bu=function(t){var e=this;this.cancel();var n=Math.floor(this.ku+this.qu()),r=Math.max(0,Date.now()-this.Lu),i=Math.max(0,n-r);i>0&&hc("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.ku+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.Mu=this.no.mr(this.ds,i,function(){return e.Lu=Date.now(),t()}),this.ku*=this.Fu,this.ku<this.Nu&&(this.ku=this.Nu),this.ku>this.Ou&&(this.ku=this.Ou)},t.prototype.Uu=function(){null!==this.Mu&&(this.Mu.Ps(),this.Mu=null)},t.prototype.cancel=function(){null!==this.Mu&&(this.Mu.cancel(),this.Mu=null)},t.prototype.qu=function(){return(Math.random()-.5)*this.ku},t}(),Vg=function(){function t(t,e,n,r,i,o){this.no=t,this.Qu=n,this.Ku=r,this.Wu=i,this.listener=o,this.state=0,this.ju=0,this.Gu=null,this.stream=null,this.zu=new Mg(t,e)}return t.prototype.Hu=function(){return 1===this.state||2===this.state||4===this.state},t.prototype.Ju=function(){return 2===this.state},t.prototype.start=function(){3!==this.state?this.auth():this.Yu()},t.prototype.stop=function(){return Object(uc.b)(this,void 0,void 0,function(){return Object(uc.d)(this,function(t){switch(t.label){case 0:return this.Hu()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},t.prototype.Xu=function(){this.state=0,this.zu.reset()},t.prototype.Zu=function(){var t=this;this.Ju()&&null===this.Gu&&(this.Gu=this.no.mr(this.Qu,6e4,function(){return t.th()}))},t.prototype.eh=function(t){this.nh(),this.stream.send(t)},t.prototype.th=function(){return Object(uc.b)(this,void 0,void 0,function(){return Object(uc.d)(this,function(t){return this.Ju()?[2,this.close(0)]:[2]})})},t.prototype.nh=function(){this.Gu&&(this.Gu.cancel(),this.Gu=null)},t.prototype.close=function(t,e){return Object(uc.b)(this,void 0,void 0,function(){return Object(uc.d)(this,function(n){switch(n.label){case 0:return this.nh(),this.zu.cancel(),this.ju++,3!==t?this.zu.reset():e&&e.code===Cc.RESOURCE_EXHAUSTED?(fc(e.toString()),fc("Using maximum backoff delay to prevent overloading the backend."),this.zu.$u()):e&&e.code===Cc.UNAUTHENTICATED&&this.Wu.v(),null!==this.stream&&(this.sh(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Iu(e)];case 1:return n.sent(),[2]}})})},t.prototype.sh=function(){},t.prototype.auth=function(){var t=this;this.state=1;var e=this.ih(this.ju),n=this.ju;this.Wu.getToken().then(function(e){t.ju===n&&t.rh(e)},function(n){e(function(){var e=new xc(Cc.UNKNOWN,"Fetching auth token failed: "+n.message);return t.oh(e)})})},t.prototype.rh=function(t){var e=this,n=this.ih(this.ju);this.stream=this.ah(t),this.stream.Eu(function(){n(function(){return e.state=2,e.listener.Eu()})}),this.stream.Iu(function(t){n(function(){return e.oh(t)})}),this.stream.onMessage(function(t){n(function(){return e.onMessage(t)})})},t.prototype.Yu=function(){var t=this;this.state=4,this.zu.Bu(function(){return Object(uc.b)(t,void 0,void 0,function(){return Object(uc.d)(this,function(t){return this.state=0,this.start(),[2]})})})},t.prototype.oh=function(t){return hc("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},t.prototype.ih=function(t){var e=this;return function(n){e.no.ys(function(){return e.ju===t?n():(hc("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},t}(),Lg=function(t){function e(e,n,r,i,o){var s=this;return(s=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle",n,r,o)||this).Kt=i,s}return Object(uc.c)(e,t),e.prototype.ah=function(t){return this.Ku.xu("Listen",t)},e.prototype.onMessage=function(t){this.zu.reset();var e=function(t,e){var n;if("targetChange"in e){var r=function(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:gc()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(t,e){return t.qt?(mc(void 0===e||"string"==typeof e),Ec.fromBase64String(e||"")):(mc(void 0===e||e instanceof Uint8Array),Ec.fromUint8Array(e||new Uint8Array))}(t,e.targetChange.resumeToken),s=(a=e.targetChange.cause)&&function(t){var e=void 0===t.code?Cc.UNKNOWN:Kh(t.code);return new xc(e,t.message||"")}(a);n=new vf(r,i,o,s||null)}else if("documentChange"in e){i=Pf(t,(r=e.documentChange).document.name),o=Af(r.document.updateTime);var a=new wl({mapValue:{fields:r.document.fields}}),u=(s=new Cl(i,o,a,{}),r.targetIds||[]);n=new bf(u,r.removedTargetIds||[],s.key,s)}else if("documentDelete"in e)i=Pf(t,(r=e.documentDelete).document),o=r.readTime?Af(r.readTime):Hc.min(),a=new xl(i,o),n=new bf([],s=r.removedTargetIds||[],a.key,a);else if("documentRemove"in e)i=Pf(t,(r=e.documentRemove).document),n=new bf([],o=r.removedTargetIds||[],i,null);else{if(!("filter"in e))return gc();var c=e.filter;i=new Gh(r=c.count||0),n=new yf(o=c.targetId,i)}return n}(this.Kt,t),n=function(t){if(!("targetChange"in t))return Hc.min();var e=t.targetChange;return e.targetIds&&e.targetIds.length?Hc.min():e.readTime?Af(e.readTime):Hc.min()}(t);return this.listener.uh(e,n)},e.prototype.hh=function(t){var e={};e.database=Vf(this.Kt),e.addTarget=function(t,e){var n,r=e.target;return(n=Dl(r)?{documents:qf(t,r)}:{query:Bf(t,r)}).targetId=e.targetId,e.resumeToken.o()>0?n.resumeToken=If(t,e.resumeToken):e.Mt.u(Hc.min())>0&&(n.readTime=Tf(t,e.Mt.G())),n}(this.Kt,t);var n=function(t,e){var n=function(t,e){switch(e){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return gc()}}(0,e.kt);return null==n?null:{"goog-listen-tags":n}}(0,t);n&&(e.labels=n),this.eh(e)},e.prototype.lh=function(t){var e={};e.database=Vf(this.Kt),e.removeTarget=t,this.eh(e)},e}(Vg),Fg=function(t){function e(e,n,r,i,o){var s=this;return(s=t.call(this,e,"write_stream_connection_backoff","write_stream_idle",n,r,o)||this).Kt=i,s._h=!1,s}return Object(uc.c)(e,t),Object.defineProperty(e.prototype,"fh",{get:function(){return this._h},enumerable:!1,configurable:!0}),e.prototype.start=function(){this._h=!1,this.lastStreamToken=void 0,t.prototype.start.call(this)},e.prototype.sh=function(){this._h&&this.dh([])},e.prototype.ah=function(t){return this.Ku.xu("Write",t)},e.prototype.onMessage=function(t){if(mc(!!t.streamToken),this.lastStreamToken=t.streamToken,this._h){this.zu.reset();var e=function(t,e){return t&&t.length>0?(mc(void 0!==e),t.map(function(t){return function(t,e){var n=Af(t.updateTime?t.updateTime:e);n.isEqual(Hc.min())&&(n=Af(e));var r=null;return t.transformResults&&t.transformResults.length>0&&(r=t.transformResults),new Th(n,r)}(t,e)})):[]}(t.writeResults,t.commitTime),n=Af(t.commitTime);return this.listener.wh(n,e)}return mc(!t.writeResults||0===t.writeResults.length),this._h=!0,this.listener.Eh()},e.prototype.Th=function(){var t={};t.database=Vf(this.Kt),this.eh(t)},e.prototype.dh=function(t){var e=this,n={streamToken:this.lastStreamToken,writes:t.map(function(t){return Hf(e.Kt,t)})};this.eh(n)},e}(Vg),Ug=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).credentials=e,i.Ku=n,i.Kt=r,i.Ih=!1,i}return Object(uc.c)(e,t),e.prototype.mh=function(){if(this.Ih)throw new xc(Cc.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.bu=function(t,e,n){var r=this;return this.mh(),this.credentials.getToken().then(function(i){return r.Ku.bu(t,e,n,i)}).catch(function(t){throw t.code===Cc.UNAUTHENTICATED&&r.credentials.v(),t})},e.prototype.Cu=function(t,e,n){var r=this;return this.mh(),this.credentials.getToken().then(function(i){return r.Ku.Cu(t,e,n,i)}).catch(function(t){throw t.code===Cc.UNAUTHENTICATED&&r.credentials.v(),t})},e.prototype.terminate=function(){this.Ih=!1},e}(function(){}),Hg=function(){function t(t,e){this.fs=t,this.da=e,this.state="Unknown",this.Ah=0,this.Rh=null,this.Ph=!0}return t.prototype.yh=function(){var t=this;0===this.Ah&&(this.gh("Unknown"),this.Rh=this.fs.mr("online_state_timeout",1e4,function(){return t.Rh=null,t.Vh("Backend didn't respond within 10 seconds."),t.gh("Offline"),Promise.resolve()}))},t.prototype.ph=function(t){"Online"===this.state?this.gh("Unknown"):(this.Ah++,this.Ah>=1&&(this.bh(),this.Vh("Connection failed 1 times. Most recent error: "+t.toString()),this.gh("Offline")))},t.prototype.set=function(t){this.bh(),this.Ah=0,"Online"===t&&(this.Ph=!1),this.gh(t)},t.prototype.gh=function(t){t!==this.state&&(this.state=t,this.da(t))},t.prototype.Vh=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Ph?(fc(e),this.Ph=!1):hc("OnlineStateTracker",e)},t.prototype.bh=function(){null!==this.Rh&&(this.Rh.cancel(),this.Rh=null)},t}(),zg=function(t,e,n,r,i){var o=this;this.Sh=t,this.Dh=e,this.fs=n,this.Ch={},this.xh=[],this.Nh=new Map,this.Fh=new Set,this.Oh=[],this.kh=i,this.kh.cu(function(t){n.ys(function(){return Object(uc.b)(o,void 0,void 0,function(){return Object(uc.d)(this,function(t){switch(t.label){case 0:return Jg(this)?(hc("RemoteStore","Restarting streams for network reachability change."),[4,function(t){return Object(uc.b)(this,void 0,void 0,function(){var e;return Object(uc.d)(this,function(n){switch(n.label){case 0:return(e=bc(t)).Fh.add(4),[4,Bg(e)];case 1:return n.sent(),e.Mh.set("Unknown"),e.Fh.delete(4),[4,qg(e)];case 2:return n.sent(),[2]}})})}(this)]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})})}),this.Mh=new Hg(n,r)};function qg(t){return Object(uc.b)(this,void 0,void 0,function(){var e,n;return Object(uc.d)(this,function(r){switch(r.label){case 0:if(!Jg(t))return[3,4];e=0,n=t.Oh,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function Bg(t){return Object(uc.b)(this,void 0,void 0,function(){var e,n;return Object(uc.d)(this,function(r){switch(r.label){case 0:e=0,n=t.Oh,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function Wg(t,e){var n=bc(t);n.Nh.has(e.targetId)||(n.Nh.set(e.targetId,e),Yg(n)?Zg(n):fm(n).Ju()&&$g(n,e))}function Gg(t,e){var n=bc(t),r=fm(n);n.Nh.delete(e),r.Ju()&&Kg(n,e),0===n.Nh.size&&(r.Ju()?r.Zu():Jg(n)&&n.Mh.set("Unknown"))}function $g(t,e){t.Lh.cn(e.targetId),fm(t).hh(e)}function Kg(t,e){t.Lh.cn(e),fm(t).lh(e)}function Zg(t){t.Lh=new _f({Sn:function(e){return t.Ch.Sn(e)},Dn:function(e){return t.Nh.get(e)||null}}),fm(t).start(),t.Mh.yh()}function Yg(t){return Jg(t)&&!fm(t).Hu()&&t.Nh.size>0}function Jg(t){return 0===bc(t).Fh.size}function Qg(t){t.Lh=void 0}function Xg(t){return Object(uc.b)(this,void 0,void 0,function(){return Object(uc.d)(this,function(e){return t.Nh.forEach(function(e,n){$g(t,e)}),[2]})})}function tm(t,e){return Object(uc.b)(this,void 0,void 0,function(){return Object(uc.d)(this,function(n){return Qg(t),Yg(t)?(t.Mh.ph(e),Zg(t)):t.Mh.set("Unknown"),[2]})})}function em(t,e,n){return Object(uc.b)(this,void 0,void 0,function(){var r,i,o;return Object(uc.d)(this,function(s){switch(s.label){case 0:if(t.Mh.set("Online"),!(e instanceof vf&&2===e.state&&e.cause))return[3,6];s.label=1;case 1:return s.trys.push([1,3,,5]),[4,function(t,e){return Object(uc.b)(this,void 0,void 0,function(){var n,r,i,o;return Object(uc.d)(this,function(s){switch(s.label){case 0:n=e.cause,r=0,i=e.targetIds,s.label=1;case 1:return r<i.length?t.Nh.has(o=i[r])?[4,t.Ch.$h(o,n)]:[3,3]:[3,5];case 2:s.sent(),t.Nh.delete(o),t.Lh.removeTarget(o),s.label=3;case 3:s.label=4;case 4:return r++,[3,1];case 5:return[2]}})})}(t,e)];case 2:return s.sent(),[3,5];case 3:return r=s.sent(),hc("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),[4,nm(t,r)];case 4:return s.sent(),[3,5];case 5:return[3,13];case 6:if(e instanceof bf?t.Lh.wn(e):e instanceof yf?t.Lh.yn(e):t.Lh.In(e),n.isEqual(Hc.min()))return[3,13];s.label=7;case 7:return s.trys.push([7,11,,13]),[4,Yp(t.Sh)];case 8:return i=s.sent(),n.u(i)>=0?[4,function(t,e){var n=t.Lh.pn(e);return n.Oe.forEach(function(n,r){if(n.resumeToken.o()>0){var i=t.Nh.get(r);i&&t.Nh.set(r,i.$t(n.resumeToken,e))}}),n.ke.forEach(function(e){var n=t.Nh.get(e);if(n){t.Nh.set(e,n.$t(Ec.h,n.Mt)),Kg(t,e);var r=new lh(n.target,e,1,n.sequenceNumber);$g(t,r)}}),t.Ch.Bh(n)}(t,n)]:[3,10];case 9:s.sent(),s.label=10;case 10:return[3,13];case 11:return hc("RemoteStore","Failed to raise snapshot:",o=s.sent()),[4,nm(t,o)];case 12:return s.sent(),[3,13];case 13:return[2]}})})}function nm(t,e,n){return Object(uc.b)(this,void 0,void 0,function(){var r=this;return Object(uc.d)(this,function(i){switch(i.label){case 0:if(!cd(e))throw e;return t.Fh.add(1),[4,Bg(t)];case 1:return i.sent(),t.Mh.set("Offline"),n||(n=function(){return Yp(t.Sh)}),t.fs.vo(function(){return Object(uc.b)(r,void 0,void 0,function(){return Object(uc.d)(this,function(e){switch(e.label){case 0:return hc("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return e.sent(),t.Fh.delete(1),[4,qg(t)];case 2:return e.sent(),[2]}})})}),[2]}})})}function rm(t,e){return e().catch(function(n){return nm(t,n,e)})}function im(t){return Object(uc.b)(this,void 0,void 0,function(){var e,n,r,i,o;return Object(uc.d)(this,function(s){switch(s.label){case 0:e=bc(t),n=dm(e),r=e.xh.length>0?e.xh[e.xh.length-1].batchId:-1,s.label=1;case 1:if(!function(t){return Jg(t)&&t.xh.length<10}(e))return[3,7];s.label=2;case 2:return s.trys.push([2,4,,6]),[4,Xp(e.Sh,r)];case 3:return null===(i=s.sent())?(0===e.xh.length&&n.Zu(),[3,7]):(r=i.batchId,function(t,e){t.xh.push(e);var n=dm(t);n.Ju()&&n.fh&&n.dh(e.mutations)}(e,i),[3,6]);case 4:return o=s.sent(),[4,nm(e,o)];case 5:return s.sent(),[3,6];case 6:return[3,1];case 7:return om(e)&&sm(e),[2]}})})}function om(t){return Jg(t)&&!dm(t).Hu()&&t.xh.length>0}function sm(t){dm(t).start()}function am(t){return Object(uc.b)(this,void 0,void 0,function(){return Object(uc.d)(this,function(e){return dm(t).Th(),[2]})})}function um(t){return Object(uc.b)(this,void 0,void 0,function(){var e,n,r;return Object(uc.d)(this,function(i){for(e=dm(t),n=0,r=t.xh;n<r.length;n++)e.dh(r[n].mutations);return[2]})})}function cm(t,e,n){return Object(uc.b)(this,void 0,void 0,function(){var r,i;return Object(uc.d)(this,function(o){switch(o.label){case 0:return r=t.xh.shift(),i=qd.from(r,e,n),[4,rm(t,function(){return t.Ch.qh(i)})];case 1:return o.sent(),[4,im(t)];case 2:return o.sent(),[2]}})})}function lm(t,e){return Object(uc.b)(this,void 0,void 0,function(){return Object(uc.d)(this,function(n){switch(n.label){case 0:return e&&dm(t).fh?[4,function(t,e){return Object(uc.b)(this,void 0,void 0,function(){var n,r;return Object(uc.d)(this,function(i){switch(i.label){case 0:return $h(r=e.code)&&r!==Cc.ABORTED?(n=t.xh.shift(),dm(t).Xu(),[4,rm(t,function(){return t.Ch.Uh(n.batchId,e)})]):[3,3];case 1:return i.sent(),[4,im(t)];case 2:i.sent(),i.label=3;case 3:return[2]}})})}(t,e)]:[3,2];case 1:n.sent(),n.label=2;case 2:return om(t)&&sm(t),[2]}})})}function hm(t,e){return Object(uc.b)(this,void 0,void 0,function(){var n;return Object(uc.d)(this,function(r){switch(r.label){case 0:return n=bc(t),e?(n.Fh.delete(2),[4,qg(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return e?[3,4]:(n.Fh.add(2),[4,Bg(n)]);case 3:r.sent(),n.Mh.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}})})}function fm(t){var e=this;return t.Qh||(t.Qh=function(t,e,n){var r=bc(t);return r.mh(),new Lg(e,r.Ku,r.credentials,r.Kt,n)}(t.Dh,t.fs,{Eu:Xg.bind(null,t),Iu:tm.bind(null,t),uh:em.bind(null,t)}),t.Oh.push(function(n){return Object(uc.b)(e,void 0,void 0,function(){return Object(uc.d)(this,function(e){switch(e.label){case 0:return n?(t.Qh.Xu(),Yg(t)?Zg(t):t.Mh.set("Unknown"),[3,3]):[3,1];case 1:return[4,t.Qh.stop()];case 2:e.sent(),Qg(t),e.label=3;case 3:return[2]}})})})),t.Qh}function dm(t){var e=this;return t.Kh||(t.Kh=function(t,e,n){var r=bc(t);return r.mh(),new Fg(e,r.Ku,r.credentials,r.Kt,n)}(t.Dh,t.fs,{Eu:am.bind(null,t),Iu:lm.bind(null,t),Eh:um.bind(null,t),wh:cm.bind(null,t)}),t.Oh.push(function(n){return Object(uc.b)(e,void 0,void 0,function(){return Object(uc.d)(this,function(e){switch(e.label){case 0:return n?(t.Kh.Xu(),[4,im(t)]):[3,2];case 1:return e.sent(),[3,4];case 2:return[4,t.Kh.stop()];case 3:e.sent(),t.xh.length>0&&(hc("RemoteStore","Stopping write stream with "+t.xh.length+" pending writes"),t.xh=[]),e.label=4;case 4:return[2]}})})})),t.Kh}var pm=function(){this.Wh=void 0,this.listeners=[]},gm=function(){this.queries=new hp(function(t){return oh(t)},ih),this.onlineState="Unknown",this.jh=new Set};function mm(t,e){return Object(uc.b)(this,void 0,void 0,function(){var n,r,i,o,s,a,u;return Object(uc.d)(this,function(c){switch(c.label){case 0:if(n=bc(t),i=!1,(o=n.queries.get(r=e.query))||(i=!0,o=new pm),!i)return[3,4];c.label=1;case 1:return c.trys.push([1,3,,4]),s=o,[4,n.Gh(r)];case 2:return s.Wh=c.sent(),[3,4];case 3:return a=c.sent(),u=gd(a,"Initialization of query '"+sh(e.query)+"' failed"),[2,void e.onError(u)];case 4:return n.queries.set(r,o),o.listeners.push(e),e.zh(n.onlineState),o.Wh&&e.Hh(o.Wh)&&wm(n),[2]}})})}function bm(t,e){return Object(uc.b)(this,void 0,void 0,function(){var n,r,i,o,s;return Object(uc.d)(this,function(a){return n=bc(t),i=!1,(o=n.queries.get(r=e.query))&&(s=o.listeners.indexOf(e))>=0&&(o.listeners.splice(s,1),i=0===o.listeners.length),i?[2,(n.queries.delete(r),n.Jh(r))]:[2]})})}function ym(t,e){for(var n=bc(t),r=!1,i=0,o=e;i<o.length;i++){var s=o[i],a=n.queries.get(s.query);if(a){for(var u=0,c=a.listeners;u<c.length;u++)c[u].Hh(s)&&(r=!0);a.Wh=s}}r&&wm(n)}function vm(t,e,n){var r=bc(t),i=r.queries.get(e);if(i)for(var o=0,s=i.listeners;o<s.length;o++)s[o].onError(n);r.queries.delete(e)}function wm(t){t.jh.forEach(function(t){t.next()})}var _m=function(){function t(t,e,n){this.query=t,this.Yh=e,this.Xh=!1,this.Zh=null,this.onlineState="Unknown",this.options=n||{}}return t.prototype.Hh=function(t){if(!this.options.includeMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&e.push(i)}t=new pf(t.query,t.docs,t.De,e,t.Ce,t.fromCache,t.xe,!0)}var o=!1;return this.Xh?this.tl(t)&&(this.Yh.next(t),o=!0):this.el(t,this.onlineState)&&(this.nl(t),o=!0),this.Zh=t,o},t.prototype.onError=function(t){this.Yh.error(t)},t.prototype.zh=function(t){this.onlineState=t;var e=!1;return this.Zh&&!this.Xh&&this.el(this.Zh,t)&&(this.nl(this.Zh),e=!0),e},t.prototype.el=function(t,e){return!t.fromCache||!(this.options.sl&&"Offline"!==e||t.docs.nt()&&"Offline"!==e)},t.prototype.tl=function(t){return t.docChanges.length>0||!!(t.xe||this.Zh&&this.Zh.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges},t.prototype.nl=function(t){t=pf.Fe(t.query,t.docs,t.Ce,t.fromCache),this.Xh=!0,this.Yh.next(t)},t}(),Om=function(){function t(t,e){this.payload=t,this.byteLength=e}return t.prototype.il=function(){return"metadata"in this.payload},t}(),Em=function(){function t(t){this.Kt=t}return t.prototype.yc=function(t){return Pf(this.Kt,t)},t.prototype.gc=function(t){return t.metadata.exists?Uf(this.Kt,t.document,!1):new xl(this.yc(t.metadata.name),this.Vc(t.metadata.readTime))},t.prototype.Vc=function(t){return Af(t)},t}();!function(){function t(t,e,n){this.rl=t,this.Sh=e,this.Kt=n,this.queries=[],this.documents=[],this.progress=function(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}(t)}t.prototype.ol=function(t){this.progress.bytesLoaded+=t.byteLength;var e=this.progress.documentsLoaded;return t.payload.namedQuery?this.queries.push(t.payload.namedQuery):t.payload.documentMetadata?(this.documents.push({metadata:t.payload.documentMetadata}),t.payload.documentMetadata.exists||++e):t.payload.document&&(this.documents[this.documents.length-1].document=t.payload.document,++e),e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null},t.prototype.cl=function(t){for(var e=new Map,n=new Em(this.Kt),r=0,i=t;r<i.length;r++){var o=i[r];if(o.metadata.queries)for(var s=n.yc(o.metadata.name),a=0,u=o.metadata.queries;a<u.length;a++){var c=u[a],l=(e.get(c)||cf()).add(s);e.set(c,l)}}return e},t.prototype.complete=function(){return Object(uc.b)(this,void 0,void 0,function(){var t,e,n,r,i;return Object(uc.d)(this,function(o){switch(o.label){case 0:return[4,sg(this.Sh,new Em(this.Kt),this.documents,this.rl.id)];case 1:t=o.sent(),e=this.cl(this.documents),n=0,r=this.queries,o.label=2;case 2:return n<r.length?[4,ag(this.Sh,i=r[n],e.get(i.name))]:[3,5];case 3:o.sent(),o.label=4;case 4:return n++,[3,2];case 5:return[2,(this.progress.taskState="Success",new md(Object.assign({},this.progress),t))]}})})}}();var Cm=function(t){this.key=t},xm=function(t){this.key=t},Sm=function(){function t(t,e){this.query=t,this.al=e,this.ul=null,this.qe=!1,this.hl=cf(),this.Ce=cf(),this.ll=uh(t),this._l=new ff(this.ll)}return Object.defineProperty(t.prototype,"fl",{get:function(){return this.al},enumerable:!1,configurable:!0}),t.prototype.dl=function(t,e){var n=this,r=e?e.wl:new df,i=e?e._l:this._l,o=e?e.Ce:this.Ce,s=i,a=!1,u=Yl(this.query)&&i.size===this.query.limit?i.last():null,c=Jl(this.query)&&i.size===this.query.limit?i.first():null;if(t.Zt(function(t,e){var l=i.get(t),h=e instanceof Cl?e:null;h&&(h=ah(n.query,h)?h:null);var f=!!l&&n.Ce.has(l.key),d=!!h&&(h.bt||n.Ce.has(h.key)&&h.hasCommittedMutations),p=!1;l&&h?l.data().isEqual(h.data())?f!==d&&(r.track({type:3,doc:h}),p=!0):n.El(l,h)||(r.track({type:2,doc:h}),p=!0,(u&&n.ll(h,u)>0||c&&n.ll(h,c)<0)&&(a=!0)):!l&&h?(r.track({type:0,doc:h}),p=!0):l&&!h&&(r.track({type:1,doc:l}),p=!0,(u||c)&&(a=!0)),p&&(h?(s=s.add(h),o=d?o.add(t):o.delete(t)):(s=s.delete(t),o=o.delete(t)))}),Yl(this.query)||Jl(this.query))for(;s.size>this.query.limit;){var l=Yl(this.query)?s.last():s.first();s=s.delete(l.key),o=o.delete(l.key),r.track({type:1,doc:l})}return{_l:s,wl:r,_c:a,Ce:o}},t.prototype.El=function(t,e){return t.bt&&e.hasCommittedMutations&&!e.bt},t.prototype.Ti=function(t,e,n){var r=this,i=this._l;this._l=t._l,this.Ce=t.Ce;var o=t.wl.Se();o.sort(function(t,e){return function(t,e){var n=function(t){switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return gc()}};return n(t)-n(e)}(t.type,e.type)||r.ll(t.doc,e.doc)}),this.Tl(n);var s=e?this.Il():[],a=0===this.hl.size&&this.qe?1:0,u=a!==this.ul;return this.ul=a,0!==o.length||u?{snapshot:new pf(this.query,t._l,i,o,t.Ce,0===a,u,!1),ml:s}:{ml:s}},t.prototype.zh=function(t){return this.qe&&"Offline"===t?(this.qe=!1,this.Ti({_l:this._l,wl:new df,Ce:this.Ce,_c:!1},!1)):{ml:[]}},t.prototype.Al=function(t){return!this.al.has(t)&&!!this._l.has(t)&&!this._l.get(t).bt},t.prototype.Tl=function(t){var e=this;t&&(t.Ue.forEach(function(t){return e.al=e.al.add(t)}),t.Qe.forEach(function(t){}),t.Ke.forEach(function(t){return e.al=e.al.delete(t)}),this.qe=t.qe)},t.prototype.Il=function(){var t=this;if(!this.qe)return[];var e=this.hl;this.hl=cf(),this._l.forEach(function(e){t.Al(e.key)&&(t.hl=t.hl.add(e.key))});var n=[];return e.forEach(function(e){t.hl.has(e)||n.push(new xm(e))}),this.hl.forEach(function(t){e.has(t)||n.push(new Cm(t))}),n},t.prototype.Rl=function(t){this.al=t.Pc,this.hl=cf();var e=this.dl(t.documents);return this.Ti(e,!0)},t.prototype.Pl=function(){return pf.Fe(this.query,this._l,this.Ce,0===this.ul)},t}(),Tm=function(t,e,n){this.query=t,this.targetId=e,this.view=n},Im=function(t){this.key=t,this.yl=!1},km=function(){function t(t,e,n,r,i,o){this.Sh=t,this.gl=e,this.Vl=n,this.pl=r,this.currentUser=i,this.bl=o,this.vl={},this.Sl=new hp(function(t){return oh(t)},ih),this.Dl=new Map,this.Cl=[],this.xl=new Zh(Gc.J),this.Nl=new Map,this.Fl=new cg,this.Ol={},this.kl=new Map,this.Ml=wp.qi(),this.onlineState="Unknown",this.Ll=void 0}return Object.defineProperty(t.prototype,"$l",{get:function(){return!0===this.Ll},enumerable:!1,configurable:!0}),t}();function Am(t,e){return Object(uc.b)(this,void 0,void 0,function(){var n,r,i,o,s;return Object(uc.d)(this,function(a){switch(a.label){case 0:return n=ob(t),(i=n.Sl.get(e))?(n.pl.ka(i.targetId),r=i.view.Pl(),[3,4]):[3,1];case 1:return[4,tg(n.Sh,nh(e))];case 2:return o=a.sent(),s=n.pl.ka(o.targetId),[4,Dm(n,e,o.targetId,"current"===s)];case 3:r=a.sent(),n.$l&&Wg(n.gl,o),a.label=4;case 4:return[2,r]}})})}function Dm(t,e,n,r){return Object(uc.b)(this,void 0,void 0,function(){var i,o,s,a,u,c;return Object(uc.d)(this,function(l){switch(l.label){case 0:return t.Bl=function(e,n,r){return function(t,e,n,r){return Object(uc.b)(this,void 0,void 0,function(){var i,o,s;return Object(uc.d)(this,function(a){switch(a.label){case 0:return(i=e.view.dl(n))._c?[4,ng(t.Sh,e.query,!1).then(function(t){return e.view.dl(t.documents,i)})]:[3,2];case 1:i=a.sent(),a.label=2;case 2:return o=r&&r.Oe.get(e.targetId),s=e.view.Ti(i,t.$l,o),[2,(Bm(t,e.targetId,s.ml),s.snapshot)]}})})}(t,e,n,r)},[4,ng(t.Sh,e,!0)];case 1:return i=l.sent(),o=new Sm(e,i.Pc),s=o.dl(i.documents),a=mf.Be(n,r&&"Offline"!==t.onlineState),u=o.Ti(s,t.$l,a),Bm(t,n,u.ml),c=new Tm(e,n,o),[2,(t.Sl.set(e,c),t.Dl.has(n)?t.Dl.get(n).push(e):t.Dl.set(n,[e]),u.snapshot)]}})})}function jm(t,e){return Object(uc.b)(this,void 0,void 0,function(){var n,r,i;return Object(uc.d)(this,function(o){switch(o.label){case 0:return n=bc(t),r=n.Sl.get(e),(i=n.Dl.get(r.targetId)).length>1?[2,(n.Dl.set(r.targetId,i.filter(function(t){return!ih(t,e)})),void n.Sl.delete(e))]:n.$l?(n.pl.La(r.targetId),n.pl.Ca(r.targetId)?[3,2]:[4,eg(n.Sh,r.targetId,!1).then(function(){n.pl.Ba(r.targetId),Gg(n.gl,r.targetId),zm(n,r.targetId)}).catch(lp)]):[3,3];case 1:o.sent(),o.label=2;case 2:return[3,5];case 3:return zm(n,r.targetId),[4,eg(n.Sh,r.targetId,!0)];case 4:o.sent(),o.label=5;case 5:return[2]}})})}function Nm(t,e,n){return Object(uc.b)(this,void 0,void 0,function(){var r,i,o,s;return Object(uc.d)(this,function(a){switch(a.label){case 0:r=sb(t),a.label=1;case 1:return a.trys.push([1,5,,6]),[4,function(t,e){var n,r=bc(t),i=Uc.now(),o=e.reduce(function(t,e){return t.add(e.key)},cf());return r.persistence.runTransaction("Locally write mutations","readwrite",function(t){return r.Ic.Zo(t,o).next(function(o){n=o;for(var s=[],a=0,u=e;a<u.length;a++){var c=u[a],l=Nh(c,n.get(c.key));null!=l&&s.push(new Vh(c.key,l,Ol(l.proto.mapValue),Ih.exists(!0)))}return r.Ho.yi(t,i,s,e)})}).then(function(t){var e=t.Fs(n);return{batchId:t.batchId,ci:e}})}(r.Sh,e)];case 2:return i=a.sent(),r.pl.xa(i.batchId),function(t,e,n){var r=t.Ol[t.currentUser.R()];r||(r=new Zh(wc)),r=r.Ht(e,n),t.Ol[t.currentUser.R()]=r}(r,i.batchId,n),[4,$m(r,i.ci)];case 3:return a.sent(),[4,im(r.gl)];case 4:return a.sent(),[3,6];case 5:return o=a.sent(),s=gd(o,"Failed to persist write"),n.reject(s),[3,6];case 6:return[2]}})})}function Pm(t,e){return Object(uc.b)(this,void 0,void 0,function(){var n,r;return Object(uc.d)(this,function(i){switch(i.label){case 0:n=bc(t),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,Jp(n.Sh,e)];case 2:return r=i.sent(),e.Oe.forEach(function(t,e){var r=n.Nl.get(e);r&&(mc(t.Ue.size+t.Qe.size+t.Ke.size<=1),t.Ue.size>0?r.yl=!0:t.Qe.size>0?mc(r.yl):t.Ke.size>0&&(mc(r.yl),r.yl=!1))}),[4,$m(n,r,e)];case 3:return i.sent(),[3,6];case 4:return[4,lp(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}})})}function Rm(t,e,n){var r=bc(t);if(r.$l&&0===n||!r.$l&&1===n){var i=[];r.Sl.forEach(function(t,n){var r=n.view.zh(e);r.snapshot&&i.push(r.snapshot)}),function(t,e){var n=bc(t);n.onlineState=e;var r=!1;n.queries.forEach(function(t,n){for(var i=0,o=n.listeners;i<o.length;i++)o[i].zh(e)&&(r=!0)}),r&&wm(n)}(r.Vl,e),i.length&&r.vl.uh(i),r.onlineState=e,r.$l&&r.pl.Ka(e)}}function Mm(t,e,n){return Object(uc.b)(this,void 0,void 0,function(){var r,i,o,s,a,u;return Object(uc.d)(this,function(c){switch(c.label){case 0:return(r=bc(t)).pl.qa(e,"rejected",n),i=r.Nl.get(e),(o=i&&i.key)?(s=(s=new Zh(Gc.J)).Ht(o,new xl(o,Hc.min())),a=cf().add(o),u=new gf(Hc.min(),new Map,new Qh(wc),s,a),[4,Pm(r,u)]):[3,2];case 1:return c.sent(),r.xl=r.xl.remove(o),r.Nl.delete(e),Gm(r),[3,4];case 2:return[4,eg(r.Sh,e,!1).then(function(){return zm(r,e,n)}).catch(lp)];case 3:c.sent(),c.label=4;case 4:return[2]}})})}function Vm(t,e){return Object(uc.b)(this,void 0,void 0,function(){var n,r,i;return Object(uc.d)(this,function(o){switch(o.label){case 0:n=bc(t),r=e.batch.batchId,o.label=1;case 1:return o.trys.push([1,4,,6]),[4,Zp(n.Sh,e)];case 2:return i=o.sent(),Hm(n,r,null),Um(n,r),n.pl.Fa(r,"acknowledged"),[4,$m(n,i)];case 3:return o.sent(),[3,6];case 4:return[4,lp(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}})})}function Lm(t,e,n){return Object(uc.b)(this,void 0,void 0,function(){var r,i;return Object(uc.d)(this,function(o){switch(o.label){case 0:r=bc(t),o.label=1;case 1:return o.trys.push([1,4,,6]),[4,function(t,e){var n=bc(t);return n.persistence.runTransaction("Reject batch","readwrite-primary",function(t){var r;return n.Ho.gi(t,e).next(function(e){return mc(null!==e),r=e.keys(),n.Ho.Ni(t,e)}).next(function(){return n.Ho.ki(t)}).next(function(){return n.Ic.Zo(t,r)})})}(r.Sh,e)];case 2:return i=o.sent(),Hm(r,e,n),Um(r,e),r.pl.Fa(e,"rejected",n),[4,$m(r,i)];case 3:return o.sent(),[3,6];case 4:return[4,lp(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}})})}function Fm(t,e){return Object(uc.b)(this,void 0,void 0,function(){var n,r,i,o,s;return Object(uc.d)(this,function(a){switch(a.label){case 0:Jg((n=bc(t)).gl)||hc("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),a.label=1;case 1:return a.trys.push([1,3,,4]),[4,function(t){var e=bc(t);return e.persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(t){return e.Ho.bi(t)})}(n.Sh)];case 2:return-1===(r=a.sent())?[2,void e.resolve()]:((i=n.kl.get(r)||[]).push(e),n.kl.set(r,i),[3,4]);case 3:return o=a.sent(),s=gd(o,"Initialization of waitForPendingWrites() operation failed"),e.reject(s),[3,4];case 4:return[2]}})})}function Um(t,e){(t.kl.get(e)||[]).forEach(function(t){t.resolve()}),t.kl.delete(e)}function Hm(t,e,n){var r=bc(t),i=r.Ol[r.currentUser.R()];if(i){var o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Ol[r.currentUser.R()]=i}}function zm(t,e,n){void 0===n&&(n=null),t.pl.La(e);for(var r=0,i=t.Dl.get(e);r<i.length;r++){var o=i[r];t.Sl.delete(o),n&&t.vl.ql(o,n)}t.Dl.delete(e),t.$l&&t.Fl.kc(e).forEach(function(e){t.Fl.Mi(e)||qm(t,e)})}function qm(t,e){var n=t.xl.get(e);null!==n&&(Gg(t.gl,n),t.xl=t.xl.remove(e),t.Nl.delete(n),Gm(t))}function Bm(t,e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];o instanceof Cm?(t.Fl.ir(o.key,e),Wm(t,o)):o instanceof xm?(hc("SyncEngine","Document no longer in limbo: "+o.key),t.Fl.cr(o.key,e),t.Fl.Mi(o.key)||qm(t,o.key)):gc()}}function Wm(t,e){var n=e.key;t.xl.get(n)||(hc("SyncEngine","New document in limbo: "+n),t.Cl.push(n),Gm(t))}function Gm(t){for(;t.Cl.length>0&&t.xl.size<t.bl;){var e=t.Cl.shift(),n=t.Ml.next();t.Nl.set(n,new Im(e)),t.xl=t.xl.Ht(e,n),Wg(t.gl,new lh(nh(Zl(e.path)),n,2,Fc.U))}}function $m(t,e,n){return Object(uc.b)(this,void 0,void 0,function(){var r,i,o,s;return Object(uc.d)(this,function(a){switch(a.label){case 0:return r=bc(t),i=[],o=[],s=[],r.Sl.nt()?[3,3]:(r.Sl.forEach(function(t,a){s.push(r.Bl(a,e,n).then(function(t){if(t){r.$l&&r.pl.qa(a.targetId,t.fromCache?"not-current":"current"),i.push(t);var e=Bp.cc(a.targetId,t);o.push(e)}}))}),[4,Promise.all(s)]);case 1:return a.sent(),r.vl.uh(i),[4,function(t,e){return Object(uc.b)(this,void 0,void 0,function(){var n,r,i,o,s,a,u,c;return Object(uc.d)(this,function(l){switch(l.label){case 0:n=bc(t),l.label=1;case 1:return l.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(t){return id.forEach(e,function(e){return id.forEach(e.rc,function(r){return n.persistence.mi.ir(t,e.targetId,r)}).next(function(){return id.forEach(e.oc,function(r){return n.persistence.mi.cr(t,e.targetId,r)})})})})];case 2:return l.sent(),[3,4];case 3:if(!cd(r=l.sent()))throw r;return hc("LocalStore","Failed to update sequence numbers: "+r),[3,4];case 4:for(i=0,o=e;i<o.length;i++)a=(s=o[i]).targetId,s.fromCache||(u=n.dc.get(a),c=u.Bt(u.Mt),n.dc=n.dc.Ht(a,c));return[2]}})})}(r.Sh,o)];case 2:a.sent(),a.label=3;case 3:return[2]}})})}function Km(t,e){return Object(uc.b)(this,void 0,void 0,function(){var n,r;return Object(uc.d)(this,function(i){switch(i.label){case 0:return(n=bc(t)).currentUser.isEqual(e)?[3,3]:(hc("SyncEngine","User change. New user:",e.R()),[4,Kp(n.Sh,e)]);case 1:return r=i.sent(),n.currentUser=e,function(t,e){t.kl.forEach(function(t){t.forEach(function(t){t.reject(new xc(Cc.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),t.kl.clear()}(n),n.pl.Qa(e,r.Ac,r.Rc),[4,$m(n,r.mc)];case 2:i.sent(),i.label=3;case 3:return[2]}})})}function Zm(t,e){var n=bc(t),r=n.Nl.get(e);if(r&&r.yl)return cf().add(r.key);var i=cf(),o=n.Dl.get(e);if(!o)return i;for(var s=0,a=o;s<a.length;s++){var u=n.Sl.get(a[s]);i=i.ye(u.view.fl)}return i}function Ym(t,e){return Object(uc.b)(this,void 0,void 0,function(){var n,r,i;return Object(uc.d)(this,function(o){switch(o.label){case 0:return[4,ng((n=bc(t)).Sh,e.query,!0)];case 1:return r=o.sent(),i=e.view.Rl(r),[2,(n.$l&&Bm(n,e.targetId,i.ml),i)]}})})}function Jm(t){return Object(uc.b)(this,void 0,void 0,function(){var e;return Object(uc.d)(this,function(n){return[2,ig((e=bc(t)).Sh).then(function(t){return $m(e,t)})]})})}function Qm(t,e,n,r){return Object(uc.b)(this,void 0,void 0,function(){var i,o;return Object(uc.d)(this,function(s){switch(s.label){case 0:return[4,function(t,e){var n=bc(t),r=bc(n.Ho);return n.persistence.runTransaction("Lookup mutation documents","readonly",function(t){return r.Vi(t,e).next(function(e){return e?n.Ic.Zo(t,e):id.resolve(null)})})}((i=bc(t)).Sh,e)];case 1:return null===(o=s.sent())?[3,6]:"pending"!==n?[3,3]:[4,im(i.gl)];case 2:return s.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(Hm(i,e,r||null),Um(i,e),function(t,e){bc(bc(t).Ho).Fi(e)}(i.Sh,e)):gc(),s.label=4;case 4:return[4,$m(i,o)];case 5:return s.sent(),[3,7];case 6:hc("SyncEngine","Cannot apply mutation batch with id: "+e),s.label=7;case 7:return[2]}})})}function Xm(t,e){return Object(uc.b)(this,void 0,void 0,function(){var n,r,i,o,s,a,u;return Object(uc.d)(this,function(c){switch(c.label){case 0:return ob(n=bc(t)),sb(n),!0!==e||!0===n.Ll?[3,3]:(r=n.pl.Sa(),[4,tb(n,r.rt())]);case 1:return i=c.sent(),n.Ll=!0,[4,hm(n.gl,!0)];case 2:for(c.sent(),o=0,s=i;o<s.length;o++)Wg(n.gl,s[o]);return[3,7];case 3:return!1!==e||!1===n.Ll?[3,7]:(a=[],u=Promise.resolve(),n.Dl.forEach(function(t,e){n.pl.$a(e)?a.push(e):u=u.then(function(){return zm(n,e),eg(n.Sh,e,!0)}),Gg(n.gl,e)}),[4,u]);case 4:return c.sent(),[4,tb(n,a)];case 5:return c.sent(),function(t){var e=bc(t);e.Nl.forEach(function(t,n){Gg(e.gl,n)}),e.Fl.Mc(),e.Nl=new Map,e.xl=new Zh(Gc.J)}(n),n.Ll=!1,[4,hm(n.gl,!1)];case 6:c.sent(),c.label=7;case 7:return[2]}})})}function tb(t,e,n){return Object(uc.b)(this,void 0,void 0,function(){var n,r,i,o,s,a,u,c,l,h,f,d,p;return Object(uc.d)(this,function(g){switch(g.label){case 0:n=bc(t),r=[],i=[],o=0,s=e,g.label=1;case 1:return o<s.length?(u=void 0,(c=n.Dl.get(a=s[o]))&&0!==c.length?[4,tg(n.Sh,nh(c[0]))]:[3,7]):[3,13];case 2:u=g.sent(),l=0,h=c,g.label=3;case 3:return l<h.length?(f=n.Sl.get(h[l]),[4,Ym(n,f)]):[3,6];case 4:(d=g.sent()).snapshot&&i.push(d.snapshot),g.label=5;case 5:return l++,[3,3];case 6:return[3,11];case 7:return[4,rg(n.Sh,a)];case 8:return p=g.sent(),[4,tg(n.Sh,p)];case 9:return u=g.sent(),[4,Dm(n,eb(p),a,!1)];case 10:g.sent(),g.label=11;case 11:r.push(u),g.label=12;case 12:return o++,[3,1];case 13:return[2,(n.vl.uh(i),r)]}})})}function eb(t){return Kl(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function nb(t){var e=bc(t);return bc(bc(e.Sh).persistence).Ko()}function rb(t,e,n,r){return Object(uc.b)(this,void 0,void 0,function(){var i,o,s;return Object(uc.d)(this,function(a){switch(a.label){case 0:return(i=bc(t)).Ll?(hc("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.Dl.has(e))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,ig(i.Sh)];case 3:return o=a.sent(),s=gf.$e(e,"current"===n),[4,$m(i,o,s)];case 4:return a.sent(),[3,8];case 5:return[4,eg(i.Sh,e,!0)];case 6:return a.sent(),zm(i,e,r),[3,8];case 7:gc(),a.label=8;case 8:return[2]}})})}function ib(t,e,n){return Object(uc.b)(this,void 0,void 0,function(){var r,i,o,s,a,u,c,l,h;return Object(uc.d)(this,function(f){switch(f.label){case 0:if(!(r=ob(t)).Ll)return[3,10];i=0,o=e,f.label=1;case 1:return i<o.length?r.Dl.has(s=o[i])?(hc("SyncEngine","Adding an already active target "+s),[3,5]):[4,rg(r.Sh,s)]:[3,6];case 2:return a=f.sent(),[4,tg(r.Sh,a)];case 3:return u=f.sent(),[4,Dm(r,eb(a),u.targetId,!1)];case 4:f.sent(),Wg(r.gl,u),f.label=5;case 5:return i++,[3,1];case 6:c=function(t){return Object(uc.d)(this,function(e){switch(e.label){case 0:return r.Dl.has(t)?[4,eg(r.Sh,t,!1).then(function(){Gg(r.gl,t),zm(r,t)}).catch(lp)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})},l=0,h=n,f.label=7;case 7:return l<h.length?[5,c(h[l])]:[3,10];case 8:f.sent(),f.label=9;case 9:return l++,[3,7];case 10:return[2]}})})}function ob(t){var e=bc(t);return e.gl.Ch.Bh=Pm.bind(null,e),e.gl.Ch.Sn=Zm.bind(null,e),e.gl.Ch.$h=Mm.bind(null,e),e.vl.uh=ym.bind(null,e.Vl),e.vl.ql=vm.bind(null,e.Vl),e}function sb(t){var e=bc(t);return e.gl.Ch.qh=Vm.bind(null,e),e.gl.Ch.Uh=Lm.bind(null,e),e}var ab=function(){function t(){this.synchronizeTabs=!1}return t.prototype.initialize=function(t){return Object(uc.b)(this,void 0,void 0,function(){return Object(uc.d)(this,function(e){switch(e.label){case 0:return this.Kt=Rg(t.gu.T),this.pl=this.jl(t),this.persistence=this.Gl(t),[4,this.persistence.start()];case 1:return e.sent(),this.zl=this.Hl(t),this.Sh=this.Jl(t),[2]}})})},t.prototype.Hl=function(t){return null},t.prototype.Jl=function(t){return $p(this.persistence,new Wp,t.Yl,this.Kt)},t.prototype.Gl=function(t){return new gg(bg.ra,this.Kt)},t.prototype.jl=function(t){return new Tg},t.prototype.terminate=function(){return Object(uc.b)(this,void 0,void 0,function(){return Object(uc.d)(this,function(t){switch(t.label){case 0:return this.zl&&this.zl.stop(),[4,this.pl.$o()];case 1:return t.sent(),[4,this.persistence.$o()];case 2:return t.sent(),[2]}})})},t}(),ub=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Xl=e,i.cacheSizeBytes=n,i.forceOwnership=r,i.synchronizeTabs=!1,i}return Object(uc.c)(e,t),e.prototype.initialize=function(e){return Object(uc.b)(this,void 0,void 0,function(){return Object(uc.d)(this,function(n){switch(n.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return n.sent(),[4,og(this.Sh)];case 2:return n.sent(),[4,this.Xl.initialize(this,e)];case 3:return n.sent(),[4,sb(this.Xl.fa)];case 4:return n.sent(),[4,im(this.Xl.gl)];case 5:return n.sent(),[2]}})})},e.prototype.Jl=function(t){return $p(this.persistence,new Wp,t.Yl,this.Kt)},e.prototype.Hl=function(t){return new Tp(this.persistence.mi.dr,t.fs)},e.prototype.Gl=function(t){var e=zp(t.gu.T,t.gu.persistenceKey),n=void 0!==this.cacheSizeBytes?cp.Zs(this.cacheSizeBytes):cp.ni;return new Fp(this.synchronizeTabs,e,t.clientId,n,t.fs,Ng(),Pg(),this.Kt,this.pl,!!this.forceOwnership)},e.prototype.jl=function(t){return new Tg},e}(ab),cb=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n,!1)||this).Xl=e,r.cacheSizeBytes=n,r.synchronizeTabs=!0,r}return Object(uc.c)(e,t),e.prototype.initialize=function(e){return Object(uc.b)(this,void 0,void 0,function(){var n,r=this;return Object(uc.d)(this,function(i){switch(i.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return i.sent(),n=this.Xl.fa,this.pl instanceof Sg?(this.pl.fa={nu:Qm.bind(null,n),su:rb.bind(null,n),iu:ib.bind(null,n),Ko:nb.bind(null,n),eu:Jm.bind(null,n)},[4,this.pl.start()]):[3,3];case 2:i.sent(),i.label=3;case 3:return[4,this.persistence.yo(function(t){return Object(uc.b)(r,void 0,void 0,function(){return Object(uc.d)(this,function(e){switch(e.label){case 0:return[4,Xm(this.Xl.fa,t)];case 1:return e.sent(),this.zl&&(t&&!this.zl.Ir?this.zl.start(this.Sh):t||this.zl.stop()),[2]}})})})];case 4:return i.sent(),[2]}})})},e.prototype.jl=function(t){var e=Ng();if(!Sg.Wn(e))throw new xc(Cc.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=zp(t.gu.T,t.gu.persistenceKey);return new Sg(e,t.fs,n,t.clientId,t.Yl)},e}(ub),lb=function(){function t(){}return t.prototype.initialize=function(t,e){return Object(uc.b)(this,void 0,void 0,function(){var n=this;return Object(uc.d)(this,function(r){switch(r.label){case 0:return this.Sh?[3,2]:(this.Sh=t.Sh,this.pl=t.pl,this.Dh=this.Zl(e),this.gl=this.t_(e),this.Vl=this.e_(e),this.fa=this.n_(e,!t.synchronizeTabs),this.pl.da=function(t){return Rm(n.fa,t,1)},this.gl.Ch.s_=Km.bind(null,this.fa),[4,hm(this.gl,this.fa.$l)]);case 1:r.sent(),r.label=2;case 2:return[2]}})})},t.prototype.e_=function(t){return new gm},t.prototype.Zl=function(t){var e=Rg(t.gu.T),n=new jg(t.gu);return function(t,e,n){return new Ug(t,e,n)}(t.credentials,n,e)},t.prototype.t_=function(t){var e,n,r,i,o,s=this;return e=this.Sh,n=this.Dh,r=t.fs,i=function(t){return Rm(s.fa,t,0)},o=kg.Wn()?new kg:new Ig,new zg(e,n,r,i,o)},t.prototype.n_=function(t,e){return function(t,e,n,r,i,o,s){var a=new km(t,e,n,r,i,o);return s&&(a.Ll=!0),a}(this.Sh,this.gl,this.Vl,this.pl,t.Yl,t.bl,e)},t.prototype.terminate=function(){return function(t){return Object(uc.b)(this,void 0,void 0,function(){var e;return Object(uc.d)(this,function(n){switch(n.label){case 0:return e=bc(t),hc("RemoteStore","RemoteStore shutting down."),e.Fh.add(5),[4,Bg(e)];case 1:return n.sent(),e.kh.$o(),e.Mh.set("Unknown"),[2]}})})}(this.gl)},t}(),hb=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.observer.next&&this.i_(this.observer.next,t)},t.prototype.error=function(t){this.observer.error?this.i_(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},t.prototype.r_=function(){this.muted=!0},t.prototype.i_=function(t,e){var n=this;this.muted||setTimeout(function(){n.muted||t(e)},0)},t}(),fb=(function(){function t(t,e){var n=this;this.o_=t,this.Kt=e,this.metadata=new rd,this.buffer=new Uint8Array,this.c_=new TextDecoder("utf-8"),this.a_().then(function(t){t&&t.il()?n.metadata.resolve(t.payload.metadata):n.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             "+JSON.stringify(null==t?void 0:t.payload)))},function(t){return n.metadata.reject(t)})}t.prototype.close=function(){return this.o_.cancel()},t.prototype.getMetadata=function(){return Object(uc.b)(this,void 0,void 0,function(){return Object(uc.d)(this,function(t){return[2,this.metadata.promise]})})},t.prototype.Kl=function(){return Object(uc.b)(this,void 0,void 0,function(){return Object(uc.d)(this,function(t){switch(t.label){case 0:return[4,this.getMetadata()];case 1:return[2,(t.sent(),this.a_())]}})})},t.prototype.a_=function(){return Object(uc.b)(this,void 0,void 0,function(){var t,e,n,r;return Object(uc.d)(this,function(i){switch(i.label){case 0:return[4,this.u_()];case 1:return null===(t=i.sent())?[2,null]:(e=this.c_.decode(t),n=Number(e),isNaN(n)&&this.h_("length string ("+e+") is not valid number"),[4,this.l_(n)]);case 2:return r=i.sent(),[2,new Om(JSON.parse(r),t.length+n)]}})})},t.prototype.__=function(){return this.buffer.findIndex(function(t){return t==="{".charCodeAt(0)})},t.prototype.u_=function(){return Object(uc.b)(this,void 0,void 0,function(){var t,e;return Object(uc.d)(this,function(n){switch(n.label){case 0:return this.__()<0?[4,this.f_()]:[3,3];case 1:if(n.sent())return[3,3];n.label=2;case 2:return[3,0];case 3:return 0===this.buffer.length?[2,null]:((t=this.__())<0&&this.h_("Reached the end of bundle when a length string is expected."),e=this.buffer.slice(0,t),[2,(this.buffer=this.buffer.slice(t),e)])}})})},t.prototype.l_=function(t){return Object(uc.b)(this,void 0,void 0,function(){var e;return Object(uc.d)(this,function(n){switch(n.label){case 0:return this.buffer.length<t?[4,this.f_()]:[3,3];case 1:n.sent()&&this.h_("Reached the end of bundle when more is expected."),n.label=2;case 2:return[3,0];case 3:return e=this.c_.decode(this.buffer.slice(0,t)),[2,(this.buffer=this.buffer.slice(t),e)]}})})},t.prototype.h_=function(t){throw this.o_.cancel(),new Error("Invalid bundle format: "+t)},t.prototype.f_=function(){return Object(uc.b)(this,void 0,void 0,function(){var t,e;return Object(uc.d)(this,function(n){switch(n.label){case 0:return[4,this.o_.read()];case 1:return(t=n.sent()).done||((e=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),e.set(t.value,this.buffer.length),this.buffer=e),[2,t.done]}})})}}(),function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=0;n<t.length;++n)if(0===t[n].length)throw new xc(Cc.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this.d_=new Wc(t)}return t.prototype.isEqual=function(t){return this.d_.isEqual(t.d_)},t}()),db=function(t){this._methodName=t};function pb(t,e,n){if(!n)throw new xc(Cc.INVALID_ARGUMENT,"Function "+t+"() cannot be called with an empty "+e+".")}function gb(t,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new xc(Cc.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function mb(t,e,n,r){if(!0===e&&!0===r)throw new xc(Cc.INVALID_ARGUMENT,t+" and "+n+" cannot be used together.")}function bb(t){if(!Gc.Et(t))throw new xc(Cc.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t+" has "+t.length+".")}function yb(t){if(Gc.Et(t))throw new xc(Cc.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+t+" has "+t.length+".")}function vb(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":gc()}function wb(t,e){if("_delegate"in t&&(t=t._),!(t instanceof e)){if(e.name===t.constructor.name)throw new xc(Cc.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=vb(t);throw new xc(Cc.INVALID_ARGUMENT,"Expected type '"+e.name+"', but it was: "+n)}return t}function _b(t,e){if(e<=0)throw new xc(Cc.INVALID_ARGUMENT,"Function "+t+"() requires a positive number, but it was: "+e+".")}var Ob=function(){function t(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new xc(Cc.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new xc(Cc.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,mb("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties},t}(),Eb=new Map,Cb=function(){function t(t,e){this.w_="(lite)",this.E_=new Ob({}),this.T_=!1,t instanceof jc?(this.I_=t,this.m_=new Rc):(this.A_=t,this.I_=function(t){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new xc(Cc.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new jc(t.options.projectId)}(t),this.m_=new Mc(e))}return Object.defineProperty(t.prototype,"app",{get:function(){if(!this.A_)throw new xc(Cc.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.A_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"R_",{get:function(){return this.T_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"P_",{get:function(){return void 0!==this.y_},enumerable:!1,configurable:!0}),t.prototype.g_=function(t){if(this.T_)throw new xc(Cc.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this.E_=new Ob(t),void 0!==t.credentials&&(this.m_=function(t){if(!t)return new Rc;switch(t.type){case"gapi":var e=t.client;return mc(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty)),new Lc(e,t.sessionIndex||"0");case"provider":return t.client;default:throw new xc(Cc.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},t.prototype.V_=function(){return this.E_},t.prototype.p_=function(){return this.T_=!0,this.E_},t.prototype._delete=function(){return this.y_||(this.y_=this.b_()),this.y_},t.prototype.b_=function(){return(t=Eb.get(this))&&(hc("ComponentProvider","Removing Datastore"),Eb.delete(this),t.terminate()),Promise.resolve();var t},t}(),xb=function(){function t(t,e,n){this.v_=e,this.S_=n,this.type="document",this.firestore=t}return Object.defineProperty(t.prototype,"D_",{get:function(){return this.S_.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this.S_.path.et()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this.S_.path.ot()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new Tb(this.firestore,this.v_,this.S_.path.Z())},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this.S_)},t}(),Sb=function(){function t(t,e,n){this.v_=e,this.C_=n,this.type="query",this.firestore=t}return t.prototype.withConverter=function(e){return new t(this.firestore,e,this.C_)},t}(),Tb=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,Zl(r))||this).firestore=e,i.D_=r,i.type="collection",i}return Object(uc.c)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this.C_.path.et()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.C_.path.ot()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this.D_.Z();return t.nt()?null:new xb(this.firestore,null,new Gc(t))},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this.D_)},e}(Sb);function Ib(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t instanceof Tc&&(t=t._),pb("collection","path",e),t instanceof Cb)return yb(n=qc.ct.apply(qc,Object(uc.g)([e],r))),new Tb(t,null,n);if(!(t instanceof xb||t instanceof Tb))throw new xc(Cc.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return yb(n=qc.ct.apply(qc,Object(uc.g)([t.path],r)).child(qc.ct(e))),new Tb(t.firestore,null,n)}function kb(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t instanceof Tc&&(t=t._),1===arguments.length&&(e=vc.t()),pb("doc","path",e),t instanceof Cb)return bb(n=qc.ct.apply(qc,Object(uc.g)([e],r))),new xb(t,null,new Gc(n));if(!(t instanceof xb||t instanceof Tb))throw new xc(Cc.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return bb(n=t.D_.child(qc.ct.apply(qc,Object(uc.g)([e],r)))),new xb(t.firestore,t instanceof Tb?t.v_:null,new Gc(n))}function Ab(t,e){return t instanceof Tc&&(t=t._),e instanceof Tc&&(e=e._),(t instanceof xb||t instanceof Tb)&&(e instanceof xb||e instanceof Tb)&&t.firestore===e.firestore&&t.path===e.path&&t.v_===e.v_}function Db(t,e){return t instanceof Tc&&(t=t._),e instanceof Tc&&(e=e._),t instanceof Sb&&e instanceof Sb&&t.firestore===e.firestore&&ih(t.C_,e.C_)&&t.v_===e.v_}var jb=function(){function t(t,e){if(!isFinite(t)||t<-90||t>90)throw new xc(Cc.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new xc(Cc.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this.x_=t,this.N_=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this.x_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this.N_},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.x_===t.x_&&this.N_===t.N_},t.prototype.toJSON=function(){return{latitude:this.x_,longitude:this.N_}},t.prototype.K=function(t){return wc(this.x_,t.x_)||wc(this.N_,t.N_)},t}(),Nb=/^__.*__$/,Pb=function(){function t(t,e,n){this.data=t,this.zt=e,this.fieldTransforms=n}return t.prototype.F_=function(t,e){return null!==this.zt?new Vh(t,this.data,this.zt,e,this.fieldTransforms):new Mh(t,this.data,e,this.fieldTransforms)},t}(),Rb=function(){function t(t,e,n){this.data=t,this.zt=e,this.fieldTransforms=n}return t.prototype.F_=function(t,e){return new Vh(t,this.data,this.zt,e,this.fieldTransforms)},t}();function Mb(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw gc()}}var Vb=function(){function t(t,e,n,r,i,o){this.settings=t,this.T=e,this.Kt=n,this.ignoreUndefinedProperties=r,void 0===i&&this.O_(),this.fieldTransforms=i||[],this.zt=o||[]}return Object.defineProperty(t.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"k_",{get:function(){return this.settings.k_},enumerable:!1,configurable:!0}),t.prototype.M_=function(e){return new t(Object.assign(Object.assign({},this.settings),e),this.T,this.Kt,this.ignoreUndefinedProperties,this.fieldTransforms,this.zt)},t.prototype.L_=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.M_({path:n,B_:!1});return r.q_(t),r},t.prototype.U_=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.M_({path:n,B_:!1});return r.O_(),r},t.prototype.Q_=function(t){return this.M_({path:void 0,B_:!0})},t.prototype.K_=function(t){return ry(t,this.settings.methodName,this.settings.W_||!1,this.path,this.settings.j_)},t.prototype.contains=function(t){return void 0!==this.zt.find(function(e){return t.st(e)})||void 0!==this.fieldTransforms.find(function(e){return t.st(e.field)})},t.prototype.O_=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.q_(this.path.get(t))},t.prototype.q_=function(t){if(0===t.length)throw this.K_("Document fields must not be empty");if(Mb(this.k_)&&Nb.test(t))throw this.K_('Document fields cannot begin and end with "__"')},t}(),Lb=function(){function t(t,e,n){this.T=t,this.ignoreUndefinedProperties=e,this.Kt=n||Rg(t)}return t.prototype.G_=function(t,e,n,r){return void 0===r&&(r=!1),new Vb({k_:t,methodName:e,j_:n,path:Wc.at(),B_:!1,W_:r},this.T,this.Kt,this.ignoreUndefinedProperties)},t}();function Fb(t){var e=t.p_(),n=Rg(t.I_);return new Lb(t.I_,!!e.ignoreUndefinedProperties,n)}function Ub(t,e,n,r,i,o){void 0===o&&(o={});var s=t.G_(o.merge||o.mergeFields?2:0,e,n,i);Xb("Data must be an object, but it was:",s,r);var a,u,c=Jb(r,s);if(o.merge)a=new Yc(s.zt),u=s.fieldTransforms;else if(o.mergeFields){for(var l=[],h=0,f=o.mergeFields;h<f.length;h++){var d=ty(e,f[h],n);if(!s.contains(d))throw new xc(Cc.INVALID_ARGUMENT,"Field '"+d+"' is specified in your field mask but missing from your input data.");iy(l,d)||l.push(d)}a=new Yc(l),u=s.fieldTransforms.filter(function(t){return a.It(t.field)})}else a=null,u=s.fieldTransforms;return new Pb(new wl(c),a,u)}var Hb=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(uc.c)(e,t),e.prototype.z_=function(t){if(2!==t.k_)throw t.K_(1===t.k_?this._methodName+"() can only appear at the top level of your update data":this._methodName+"() cannot be used with set() unless you pass {merge:true}");return t.zt.push(t.path),null},e.prototype.isEqual=function(t){return t instanceof e},e}(db);function zb(t,e,n){return new Vb({k_:3,j_:e.settings.j_,methodName:t._methodName,B_:n},e.T,e.Kt,e.ignoreUndefinedProperties)}var qb=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(uc.c)(e,t),e.prototype.z_=function(t){return new Sh(t.path,new yh)},e.prototype.isEqual=function(t){return t instanceof e},e}(db),Bb=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).H_=n,r}return Object(uc.c)(e,t),e.prototype.z_=function(t){var e=zb(this,t,!0),n=this.H_.map(function(t){return Yb(t,e)}),r=new vh(n);return new Sh(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(db),Wb=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).H_=n,r}return Object(uc.c)(e,t),e.prototype.z_=function(t){var e=zb(this,t,!0),n=this.H_.map(function(t){return Yb(t,e)}),r=new _h(n);return new Sh(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(db),Gb=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).J_=n,r}return Object(uc.c)(e,t),e.prototype.z_=function(t){var e=new Eh(t.Kt,dh(t.Kt,this.J_));return new Sh(t.path,e)},e.prototype.isEqual=function(t){return this===t},e}(db);function $b(t,e,n,r){var i=t.G_(1,e,n);Xb("Data must be an object, but it was:",i,r);var o=[],s=new _l;Kc(r,function(t,r){var a=ny(e,t,n);r instanceof Tc&&(r=r._);var u=i.U_(a);if(r instanceof Hb)o.push(a);else{var c=Yb(r,u);null!=c&&(o.push(a),s.set(a,c))}});var a=new Yc(o);return new Rb(s.yt(),a,i.fieldTransforms)}function Kb(t,e,n,r,i,o){var s=t.G_(1,e,n),a=[ty(e,r,n)],u=[i];if(o.length%2!=0)throw new xc(Cc.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var c=0;c<o.length;c+=2)a.push(ty(e,o[c])),u.push(o[c+1]);for(var l=[],h=new _l,f=a.length-1;f>=0;--f)if(!iy(l,a[f])){var d=a[f],p=u[f];p instanceof Tc&&(p=p._);var g=s.U_(d);if(p instanceof Hb)l.push(d);else{var m=Yb(p,g);null!=m&&(l.push(d),h.set(d,m))}}var b=new Yc(l);return new Rb(h.yt(),b,s.fieldTransforms)}function Zb(t,e,n,r){return void 0===r&&(r=!1),Yb(n,t.G_(r?4:3,e))}function Yb(t,e){if(t instanceof Tc&&(t=t._),Qb(t))return Xb("Unsupported field value:",e,t),Jb(t,e);if(t instanceof db)return function(t,e){if(!Mb(e.k_))throw e.K_(t._methodName+"() can only be used with update() and set()");if(!e.path)throw e.K_(t._methodName+"() is not currently supported inside arrays");var n=t.z_(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(e.path&&e.zt.push(e.path),t instanceof Array){if(e.settings.B_&&4!==e.k_)throw e.K_("Nested arrays are not supported");return function(t,e){for(var n=[],r=0,i=0,o=t;i<o.length;i++){var s=Yb(o[i],e.Q_(r));null==s&&(s={nullValue:"NULL_VALUE"}),n.push(s),r++}return{arrayValue:{values:n}}}(t,e)}return function(t,e){if(t instanceof Tc&&(t=t._),null===t)return{nullValue:"NULL_VALUE"};if("number"==typeof t)return dh(e.Kt,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){var n=Uc.fromDate(t);return{timestampValue:Tf(e.Kt,n)}}if(t instanceof Uc)return n=new Uc(t.seconds,1e3*Math.floor(t.nanoseconds/1e3)),{timestampValue:Tf(e.Kt,n)};if(t instanceof jb)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Sc)return{bytesValue:If(e.Kt,t.l)};if(t instanceof xb){var r=t.firestore.I_;if(!r.isEqual(n=e.T))throw e.K_("Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return{referenceValue:Df(t.firestore.I_||e.T,t.S_.path)}}if(void 0===t&&e.ignoreUndefinedProperties)return null;throw e.K_("Unsupported field value: "+vb(t))}(t,e)}function Jb(t,e){var n={};return Zc(t)?e.path&&e.path.length>0&&e.zt.push(e.path):Kc(t,function(t,r){var i=Yb(r,e.L_(t));null!=i&&(n[t]=i)}),{mapValue:{fields:n}}}function Qb(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof Uc||t instanceof jb||t instanceof Sc||t instanceof xb||t instanceof db)}function Xb(t,e,n){if(!Qb(n)||!function(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}(n)){var r=vb(n);throw e.K_("an object"===r?t+" a custom object":t+" "+r)}}function ty(t,e,n){if(e instanceof Tc&&(e=e._),e instanceof fb)return e.d_;if("string"==typeof e)return ny(t,e);throw ry("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}var ey=new RegExp("[~\\*/\\[\\]]");function ny(t,e,n){if(e.search(ey)>=0)throw ry("Invalid field path ("+e+"). Paths must not contain '~', '*', '/', '[', or ']'",t,!1,void 0,n);try{return(new(fb.bind.apply(fb,Object(uc.g)([void 0],e.split("."))))).d_}catch(r){throw ry("Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",t,!1,void 0,n)}}function ry(t,e,n,r,i){var o=r&&!r.nt(),s=void 0!==i,a="Function "+e+"() called with invalid data";n&&(a+=" (via `toFirestore()`)");var u="";return(o||s)&&(u+=" (found",o&&(u+=" in field "+r),s&&(u+=" in document "+i),u+=")"),new xc(Cc.INVALID_ARGUMENT,(a+=". ")+t+u)}function iy(t,e){return t.some(function(t){return t.isEqual(e)})}var oy=function(){function t(t){this.Dh=t,this.Y_=new Map,this.mutations=[],this.X_=!1,this.Z_=null,this.tf=new Set}return t.prototype.ef=function(t){return Object(uc.b)(this,void 0,void 0,function(){var e,n=this;return Object(uc.d)(this,function(r){switch(r.label){case 0:if(this.nf(),this.mutations.length>0)throw new xc(Cc.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(t,e){return Object(uc.b)(this,void 0,void 0,function(){var n,r,i,o,s,a;return Object(uc.d)(this,function(u){switch(u.label){case 0:return n=bc(t),r=Vf(n.Kt)+"/documents",i={documents:e.map(function(t){return Nf(n.Kt,t)})},[4,n.Cu("BatchGetDocuments",r,i)];case 1:return o=u.sent(),s=new Map,o.forEach(function(t){var e=function(t,e){return"found"in e?function(t,e){mc(!!e.found);var n=Pf(t,e.found.name),r=Af(e.found.updateTime),i=new wl({mapValue:{fields:e.found.fields}});return new Cl(n,r,i,{})}(t,e):"missing"in e?function(t,e){mc(!!e.missing),mc(!!e.readTime);var n=Pf(t,e.missing),r=Af(e.readTime);return new xl(n,r)}(t,e):gc()}(n.Kt,t);s.set(e.key.toString(),e)}),a=[],[2,(e.forEach(function(t){var e=s.get(t.toString());mc(!!e),a.push(e)}),a)]}})})}(this.Dh,t)];case 1:return[2,((e=r.sent()).forEach(function(t){t instanceof xl||t instanceof Cl?n.sf(t):gc()}),e)]}})})},t.prototype.set=function(t,e){this.write(e.F_(t,this.Gt(t))),this.tf.add(t.toString())},t.prototype.update=function(t,e){try{this.write(e.F_(t,this.rf(t)))}catch(t){this.Z_=t}this.tf.add(t.toString())},t.prototype.delete=function(t){this.write(new Bh(t,this.Gt(t))),this.tf.add(t.toString())},t.prototype.commit=function(){return Object(uc.b)(this,void 0,void 0,function(){var t,e=this;return Object(uc.d)(this,function(n){switch(n.label){case 0:if(this.nf(),this.Z_)throw this.Z_;return t=this.Y_,this.mutations.forEach(function(e){t.delete(e.key.toString())}),t.forEach(function(t,n){var r=Gc.ft(n);e.mutations.push(new Wh(r,e.Gt(r)))}),[4,function(t,e){return Object(uc.b)(this,void 0,void 0,function(){var n,r,i;return Object(uc.d)(this,function(o){switch(o.label){case 0:return n=bc(t),r=Vf(n.Kt)+"/documents",i={writes:e.map(function(t){return Hf(n.Kt,t)})},[4,n.bu("Commit",r,i)];case 1:return o.sent(),[2]}})})}(this.Dh,this.mutations)];case 1:return n.sent(),this.X_=!0,[2]}})})},t.prototype.sf=function(t){var e;if(t instanceof Cl)e=t.version;else{if(!(t instanceof xl))throw gc();e=Hc.min()}var n=this.Y_.get(t.key.toString());if(n){if(!e.isEqual(n))throw new xc(Cc.ABORTED,"Document version changed between two reads.")}else this.Y_.set(t.key.toString(),e)},t.prototype.Gt=function(t){var e=this.Y_.get(t.toString());return!this.tf.has(t.toString())&&e?Ih.updateTime(e):Ih.Wt()},t.prototype.rf=function(t){var e=this.Y_.get(t.toString());if(!this.tf.has(t.toString())&&e){if(e.isEqual(Hc.min()))throw new xc(Cc.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Ih.updateTime(e)}return Ih.exists(!0)},t.prototype.write=function(t){this.nf(),this.mutations.push(t)},t.prototype.nf=function(){},t}(),sy=function(){function t(t,e,n,r){this.fs=t,this.Dh=e,this.updateFunction=n,this.Ts=r,this.cf=5,this.zu=new Mg(this.fs,"transaction_retry")}return t.prototype.run=function(){this.af()},t.prototype.af=function(){var t=this;this.zu.Bu(function(){return Object(uc.b)(t,void 0,void 0,function(){var t,e,n=this;return Object(uc.d)(this,function(r){return t=new oy(this.Dh),(e=this.uf(t))&&e.then(function(e){n.fs.ys(function(){return t.commit().then(function(){n.Ts.resolve(e)}).catch(function(t){n.hf(t)})})}).catch(function(t){n.hf(t)}),[2]})})})},t.prototype.uf=function(t){try{var e=this.updateFunction(t);return!il(e)&&e.catch&&e.then?e:(this.Ts.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.Ts.reject(t),null}},t.prototype.hf=function(t){var e=this;this.cf>0&&this.lf(t)?(this.cf-=1,this.fs.ys(function(){return e.af(),Promise.resolve()})):this.Ts.reject(t)},t.prototype.lf=function(t){if("FirebaseError"===t.name){var e=t.code;return"aborted"===e||"failed-precondition"===e||!$h(e)}return!1},t}(),ay=function(){function t(t,e,n){var r=this;this.credentials=t,this.fs=e,this.gu=n,this.user=Nc.UNAUTHENTICATED,this.clientId=vc.t(),this._f=function(){},this.N=new rd,this.credentials.S(function(t){hc("FirestoreClient","Received user=",t.uid),r.user=t,r._f(t),r.N.resolve()})}return t.prototype.getConfiguration=function(){return Object(uc.b)(this,void 0,void 0,function(){return Object(uc.d)(this,function(t){switch(t.label){case 0:return[4,this.N.promise];case 1:return[2,(t.sent(),{fs:this.fs,gu:this.gu,clientId:this.clientId,credentials:this.credentials,Yl:this.user,bl:100})]}})})},t.prototype.ff=function(t){var e=this;this._f=t,this.N.promise.then(function(){return e._f(e.user)})},t.prototype.df=function(){if(this.fs.wf)throw new xc(Cc.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.terminate=function(){var t=this;this.fs.Ef();var e=new rd;return this.fs.Tf(function(){return Object(uc.b)(t,void 0,void 0,function(){var t,n;return Object(uc.d)(this,function(r){switch(r.label){case 0:return r.trys.push([0,5,,6]),this.If?[4,this.If.terminate()]:[3,2];case 1:r.sent(),r.label=2;case 2:return this.mf?[4,this.mf.terminate()]:[3,4];case 3:r.sent(),r.label=4;case 4:return this.credentials.D(),e.resolve(),[3,6];case 5:return t=r.sent(),n=gd(t,"Failed to shutdown persistence"),e.reject(n),[3,6];case 6:return[2]}})})}),e.promise},t}();function uy(t,e){return Object(uc.b)(this,void 0,void 0,function(){var n,r,i=this;return Object(uc.d)(this,function(o){switch(o.label){case 0:return t.fs.Af(),hc("FirestoreClient","Initializing OfflineComponentProvider"),[4,t.getConfiguration()];case 1:return n=o.sent(),[4,e.initialize(n)];case 2:return o.sent(),r=n.Yl,t.ff(function(n){r.isEqual(n)||(r=n,t.fs.vo(function(){return Object(uc.b)(i,void 0,void 0,function(){return Object(uc.d)(this,function(t){switch(t.label){case 0:return[4,Kp(e.Sh,n)];case 1:return t.sent(),[2]}})})}))}),e.persistence.Vo(function(){return t.terminate()}),t.mf=e,[2]}})})}function cy(t,e){return Object(uc.b)(this,void 0,void 0,function(){var n,r;return Object(uc.d)(this,function(i){switch(i.label){case 0:return t.fs.Af(),[4,ly(t)];case 1:return n=i.sent(),hc("FirestoreClient","Initializing OnlineComponentProvider"),[4,t.getConfiguration()];case 2:return r=i.sent(),[4,e.initialize(n,r)];case 3:return i.sent(),t.ff(function(n){return t.fs.vo(function(){return function(t,e){return Object(uc.b)(this,void 0,void 0,function(){var n,r;return Object(uc.d)(this,function(i){switch(i.label){case 0:return(n=bc(t)).fs.Af(),hc("RemoteStore","RemoteStore received new credentials"),r=Jg(n),n.Fh.add(3),[4,Bg(n)];case 1:return i.sent(),r&&n.Mh.set("Unknown"),[4,n.Ch.s_(e)];case 2:return i.sent(),n.Fh.delete(3),[4,qg(n)];case 3:return i.sent(),[2]}})})}(e.gl,n)})}),t.If=e,[2]}})})}function ly(t){return Object(uc.b)(this,void 0,void 0,function(){return Object(uc.d)(this,function(e){switch(e.label){case 0:return t.mf?[3,2]:(hc("FirestoreClient","Using default OfflineComponentProvider"),[4,uy(t,new ab)]);case 1:e.sent(),e.label=2;case 2:return[2,t.mf]}})})}function hy(t){return Object(uc.b)(this,void 0,void 0,function(){return Object(uc.d)(this,function(e){switch(e.label){case 0:return t.If?[3,2]:(hc("FirestoreClient","Using default OnlineComponentProvider"),[4,cy(t,new lb)]);case 1:e.sent(),e.label=2;case 2:return[2,t.If]}})})}function fy(t){return ly(t).then(function(t){return t.persistence})}function dy(t){return ly(t).then(function(t){return t.Sh})}function py(t){return hy(t).then(function(t){return t.gl})}function gy(t){return hy(t).then(function(t){return t.fa})}function my(t){return Object(uc.b)(this,void 0,void 0,function(){var e,n;return Object(uc.d)(this,function(r){switch(r.label){case 0:return[4,hy(t)];case 1:return e=r.sent(),[2,((n=e.Vl).Gh=Am.bind(null,e.fa),n.Jh=jm.bind(null,e.fa),n)]}})})}function by(t,e,n){var r=this;void 0===n&&(n={});var i=new rd;return t.fs.ys(function(){return Object(uc.b)(r,void 0,void 0,function(){var r;return Object(uc.d)(this,function(o){switch(o.label){case 0:return r=function(t,e,n,r,i){var o=new hb({next:function(o){e.ys(function(){return bm(t,s)});var a=o.docs.has(n);!a&&o.fromCache?i.reject(new xc(Cc.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&o.fromCache&&r&&"server"===r.source?i.reject(new xc(Cc.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:function(t){return i.reject(t)}}),s=new _m(Zl(n.path),o,{includeMetadataChanges:!0,sl:!0});return mm(t,s)},[4,my(t)];case 1:return[2,r.apply(void 0,[o.sent(),t.fs,e,n,i])]}})})}),i.promise}function yy(t,e,n){var r=this;void 0===n&&(n={});var i=new rd;return t.fs.ys(function(){return Object(uc.b)(r,void 0,void 0,function(){var r;return Object(uc.d)(this,function(o){switch(o.label){case 0:return r=function(t,e,n,r,i){var o=new hb({next:function(n){e.ys(function(){return bm(t,s)}),n.fromCache&&"server"===r.source?i.reject(new xc(Cc.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(t){return i.reject(t)}}),s=new _m(n,o,{includeMetadataChanges:!0,sl:!0});return mm(t,s)},[4,my(t)];case 1:return[2,r.apply(void 0,[o.sent(),t.fs,e,n,i])]}})})}),i.promise}var vy=function(){function t(){var t=this;this.Rf=Promise.resolve(),this.Pf=[],this.yf=!1,this.gf=[],this.Vf=null,this.pf=!1,this.bf=[],this.zu=new Mg(this,"async_queue_retry"),this.vf=function(){var e=Pg();e&&hc("AsyncQueue","Visibility state changed to "+e.visibilityState),t.zu.Uu()};var e=Pg();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.vf)}return Object.defineProperty(t.prototype,"wf",{get:function(){return this.yf},enumerable:!1,configurable:!0}),t.prototype.ys=function(t){this.enqueue(t)},t.prototype.Tf=function(t){this.Sf(),this.Df(t)},t.prototype.Ef=function(){if(!this.yf){this.yf=!0;var t=Pg();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.vf)}},t.prototype.enqueue=function(t){return this.Sf(),this.yf?new Promise(function(t){}):this.Df(t)},t.prototype.vo=function(t){var e=this;this.ys(function(){return e.Pf.push(t),e.Cf()})},t.prototype.Cf=function(){return Object(uc.b)(this,void 0,void 0,function(){var t,e=this;return Object(uc.d)(this,function(n){switch(n.label){case 0:if(0===this.Pf.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.Pf[0]()];case 2:return n.sent(),this.Pf.shift(),this.zu.reset(),[3,4];case 3:if(!cd(t=n.sent()))throw t;return hc("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.Pf.length>0&&this.zu.Bu(function(){return e.Cf()}),n.label=5;case 5:return[2]}})})},t.prototype.Df=function(t){var e=this,n=this.Rf.then(function(){return e.pf=!0,t().catch(function(t){throw e.Vf=t,e.pf=!1,fc("INTERNAL UNHANDLED ERROR: ",function(t){var e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),e}(t)),t}).then(function(t){return e.pf=!1,t})});return this.Rf=n,n},t.prototype.mr=function(t,e,n){var r=this;this.Sf(),this.bf.indexOf(t)>-1&&(e=0);var i=pd.Is(this,t,e,n,function(t){return r.xf(t)});return this.gf.push(i),i},t.prototype.Sf=function(){this.Vf&&gc()},t.prototype.Af=function(){},t.prototype.Nf=function(){return Object(uc.b)(this,void 0,void 0,function(){var t;return Object(uc.d)(this,function(e){switch(e.label){case 0:return[4,t=this.Rf];case 1:e.sent(),e.label=2;case 2:if(t!==this.Rf)return[3,0];e.label=3;case 3:return[2]}})})},t.prototype.Ff=function(t){for(var e=0,n=this.gf;e<n.length;e++)if(n[e].ds===t)return!0;return!1},t.prototype.Of=function(t){var e=this;return this.Nf().then(function(){e.gf.sort(function(t,e){return t.ws-e.ws});for(var n=0,r=e.gf;n<r.length;n++){var i=r[n];if(i.Ps(),"all"!==t&&i.ds===t)break}return e.Nf()})},t.prototype.kf=function(t){this.bf.push(t)},t.prototype.xf=function(t){var e=this.gf.indexOf(t);this.gf.splice(e,1)},t}(),wy=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).Mf=new vy,r.w_="name"in e?e.name:"[DEFAULT]",r}return Object(uc.c)(e,t),e.prototype.b_=function(){return this.Lf||Oy(this),this.Lf.terminate()},e}(Cb);function _y(t){return t.Lf||Oy(t),t.Lf.df(),t.Lf}function Oy(t){var e=t.p_(),n=function(t,e,n){return new Dc(t,e,n.host,n.ssl,n.experimentalForceLongPolling,n.experimentalAutoDetectLongPolling)}(t.I_,t.w_,e);t.Lf=new ay(t.m_,t.Mf,n)}function Ey(t,e,n){var r=this,i=new rd;return t.fs.enqueue(function(){return Object(uc.b)(r,void 0,void 0,function(){var r;return Object(uc.d)(this,function(o){switch(o.label){case 0:return o.trys.push([0,3,,4]),[4,uy(t,n)];case 1:return o.sent(),[4,cy(t,e)];case 2:return o.sent(),i.resolve(),[3,4];case 3:if(!function(t){return"FirebaseError"===t.name?t.code===Cc.FAILED_PRECONDITION||t.code===Cc.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(r=o.sent()))throw r;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r),[3,4];case 4:return[2]}})})}).then(function(){return i.promise})}function Cy(t){if(t.R_||t.P_)throw new xc(Cc.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var xy=function(){function t(){}return t.prototype.$f=function(t,e){switch(void 0===e&&(e="none"),al(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Xc(t.integerValue||t.doubleValue);case 3:return this.Bf(t.timestampValue);case 4:return this.qf(t,e);case 5:return t.stringValue;case 6:return this.Uf(tl(t.bytesValue));case 7:return this.Qf(t.referenceValue);case 8:return this.Kf(t.geoPointValue);case 9:return this.Wf(t.arrayValue,e);case 10:return this.jf(t.mapValue,e);default:throw gc()}},t.prototype.jf=function(t,e){var n=this,r={};return Kc(t.fields||{},function(t,i){r[t]=n.$f(i,e)}),r},t.prototype.Kf=function(t){return new jb(Xc(t.latitude),Xc(t.longitude))},t.prototype.Wf=function(t,e){var n=this;return(t.values||[]).map(function(t){return n.$f(t,e)})},t.prototype.qf=function(t,e){switch(e){case"previous":var n=nl(t);return null==n?null:this.$f(n,e);case"estimate":return this.Bf(rl(t));default:return null}},t.prototype.Bf=function(t){var e=Qc(t);return new Uc(e.seconds,e.nanos)},t.prototype.Gf=function(t,e){var n=qc.ct(t);mc(nd(n));var r=new jc(n.get(1),n.get(3)),i=new Gc(n.X(5));return r.isEqual(e)||fc("Document "+i+" contains a document reference within a different database ("+r.projectId+"/"+r.database+") which is not supported. It will be treated as a reference in the current database ("+e.projectId+"/"+e.database+") instead."),i},t}(),Sy=function(){function t(t,e,n,r,i){this.zf=t,this.Hf=e,this.S_=n,this.Jf=r,this.v_=i}return Object.defineProperty(t.prototype,"id",{get:function(){return this.S_.path.et()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new xb(this.zf,this.v_,this.S_)},enumerable:!1,configurable:!0}),t.prototype.exists=function(){return null!==this.Jf},t.prototype.data=function(){if(this.Jf){if(this.v_){var t=new Ty(this.zf,this.Hf,this.S_,this.Jf,null);return this.v_.fromFirestore(t)}return this.Hf.$f(this.Jf.vt())}},t.prototype.get=function(t){if(this.Jf){var e=this.Jf.data().field(Iy("DocumentSnapshot.get",t));if(null!==e)return this.Hf.$f(e)}},t}(),Ty=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(uc.c)(e,t),e.prototype.data=function(){return t.prototype.data.call(this)},e}(Sy);function Iy(t,e){return"string"==typeof e?ny(t,e):e instanceof Tc?e._.d_:e.d_}function ky(t){if(Jl(t)&&0===t.Nt.length)throw new xc(Cc.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Ay=function(){};function Dy(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0,i=e;r<i.length;r++){var o=i[r];t=o.Yf(t)}return t}var jy=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Xf=e,i.Zf=n,i.td=r,i.type="where",i}return Object(uc.c)(e,t),e.prototype.Yf=function(t){var e=Fb(t.firestore),n=function(t,e,n,r,i,o,s){var a;if(i.ht()){if("array-contains"===o||"array-contains-any"===o)throw new xc(Cc.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+o+"' queries on FieldPath.documentId().");if("in"===o||"not-in"===o){Fy(s,o);for(var u=[],c=0,l=s;c<l.length;c++)u.push(Ly(r,t,l[c]));a={arrayValue:{values:u}}}else a=Ly(r,t,s)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||Fy(s,o),a=Zb(n,"where",s,"in"===o||"not-in"===o);var h=jl.create(i,o,a);return function(t,e){if(e.xt()){var n=Xl(t);if(null!==n&&!n.isEqual(e.field))throw new xc(Cc.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+e.field.toString()+"'");var r=Ql(t);null!==r&&Uy(0,e.field,r)}var i=function(t,e){for(var n=0,r=t.filters;n<r.length;n++){var i=r[n];if(e.indexOf(i.op)>=0)return i.op}return null}(t,function(t){switch(t){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==i)throw new xc(Cc.INVALID_ARGUMENT,i===e.op?"Invalid query. You cannot use more than one '"+e.op.toString()+"' filter.":"Invalid query. You cannot use '"+e.op.toString()+"' filters with '"+i.toString()+"' filters.")}(t,h),h}(t.C_,0,e,t.firestore.I_,this.Xf,this.Zf,this.td);return new Sb(t.firestore,t.v_,function(t,e){var n=t.filters.concat([e]);return new $l(t.path,t.collectionGroup,t.Nt.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}(t.C_,n))},e}(Ay),Ny=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Xf=e,r.ed=n,r.type="orderBy",r}return Object(uc.c)(e,t),e.prototype.Yf=function(t){var e=function(t,e,n){if(null!==t.startAt)throw new xc(Cc.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==t.endAt)throw new xc(Cc.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new ql(e,n);return function(t,e){if(null===Ql(t)){var n=Xl(t);null!==n&&Uy(0,n,e.field)}}(t,r),r}(t.C_,this.Xf,this.ed);return new Sb(t.firestore,t.v_,function(t,e){var n=t.Nt.concat([e]);return new $l(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(t.C_,e))},e}(Ay),Py=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.nd=n,i.sd=r,i}return Object(uc.c)(e,t),e.prototype.Yf=function(t){return new Sb(t.firestore,t.v_,rh(t.C_,this.nd,this.sd))},e}(Ay),Ry=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.rd=n,i.od=r,i}return Object(uc.c)(e,t),e.prototype.Yf=function(t){var e=Vy(t,this.type,this.rd,this.od);return new Sb(t.firestore,t.v_,function(t,e){return new $l(t.path,t.collectionGroup,t.Nt.slice(),t.filters.slice(),t.limit,t.limitType,e,t.endAt)}(t.C_,e))},e}(Ay),My=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.rd=n,i.od=r,i}return Object(uc.c)(e,t),e.prototype.Yf=function(t){var e=Vy(t,this.type,this.rd,this.od);return new Sb(t.firestore,t.v_,function(t,e){return new $l(t.path,t.collectionGroup,t.Nt.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,e)}(t.C_,e))},e}(Ay);function Vy(t,e,n,r){if(n[0]instanceof Tc&&(n[0]=n[0]._),n[0]instanceof Sy)return function(t,e,n,r,i){if(!r)throw new xc(Cc.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var o=[],s=0,a=eh(t);s<a.length;s++){var u=a[s];if(u.field.ht())o.push(pl(e,r.key));else{var c=r.field(u.field);if(el(c))throw new xc(Cc.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=u.field.ot();throw new xc(Cc.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+l+"' (used as the orderBy) does not exist.")}o.push(c)}}return new Hl(o,i)}(t.C_,t.firestore.I_,e,n[0].Jf,r);var i=Fb(t.firestore);return function(t,e,n,r,i,o){var s=t.Nt;if(i.length>s.length)throw new xc(Cc.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var a=[],u=0;u<i.length;u++){var c=i[u];if(s[u].field.ht()){if("string"!=typeof c)throw new xc(Cc.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof c);if(!th(t)&&-1!==c.indexOf("/"))throw new xc(Cc.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+c+"' contains a slash.");var l=t.path.child(qc.ct(c));if(!Gc.Et(l))throw new xc(Cc.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+l+"' is not because it contains an odd number of segments.");var h=new Gc(l);a.push(pl(e,h))}else{var f=Zb(n,r,c);a.push(f)}}return new Hl(a,o)}(t.C_,t.firestore.I_,i,e,n,r)}function Ly(t,e,n){if(n instanceof Tc&&(n=n._),"string"==typeof n){if(""===n)throw new xc(Cc.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!th(e)&&-1!==n.indexOf("/"))throw new xc(Cc.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=e.path.child(qc.ct(n));if(!Gc.Et(r))throw new xc(Cc.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return pl(t,new Gc(r))}if(n instanceof xb)return pl(t,n.S_);throw new xc(Cc.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+vb(n)+".")}function Fy(t,e){if(!Array.isArray(t)||0===t.length)throw new xc(Cc.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new xc(Cc.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.")}function Uy(t,e,n){if(!n.isEqual(e))throw new xc(Cc.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}function Hy(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=t,r=0,i=["next","error","complete"];r<i.length;r++){var o=i[r];if(o in n&&"function"==typeof n[o])return!0}return!1}(t)}function zy(t,e,n){return t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e}var qy=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(uc.c)(e,t),e.prototype.Uf=function(t){return new Sc(t)},e.prototype.Qf=function(t){var e=this.Gf(t,this.firestore.I_);return new xb(this.firestore,null,e)},e}(xy),By=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),Wy=function(t){function e(e,n,r,i,o,s){var a=this;return(a=t.call(this,e,n,r,i,s)||this).zf=e,a.ad=e,a.metadata=o,a}return Object(uc.c)(e,t),e.prototype.exists=function(){return t.prototype.exists.call(this)},e.prototype.data=function(t){if(void 0===t&&(t={}),this.Jf){if(this.v_){var e=new Gy(this.zf,this.Hf,this.S_,this.Jf,this.metadata,null);return this.v_.fromFirestore(e,t)}return this.Hf.$f(this.Jf.vt(),t.serverTimestamps)}},e.prototype.get=function(t,e){if(void 0===e&&(e={}),this.Jf){var n=this.Jf.data().field(Iy("DocumentSnapshot.get",t));if(null!==n)return this.Hf.$f(n,e.serverTimestamps)}},e}(Sy),Gy=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(uc.c)(e,t),e.prototype.data=function(e){return void 0===e&&(e={}),t.prototype.data.call(this,e)},e}(Wy),$y=function(){function t(t,e,n,r){this.zf=t,this.Hf=e,this.ud=r,this.metadata=new By(r.hasPendingWrites,r.fromCache),this.query=n}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach(function(e){return t.push(e)}),t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this.ud.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;this.ud.docs.forEach(function(r){t.call(e,new Gy(n.zf,n.Hf,r.key,r,new By(n.ud.Ce.has(r.key),n.ud.fromCache),n.query.v_))})},t.prototype.docChanges=function(t){void 0===t&&(t={});var e=!!t.includeMetadataChanges;if(e&&this.ud.Ne)throw new xc(Cc.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this.hd&&this.ld===e||(this.hd=function(t,e){if(t.ud.De.nt()){var n=0;return t.ud.docChanges.map(function(e){return{type:"added",doc:new Gy(t.zf,t.Hf,e.doc.key,e.doc,new By(t.ud.Ce.has(e.doc.key),t.ud.fromCache),t.query.v_),oldIndex:-1,newIndex:n++}})}var r=t.ud.De;return t.ud.docChanges.filter(function(t){return e||3!==t.type}).map(function(e){var n=new Gy(t.zf,t.Hf,e.doc.key,e.doc,new By(t.ud.Ce.has(e.doc.key),t.ud.fromCache),t.query.v_),i=-1,o=-1;return 0!==e.type&&(i=r.indexOf(e.doc.key),r=r.delete(e.doc.key)),1!==e.type&&(o=(r=r.add(e.doc)).indexOf(e.doc.key)),{type:Ky(e.type),doc:n,oldIndex:i,newIndex:o}})}(this,e),this.ld=e),this.hd},t}();function Ky(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return gc()}}function Zy(t,e){return t instanceof Wy&&e instanceof Wy?t.zf===e.zf&&t.S_.isEqual(e.S_)&&(null===t.Jf?null===e.Jf:t.Jf.isEqual(e.Jf))&&t.v_===e.v_:t instanceof $y&&e instanceof $y&&t.zf===e.zf&&Db(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t.ud.isEqual(e.ud)}var Yy=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(uc.c)(e,t),e.prototype.Uf=function(t){return new Sc(t)},e.prototype.Qf=function(t){var e=this.Gf(t,this.firestore.I_);return new xb(this.firestore,null,e)},e}(xy);function Jy(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];t=wb(t,xb);var o=wb(t.firestore,wy),s=Fb(o);return e instanceof Tc&&(e=e._),Xy(o,[("string"==typeof e||e instanceof fb?Kb(s,"updateDoc",t.S_,e,n,r):$b(s,"updateDoc",t.S_,e)).F_(t.S_,Ih.exists(!0))])}function Qy(t){for(var e,n,r,i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];t instanceof Tc&&(t=t._);var s={includeMetadataChanges:!1},a=0;"object"!=typeof i[a]||Hy(i[a])||(s=i[a],a++);var u,c,l,h={includeMetadataChanges:s.includeMetadataChanges};if(Hy(i[a])){var f=i[a];i[a]=null===(e=f.next)||void 0===e?void 0:e.bind(f),i[a+1]=null===(n=f.error)||void 0===n?void 0:n.bind(f),i[a+2]=null===(r=f.complete)||void 0===r?void 0:r.bind(f)}if(t instanceof xb)c=wb(t.firestore,wy),l=Zl(t.S_.path),u={next:function(e){i[a]&&i[a](tv(c,t,e))},error:i[a+1],complete:i[a+2]};else{var d=wb(t,Sb);c=wb(d.firestore,wy),l=d.C_;var p=new Yy(c);u={next:function(t){i[a]&&i[a](new $y(c,p,d,t))},error:i[a+1],complete:i[a+2]},ky(t.C_)}return function(t,e,n,r){var i=this,o=new hb(r),s=new _m(e,o,n);return t.fs.ys(function(){return Object(uc.b)(i,void 0,void 0,function(){var e;return Object(uc.d)(this,function(n){switch(n.label){case 0:return e=mm,[4,my(t)];case 1:return[2,e.apply(void 0,[n.sent(),s])]}})})}),function(){o.r_(),t.fs.ys(function(){return Object(uc.b)(i,void 0,void 0,function(){var e;return Object(uc.d)(this,function(n){switch(n.label){case 0:return e=bm,[4,my(t)];case 1:return[2,e.apply(void 0,[n.sent(),s])]}})})})}}(_y(c),l,h,u)}function Xy(t,e){return function(t,e){var n=this,r=new rd;return t.fs.ys(function(){return Object(uc.b)(n,void 0,void 0,function(){var n;return Object(uc.d)(this,function(i){switch(i.label){case 0:return n=Nm,[4,gy(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(_y(t),e)}function tv(t,e,n){var r=n.docs.get(e.S_),i=new Yy(t);return new Wy(t,i,e.S_,r,new By(n.hasPendingWrites,n.fromCache),e.v_)}var ev=function(){function t(t,e){this.zf=t,this._d=e,this.fd=[],this.dd=!1,this.wd=Fb(t)}return t.prototype.set=function(t,e,n){this.Ed();var r=nv(t,this.zf),i=zy(r.v_,e,n),o=Ub(this.wd,"WriteBatch.set",r.S_,i,null!==r.v_,n);return this.fd.push(o.F_(r.S_,Ih.Wt())),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];this.Ed();var o,s=nv(t,this.zf);return e instanceof Tc&&(e=e._),o="string"==typeof e||e instanceof fb?Kb(this.wd,"WriteBatch.update",s.S_,e,n,r):$b(this.wd,"WriteBatch.update",s.S_,e),this.fd.push(o.F_(s.S_,Ih.exists(!0))),this},t.prototype.delete=function(t){this.Ed();var e=nv(t,this.zf);return this.fd=this.fd.concat(new Bh(e.S_,Ih.Wt())),this},t.prototype.commit=function(){return this.Ed(),this.dd=!0,this.fd.length>0?this._d(this.fd):Promise.resolve()},t.prototype.Ed=function(){if(this.dd)throw new xc(Cc.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}();function nv(t,e){if(t instanceof Tc&&(t=t._),t.firestore!==e)throw new xc(Cc.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}var rv=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).zf=e,r}return Object(uc.c)(e,t),e.prototype.get=function(e){var n=this,r=nv(e,this.zf),i=new Yy(this.zf);return t.prototype.get.call(this,e).then(function(t){return new Wy(n.zf,i,r.S_,t.Jf,new By(!1,!1),r.v_)})},e}(function(){function t(t,e){this.zf=t,this.Td=e,this.wd=Fb(t)}return t.prototype.get=function(t){var e=this,n=nv(t,this.zf),r=new qy(this.zf);return this.Td.ef([n.S_]).then(function(t){if(!t||1!==t.length)return gc();var i=t[0];if(i instanceof xl)return new Sy(e.zf,r,n.S_,null,n.v_);if(i instanceof Cl)return new Sy(e.zf,r,i.key,i,n.v_);throw gc()})},t.prototype.set=function(t,e,n){var r=nv(t,this.zf),i=zy(r.v_,e,n),o=Ub(this.wd,"Transaction.set",r.S_,i,null!==r.v_,n);return this.Td.set(r.S_,o),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var o,s=nv(t,this.zf);return e instanceof Tc&&(e=e._),o="string"==typeof e||e instanceof fb?Kb(this.wd,"Transaction.update",s.S_,e,n,r):$b(this.wd,"Transaction.update",s.S_,e),this.Td.update(s.S_,o),this},t.prototype.delete=function(t){var e=nv(t,this.zf);return this.Td.delete(e.S_),this},t}()),iv=function(){function t(){}return t.prototype.enableIndexedDbPersistence=function(t,e){return function(t,e){Cy(t=wb(t,wy));var n=_y(t),r=t.p_(),i=new lb;return Ey(n,i,new ub(i,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(t._,{forceOwnership:e})},t.prototype.enableMultiTabIndexedDbPersistence=function(t){return function(t){Cy(t=wb(t,wy));var e=_y(t),n=t.p_(),r=new lb;return Ey(e,r,new cb(r,n.cacheSizeBytes))}(t._)},t.prototype.clearIndexedDbPersistence=function(t){return function(t){var e=this;if(t.R_&&!t.P_)throw new xc(Cc.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var n=new rd;return t.Mf.Tf(function(){return Object(uc.b)(e,void 0,void 0,function(){var e;return Object(uc.d)(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(t){return Object(uc.b)(this,void 0,void 0,function(){return Object(uc.d)(this,function(e){switch(e.label){case 0:return sd.Wn()?[4,sd.delete(t+"main")]:[2,Promise.resolve()];case 1:return e.sent(),[2]}})})}(zp(t.I_,t.w_))];case 1:return r.sent(),n.resolve(),[3,3];case 2:return e=r.sent(),n.reject(e),[3,3];case 3:return[2]}})})}),n.promise}(t._)},t}(),ov=function(t){function e(e,n,r){var i=this;return(i=t.call(this,n)||this).Id=r,i.INTERNAL={delete:function(){return i.terminate()}},e instanceof jc||(i.md=e),i}return Object(uc.c)(e,t),Object.defineProperty(e.prototype,"I_",{get:function(){return this._.I_},enumerable:!1,configurable:!0}),e.prototype.settings=function(t){t.merge&&delete(t=Object.assign(Object.assign({},this._.V_()),t)).merge,this._.g_(t)},e.prototype.useEmulator=function(t,e){"firestore.googleapis.com"!==this._.V_().host&&dc("Host has been set in both settings() and useEmulator(), emulator host will be used"),this.settings({host:t+":"+e,ssl:!1,merge:!0})},e.prototype.enableNetwork=function(){return function(t){var e=this;return t.fs.enqueue(function(){return Object(uc.b)(e,void 0,void 0,function(){var e,n;return Object(uc.d)(this,function(r){switch(r.label){case 0:return[4,fy(t)];case 1:return e=r.sent(),[4,py(t)];case 2:return n=r.sent(),[2,(e.po(!0),function(t){var e=bc(t);return e.Fh.delete(0),qg(e)}(n))]}})})})}(_y(wb(this._,wy)))},e.prototype.disableNetwork=function(){return function(t){var e=this;return t.fs.enqueue(function(){return Object(uc.b)(e,void 0,void 0,function(){var e,n;return Object(uc.d)(this,function(r){switch(r.label){case 0:return[4,fy(t)];case 1:return e=r.sent(),[4,py(t)];case 2:return n=r.sent(),[2,(e.po(!1),function(t){return Object(uc.b)(this,void 0,void 0,function(){var e;return Object(uc.d)(this,function(n){switch(n.label){case 0:return(e=bc(t)).Fh.add(0),[4,Bg(e)];case 1:return n.sent(),e.Mh.set("Offline"),[2]}})})}(n))]}})})})}(_y(wb(this._,wy)))},e.prototype.enablePersistence=function(t){var e=!1,n=!1;return t&&mb("synchronizeTabs",e=!!t.synchronizeTabs,"experimentalForceOwningTab",n=!!t.experimentalForceOwningTab),e?this.Id.enableMultiTabIndexedDbPersistence(this):this.Id.enableIndexedDbPersistence(this,n)},e.prototype.clearPersistence=function(){return this.Id.clearIndexedDbPersistence(this)},e.prototype.terminate=function(){return this.app._removeServiceInstance("firestore"),this.app._removeServiceInstance("firestore-exp"),this._._delete()},e.prototype.waitForPendingWrites=function(){return function(t){var e=this,n=new rd;return t.fs.ys(function(){return Object(uc.b)(e,void 0,void 0,function(){var e;return Object(uc.d)(this,function(r){switch(r.label){case 0:return e=Fm,[4,gy(t)];case 1:return[2,e.apply(void 0,[r.sent(),n])]}})})}),n.promise}(_y(wb(this._,wy)))},e.prototype.onSnapshotsInSync=function(t){return function(t,e){return function(t,e){var n=this,r=new hb(e);return t.fs.ys(function(){return Object(uc.b)(n,void 0,void 0,function(){var e;return Object(uc.d)(this,function(n){switch(n.label){case 0:return e=function(t,e){bc(t).jh.add(e),e.next()},[4,my(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}})})}),function(){r.r_(),t.fs.ys(function(){return Object(uc.b)(n,void 0,void 0,function(){var e;return Object(uc.d)(this,function(n){switch(n.label){case 0:return e=function(t,e){bc(t).jh.delete(e)},[4,my(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}})})})}}(_y(t=wb(t,wy)),Hy(e)?e:{next:e})}(this._,t)},Object.defineProperty(e.prototype,"app",{get:function(){if(!this.md)throw new xc(Cc.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.md},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new yv(this,Ib(this._,t))}catch(t){throw lv(t,"collection()","Firestore.collection()")}},e.prototype.doc=function(t){try{return new cv(this,kb(this._,t))}catch(t){throw lv(t,"doc()","Firestore.doc()")}},e.prototype.collectionGroup=function(t){try{return new gv(this,function(t,e){if(t=wb(t,Cb),pb("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new xc(Cc.INVALID_ARGUMENT,"Invalid collection ID '"+e+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new Sb(t,null,function(t){return new $l(qc.at(),t)}(e))}(this._,t))}catch(t){throw lv(t,"collectionGroup()","Firestore.collectionGroup()")}},e.prototype.runTransaction=function(t){var e=this;return function(t,e){return function(t,e){var n=this,r=new rd;return t.fs.ys(function(){return Object(uc.b)(n,void 0,void 0,function(){var n;return Object(uc.d)(this,function(i){switch(i.label){case 0:return[4,function(t){return hy(t).then(function(t){return t.Dh})}(t)];case 1:return n=i.sent(),new sy(t.fs,n,e,r).run(),[2]}})})}),r.promise}(_y(t),function(n){return e(new rv(t,n))})}(this._,function(n){return t(new av(e,n))})},e.prototype.batch=function(){var t=this;return _y(this._),new uv(new ev(this._,function(e){return Xy(t._,e)}))},e.prototype.loadBundle=function(t){throw new xc(Cc.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},e.prototype.namedQuery=function(t){throw new xc(Cc.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},e}(Tc),sv=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(uc.c)(e,t),e.prototype.Uf=function(t){return new Ac(new Sc(t))},e.prototype.Qf=function(t){var e=this.Gf(t,this.firestore.I_);return cv.Ad(e,this.firestore,null)},e}(xy),av=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).zf=e,r}return Object(uc.c)(e,t),e.prototype.get=function(t){var e=this,n=vv(t);return this._.get(n).then(function(t){return new dv(e.zf,t)})},e.prototype.set=function(t,e,n){var r=vv(t);return n?(gb("Transaction.set",n),this._.set(r,e,n)):this._.set(r,e),this},e.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var s=vv(t);return 2===arguments.length?this._.update(s,e):(r=this._).update.apply(r,Object(uc.g)([s,e,n],i)),this},e.prototype.delete=function(t){var e=vv(t);return this._.delete(e),this},e}(Tc),uv=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(uc.c)(e,t),e.prototype.set=function(t,e,n){var r=vv(t);return n?(gb("WriteBatch.set",n),this._.set(r,e,n)):this._.set(r,e),this},e.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var s=vv(t);return 2===arguments.length?this._.update(s,e):(r=this._).update.apply(r,Object(uc.g)([s,e,n],i)),this},e.prototype.delete=function(t){var e=vv(t);return this._.delete(e),this},e.prototype.commit=function(){return this._.commit()},e}(Tc),cv=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).firestore=e,r.Hf=new sv(e),r}return Object(uc.c)(e,t),e.Rd=function(t,n,r){if(t.length%2!=0)throw new xc(Cc.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t.ot()+" has "+t.length);return new e(n,new xb(n._,r,new Gc(t)))},e.Ad=function(t,n,r){return new e(n,new xb(n._,r,t))},Object.defineProperty(e.prototype,"id",{get:function(){return this._.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new yv(this.firestore,this._.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._.path},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new yv(this.firestore,Ib(this._,t))}catch(t){throw lv(t,"collection()","DocumentReference.collection()")}},e.prototype.isEqual=function(t){return t instanceof Tc&&(t=t._),t instanceof xb&&Ab(this._,t)},e.prototype.set=function(t,e){e=gb("DocumentReference.set",e);try{return function(t,e,n){t=wb(t,xb);var r=wb(t.firestore,wy),i=zy(t.v_,e,n);return Xy(r,[Ub(Fb(r),"setDoc",t.S_,i,null!==t.v_,n).F_(t.S_,Ih.Wt())])}(this._,t,e)}catch(t){throw lv(t,"setDoc()","DocumentReference.set()")}},e.prototype.update=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];try{return 1===arguments.length?Jy(this._,t):Jy.apply(void 0,Object(uc.g)([this._,t,e],n))}catch(t){throw lv(t,"updateDoc()","DocumentReference.update()")}},e.prototype.delete=function(){return Xy(wb((t=this._).firestore,wy),[new Bh(t.S_,Ih.Wt())]);var t},e.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=hv(e),i=fv(e,function(e){return new dv(t.firestore,new Wy(t.firestore._,t.Hf,e.S_,e.Jf,e.metadata,t._.v_))});return Qy(this._,r,i)},e.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=wb(t,xb);var e=wb(t.firestore,wy),n=_y(e),r=new Yy(e);return function(t,e){var n=this,r=new rd;return t.fs.ys(function(){return Object(uc.b)(n,void 0,void 0,function(){var n;return Object(uc.d)(this,function(i){switch(i.label){case 0:return n=function(t,e,n){return Object(uc.b)(this,void 0,void 0,function(){var r,i;return Object(uc.d)(this,function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,function(t,e){var n=bc(t);return n.persistence.runTransaction("read document","readonly",function(t){return n.Ic.Jo(t,e)})}(t,e)];case 1:return(i=o.sent())instanceof Cl?n.resolve(i):i instanceof xl?n.resolve(null):n.reject(new xc(Cc.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return r=o.sent(),i=gd(r,"Failed to get document '"+e+" from cache"),n.reject(i),[3,3];case 3:return[2]}})})},[4,dy(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(n,t.S_).then(function(n){return new Wy(e,r,t.S_,n,new By(n instanceof Cl&&n.bt,!0),t.v_)})}(this._):"server"===(null==t?void 0:t.source)?function(t){t=wb(t,xb);var e=wb(t.firestore,wy);return by(_y(e),t.S_,{source:"server"}).then(function(n){return tv(e,t,n)})}(this._):function(t){t=wb(t,xb);var e=wb(t.firestore,wy);return by(_y(e),t.S_).then(function(n){return tv(e,t,n)})}(this._)).then(function(t){return new dv(e.firestore,new Wy(e.firestore._,e.Hf,t.S_,t.Jf,t.metadata,e._.v_))})},e.prototype.withConverter=function(t){return new e(this.firestore,this._.withConverter(t))},e}(Tc);function lv(t,e,n){return t.message=t.message.replace(e,n),t}function hv(t){for(var e=0,n=t;e<n.length;e++){var r=n[e];if("object"==typeof r&&!Hy(r))return r}return{}}function fv(t,e){var n,r,i;return{next:function(t){i.next&&i.next(e(t))},error:null===(n=(i=Hy(t[0])?t[0]:Hy(t[1])?t[1]:"function"==typeof t[0]?{next:t[0],error:t[1],complete:t[2]}:{next:t[1],error:t[2],complete:t[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var dv=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).zf=e,r}return Object(uc.c)(e,t),Object.defineProperty(e.prototype,"ref",{get:function(){return new cv(this.zf,this._.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"exists",{get:function(){return this._.exists()},enumerable:!1,configurable:!0}),e.prototype.data=function(t){return this._.data(t)},e.prototype.get=function(t,e){return this._.get(t,e)},e.prototype.isEqual=function(t){return Zy(this._,t._)},e}(Tc),pv=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(uc.c)(e,t),e.prototype.data=function(t){return this._.data(t)},e}(dv),gv=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).firestore=e,r.Hf=new sv(e),r}return Object(uc.c)(e,t),e.prototype.where=function(t,n,r){try{return new e(this.firestore,Dy(this._,function(t,e,n){var r=e,i=Iy("where",t);return new jy(i,r,n)}(t,n,r)))}catch(t){throw lv(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.orderBy=function(t,n){try{return new e(this.firestore,Dy(this._,function(t,e){void 0===e&&(e="asc");var n=e,r=Iy("orderBy",t);return new Ny(r,n)}(t,n)))}catch(t){throw lv(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.limit=function(t){try{return new e(this.firestore,Dy(this._,function(t){return _b("limit",t),new Py("limit",t,"F")}(t)))}catch(t){throw lv(t,"limit()","Query.limit()")}},e.prototype.limitToLast=function(t){try{return new e(this.firestore,Dy(this._,function(t){return _b("limitToLast",t),new Py("limitToLast",t,"L")}(t)))}catch(t){throw lv(t,"limitToLast()","Query.limitToLast()")}},e.prototype.startAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Dy(this._,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Ry("startAt",t,!0)}).apply(void 0,t)))}catch(t){throw lv(t,"startAt()","Query.startAt()")}},e.prototype.startAfter=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Dy(this._,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Ry("startAfter",t,!1)}).apply(void 0,t)))}catch(t){throw lv(t,"startAfter()","Query.startAfter()")}},e.prototype.endBefore=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Dy(this._,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new My("endBefore",t,!0)}).apply(void 0,t)))}catch(t){throw lv(t,"endBefore()","Query.endBefore()")}},e.prototype.endAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Dy(this._,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new My("endAt",t,!1)}).apply(void 0,t)))}catch(t){throw lv(t,"endAt()","Query.endAt()")}},e.prototype.isEqual=function(t){return Db(this._,t._)},e.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=wb(t,Sb);var e=wb(t.firestore,wy),n=_y(e),r=new Yy(e);return function(t,e){var n=this,r=new rd;return t.fs.ys(function(){return Object(uc.b)(n,void 0,void 0,function(){var n;return Object(uc.d)(this,function(i){switch(i.label){case 0:return n=function(t,e,n){return Object(uc.b)(this,void 0,void 0,function(){var r,i,o,s,a;return Object(uc.d)(this,function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),[4,ng(t,e,!0)];case 1:return a=u.sent(),r=new Sm(e,a.Pc),i=r.dl(a.documents),o=r.Ti(i,!1),n.resolve(o.snapshot),[3,3];case 2:return s=u.sent(),a=gd(s,"Failed to execute query '"+e+" against cache"),n.reject(a),[3,3];case 3:return[2]}})})},[4,dy(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(n,t.C_).then(function(n){return new $y(e,r,t,n)})}(this._):"server"===(null==t?void 0:t.source)?function(t){t=wb(t,Sb);var e=wb(t.firestore,wy),n=_y(e),r=new Yy(e);return yy(n,t.C_,{source:"server"}).then(function(n){return new $y(e,r,t,n)})}(this._):function(t){t=wb(t,Sb);var e=wb(t.firestore,wy),n=_y(e),r=new Yy(e);return ky(t.C_),yy(n,t.C_).then(function(n){return new $y(e,r,t,n)})}(this._)).then(function(t){return new bv(e.firestore,new $y(e.firestore._,e.Hf,e._,t.ud))})},e.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=hv(e),i=fv(e,function(e){return new bv(t.firestore,new $y(t.firestore._,t.Hf,t._,e.ud))});return Qy(this._,r,i)},e.prototype.withConverter=function(t){return new e(this.firestore,this._.withConverter(t))},e}(Tc),mv=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).zf=e,r}return Object(uc.c)(e,t),Object.defineProperty(e.prototype,"type",{get:function(){return this._.type},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"doc",{get:function(){return new pv(this.zf,this._.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"oldIndex",{get:function(){return this._.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"newIndex",{get:function(){return this._.newIndex},enumerable:!1,configurable:!0}),e}(Tc),bv=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).zf=e,r}return Object(uc.c)(e,t),Object.defineProperty(e.prototype,"query",{get:function(){return new gv(this.zf,this._.query)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this._.empty},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"docs",{get:function(){var t=this;return this._.docs.map(function(e){return new pv(t.zf,e)})},enumerable:!1,configurable:!0}),e.prototype.docChanges=function(t){var e=this;return this._.docChanges(t).map(function(t){return new mv(e.zf,t)})},e.prototype.forEach=function(t,e){var n=this;this._.forEach(function(r){t.call(e,new pv(n.zf,r))})},e.prototype.isEqual=function(t){return Zy(this._,t._)},e}(Tc),yv=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).firestore=e,r._=n,r}return Object(uc.c)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._.parent;return t?new cv(this.firestore,t):null},enumerable:!1,configurable:!0}),e.prototype.doc=function(t){try{return new cv(this.firestore,void 0===t?kb(this._):kb(this._,t))}catch(t){throw lv(t,"doc()","CollectionReference.doc()")}},e.prototype.add=function(t){var e=this;return function(t,e){var n=wb(t.firestore,wy),r=kb(t),i=zy(t.v_,e);return Xy(n,[Ub(Fb(t.firestore),"addDoc",r.S_,i,null!==t.v_,{}).F_(r.S_,Ih.exists(!1))]).then(function(){return r})}(this._,t).then(function(t){return new cv(e.firestore,t)})},e.prototype.isEqual=function(t){return Ab(this._,t._)},e.prototype.withConverter=function(t){return new e(this.firestore,this._.withConverter(t))},e}(gv);function vv(t){return t instanceof Tc&&(t=t._),wb(t,xb)}var wv=function(t){function e(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return t.call(this,new(fb.bind.apply(fb,Object(uc.g)([void 0],e))))||this}return Object(uc.c)(e,t),e.documentId=function(){return new e(Wc.lt().ot())},e.prototype.isEqual=function(t){return t instanceof Tc&&(t=t._),t instanceof fb&&this._.d_.isEqual(t.d_)},e}(Tc),_v=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(uc.c)(e,t),e.serverTimestamp=function(){var t=new qb("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)},e.delete=function(){var t=new Hb("deleteField");return t._methodName="FieldValue.delete",new e(t)},e.arrayUnion=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Bb("arrayUnion",t)}).apply(void 0,t);return r._methodName="FieldValue.arrayUnion",new e(r)},e.arrayRemove=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Wb("arrayRemove",t)}).apply(void 0,t);return r._methodName="FieldValue.arrayRemove",new e(r)},e.increment=function(t){var n=function(t){return new Gb("increment",t)}(t);return n._methodName="FieldValue.increment",new e(n)},e.prototype.isEqual=function(t){return this._.isEqual(t._)},e}(Tc);!function(){function t(){this.Pd={},this.yd=new rd,this.gd={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}t.prototype.onProgress=function(t,e,n){this.Pd={next:t,error:e,complete:n}},t.prototype.catch=function(t){return this.yd.promise.catch(t)},t.prototype.then=function(t,e){return this.yd.promise.then(t,e)},t.prototype.Ul=function(t){this.Ql(t),this.Pd.complete&&this.Pd.complete(),this.yd.resolve(t)},t.prototype.Wl=function(t){this.gd.taskState="Error",this.Pd.next&&this.Pd.next(this.gd),this.Pd.error&&this.Pd.error(t),this.yd.reject(t)},t.prototype.Ql=function(t){this.gd=t,this.Pd.next&&this.Pd.next(t)}}();var Ov,Ev=n("/6Yf"),Cv={Firestore:ov,GeoPoint:jb,Timestamp:Uc,Blob:Ac,Transaction:av,WriteBatch:uv,DocumentReference:cv,DocumentSnapshot:dv,Query:gv,QueryDocumentSnapshot:pv,QuerySnapshot:bv,CollectionReference:yv,FieldPath:wv,FieldValue:_v,setLogLevel:function(t){cc.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};(function(t,e){t.INTERNAL.registerComponent(new Ev.a("firestore",function(t){return function(t,e){return new ov(t,new wy(t,e),new iv)}(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"))},"PUBLIC").setServiceProps(Object.assign({},Cv)))})(Ov=ro.a),Ov.registerVersion("@firebase/firestore","2.1.1");var xv=n("VRyK"),Sv=n("qgXg"),Tv=n("Ylt2");class Iv extends Ot.a{constructor(t=Number.POSITIVE_INFINITY,e=Number.POSITIVE_INFINITY,n){super(),this.scheduler=n,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=t<1?1:t,this._windowTime=e<1?1:e,e===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(t){if(!this.isStopped){const e=this._events;e.push(t),e.length>this._bufferSize&&e.shift()}super.next(t)}nextTimeWindow(t){this.isStopped||(this._events.push(new kv(this._getNow(),t)),this._trimBufferThenGetEvents()),super.next(t)}_subscribe(t){const e=this._infiniteTimeWindow,n=e?this._events:this._trimBufferThenGetEvents(),r=this.scheduler,i=n.length;let o;if(this.closed)throw new Et.a;if(this.isStopped||this.hasError?o=Ee.a.EMPTY:(this.observers.push(t),o=new Tv.a(this,t)),r&&t.add(t=new eo.a(t,r)),e)for(let s=0;s<i&&!t.closed;s++)t.next(n[s]);else for(let s=0;s<i&&!t.closed;s++)t.next(n[s].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),o}_getNow(){return(this.scheduler||Sv.a).now()}_trimBufferThenGetEvents(){const t=this._getNow(),e=this._bufferSize,n=this._windowTime,r=this._events,i=r.length;let o=0;for(;o<i&&!(t-r[o].time<n);)o++;return i>e&&(o=Math.max(o,i-e)),o>0&&r.splice(0,o),r}}class kv{constructor(t,e){this.time=t,this.value=e}}function Av(t,e,n){let r;return r=t&&"object"==typeof t?t:{bufferSize:t,windowTime:e,refCount:!1,scheduler:n},t=>t.lift(function({bufferSize:t=Number.POSITIVE_INFINITY,windowTime:e=Number.POSITIVE_INFINITY,refCount:n,scheduler:r}){let i,o,s=0,a=!1,u=!1;return function(c){let l;s++,!i||a?(a=!1,i=new Iv(t,e,r),l=i.subscribe(this),o=c.subscribe({next(t){i.next(t)},error(t){a=!0,i.error(t)},complete(){u=!0,o=void 0,i.complete()}})):l=i.subscribe(this),this.add(()=>{s--,l.unsubscribe(),o&&!u&&n&&0===s&&(o.unsubscribe(),o=void 0,i=void 0)})}}(r))}function Dv(t,e){return e?oe(()=>t,e):oe(()=>t)}var jv=n("tf+s");const Nv=new r.q("angularfire2.auth.use-emulator"),Pv=new r.q("angularfire2.auth.settings"),Rv=new r.q("angularfire2.auth.tenant-id"),Mv=new r.q("angularfire2.auth.langugage-code"),Vv=new r.q("angularfire2.auth.use-device-language"),Lv=new r.q("angularfire.auth.persistence");let Fv=(()=>{class t{constructor(t,e,r,i,o,s,a,u,c,l){const h=new Ki.d(i),f=Object(Ki.h)(h),d=new Ot.a,p=Object(wt.a)(void 0).pipe(Object(eo.b)(h.outsideAngular),oe(()=>i.runOutsideAngular(()=>n.e(4).then(n.bind(null,"6nsN")))),Object(Ut.a)(()=>Object(Ki.g)(t,i,e)),Object(Ut.a)(t=>i.runOutsideAngular(()=>{const e=o,n=s;return Object(Ki.f)(t.name+".auth","AngularFireAuth",t,()=>{const r=i.runOutsideAngular(()=>t.auth());return e&&r.useEmulator("http://"+e.join(":")),a&&(r.tenantId=a),r.languageCode=u,c&&r.useDeviceLanguage(),n&&(r.settings=n),l&&r.setPersistence(l),r},[e,a,u,c,n,l])})),Av({bufferSize:1,refCount:!1}));if(mt(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=Object(wt.a)(null);else{p.pipe(_e()).subscribe();const t=p.pipe(oe(t=>t.getRedirectResult().then(t=>t,()=>null)),f,Av({bufferSize:1,refCount:!1})),e=t=>new Dt.a(e=>({unsubscribe:i.runOutsideAngular(()=>t(e))})),n=p.pipe(oe(t=>e(t.onAuthStateChanged.bind(t)))),r=p.pipe(oe(t=>e(t.onIdTokenChanged.bind(t))));this.authState=t.pipe(Dv(n),Object(jv.a)(h.outsideAngular),Object(eo.b)(h.insideAngular)),this.user=t.pipe(Dv(r),Object(jv.a)(h.outsideAngular),Object(eo.b)(h.insideAngular)),this.idToken=this.user.pipe(oe(t=>t?Object(_t.a)(t.getIdToken()):Object(wt.a)(null))),this.idTokenResult=this.user.pipe(oe(t=>t?Object(_t.a)(t.getIdTokenResult()):Object(wt.a)(null))),this.credential=Object(xv.a)(t,d,this.authState.pipe(qt(t=>!t))).pipe(Object(Ut.a)(t=>(null==t?void 0:t.user)?t:null),Object(jv.a)(h.outsideAngular),Object(eo.b)(h.insideAngular))}return Object(Ki.i)(this,p,i,{spy:{apply:(t,e,n)=>{(t.startsWith("signIn")||t.startsWith("createUser"))&&n.then(t=>d.next(t))}}})}}return t.\u0275fac=function(e){return new(e||t)(r.Wb(Ki.c),r.Wb(Ki.b,8),r.Wb(r.B),r.Wb(r.z),r.Wb(Nv,8),r.Wb(Pv,8),r.Wb(Rv,8),r.Wb(Mv,8),r.Wb(Vv,8),r.Wb(Lv,8))},t.\u0275prov=Object(r.Gb)({factory:function(){return new t(Object(r.Wb)(Ki.c),Object(r.Wb)(Ki.b,8),Object(r.Wb)(r.B),Object(r.Wb)(r.z),Object(r.Wb)(Nv,8),Object(r.Wb)(Pv,8),Object(r.Wb)(Rv,8),Object(r.Wb)(Mv,8),Object(r.Wb)(Vv,8),Object(r.Wb)(Lv,8))},token:t,providedIn:"any"}),t})();function Uv(t,e){return function(t,e=Zi.b){return new Dt.a(n=>{let r;return null!=e?e.schedule(()=>{r=t.onSnapshot({includeMetadataChanges:!0},n)}):r=t.onSnapshot({includeMetadataChanges:!0},n),()=>{null!=r&&r()}})}(t,e)}function Hv(t,e){return Uv(t,e).pipe(Object(Ut.a)(t=>({payload:t,type:"query"})))}function zv(t,e){return Hv(t,e).pipe(fe(void 0),Yi(),Object(Ut.a)(([t,e])=>{const n=e.payload.docChanges(),r=n.map(t=>({type:t.type,payload:t}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(e.payload.metadata)&&e.payload.docs.forEach((e,i)=>{const o=n.find(t=>t.doc.ref.isEqual(e.ref)),s=null==t?void 0:t.payload.docs.find(t=>t.ref.isEqual(e.ref));o&&JSON.stringify(o.doc.metadata)===JSON.stringify(e.metadata)||!o&&s&&JSON.stringify(s.metadata)===JSON.stringify(e.metadata)||r.push({type:"modified",payload:{oldIndex:i,newIndex:i,type:"modified",doc:e}})}),r}))}function qv(t,e,n){return zv(t,n).pipe(de((t,n)=>function(t,e,n){return e.forEach(e=>{n.indexOf(e.type)>-1&&(t=function(t,e){switch(e.type){case"added":if(!t[e.newIndex]||!t[e.newIndex].doc.ref.isEqual(e.doc.ref))return Bv(t,e.newIndex,0,e);break;case"modified":if(null==t[e.oldIndex]||t[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const n=t.slice();return n.splice(e.oldIndex,1),n.splice(e.newIndex,0,e),n}return Bv(t,e.newIndex,1,e)}break;case"removed":if(t[e.oldIndex]&&t[e.oldIndex].doc.ref.isEqual(e.doc.ref))return Bv(t,e.oldIndex,1)}return t}(t,e))}),t}(t,n.map(t=>t.payload),e),[]),t=>t.lift(new Xi(void 0,void 0)),Object(Ut.a)(t=>t.map(t=>({type:t.type,payload:t}))))}function Bv(t,e,n,...r){const i=t.slice();return i.splice(e,n,...r),i}function Wv(t){return t&&0!==t.length||(t=["added","removed","modified"]),t}Object(Ki.e)(Fv,[{app:null,applyActionCode:null,checkActionCode:null,confirmPasswordReset:null,createUserWithEmailAndPassword:null,currentUser:null,fetchSignInMethodsForEmail:null,isSignInWithEmailLink:null,getRedirectResult:null,languageCode:null,settings:null,onAuthStateChanged:null,onIdTokenChanged:null,sendSignInLinkToEmail:null,sendPasswordResetEmail:null,setPersistence:null,signInAndRetrieveDataWithCredential:null,signInAnonymously:null,signInWithCredential:null,signInWithCustomToken:null,signInWithEmailAndPassword:null,signInWithPhoneNumber:null,signInWithEmailLink:null,signInWithPopup:null,signInWithRedirect:null,signOut:null,tenantId:null,updateCurrentUser:null,useDeviceLanguage:null,useEmulator:null,verifyPasswordResetCode:null}]);class Gv{constructor(t,e,n){this.ref=t,this.query=e,this.afs=n}stateChanges(t){let e=zv(this.query,this.afs.schedulers.outsideAngular);return t&&t.length>0&&(e=e.pipe(Object(Ut.a)(e=>e.filter(e=>t.indexOf(e.type)>-1)))),e.pipe(fe(void 0),Yi(),qt(([t,e])=>e.length>0||!t),Object(Ut.a)(([t,e])=>e),this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(de((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=Wv(t);return qv(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return Hv(this.query,this.afs.schedulers.outsideAngular).pipe(Object(Ut.a)(e=>e.payload.docs.map(e=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data())),this.afs.keepUnstableUntilFirst)}get(t){return Object(_t.a)(this.query.get(t)).pipe(Object(eo.b)(this.afs.schedulers.insideAngular))}add(t){return this.ref.add(t)}doc(t){return new $v(this.ref.doc(t),this.afs)}}class $v{constructor(t,e){this.ref=t,this.afs=e}set(t,e){return this.ref.set(t,e)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,e){const n=this.ref.collection(t),{ref:r,query:i}=Xv(n,e);return new Gv(r,i,this.afs)}snapshotChanges(){return Uv(this.ref,this.afs.schedulers.outsideAngular).pipe(fe(void 0),Yi(),Object(Ut.a)(([t,e])=>e.exists?(null==t?void 0:t.exists)?{payload:e,type:"modified"}:{payload:e,type:"added"}:{payload:e,type:"removed"})).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return this.snapshotChanges().pipe(Object(Ut.a)(({payload:e})=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data()))}get(t){return Object(_t.a)(this.ref.get(t)).pipe(Object(eo.b)(this.afs.schedulers.insideAngular))}}class Kv{constructor(t,e){this.query=t,this.afs=e}stateChanges(t){return t&&0!==t.length?zv(this.query,this.afs.schedulers.outsideAngular).pipe(Object(Ut.a)(e=>e.filter(e=>t.indexOf(e.type)>-1)),qt(t=>t.length>0),this.afs.keepUnstableUntilFirst):zv(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(de((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=Wv(t);return qv(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return Hv(this.query,this.afs.schedulers.outsideAngular).pipe(Object(Ut.a)(e=>e.payload.docs.map(e=>t.idField?Object.assign({[t.idField]:e.id},e.data()):e.data())),this.afs.keepUnstableUntilFirst)}get(t){return Object(_t.a)(this.query.get(t)).pipe(Object(eo.b)(this.afs.schedulers.insideAngular))}}const Zv=new r.q("angularfire2.enableFirestorePersistence"),Yv=new r.q("angularfire2.firestore.persistenceSettings"),Jv=new r.q("angularfire2.firestore.settings"),Qv=new r.q("angularfire2.firestore.use-emulator");function Xv(t,e=(t=>t)){return{query:e(t),ref:t}}let tw=(()=>{class t{constructor(t,e,n,r,i,o,s,a,u){this.schedulers=new Ki.d(o),this.keepUnstableUntilFirst=Object(Ki.h)(this.schedulers);const c=Object(Ki.g)(t,o,e);!no.a.auth&&u&&Object(Ki.j)();const l=a;[this.firestore,this.persistenceEnabled$]=Object(Ki.f)(c.name+".firestore","AngularFirestore",c,()=>{const t=o.runOutsideAngular(()=>c.firestore());if(r&&t.settings(r),l&&t.useEmulator(...l),n&&!mt(i)){const e=()=>{try{return Object(_t.a)(t.enablePersistence(s||void 0).then(()=>!0,()=>!1))}catch(Ov){return"undefined"!=typeof console&&console.warn(Ov),Object(wt.a)(!1)}};return[t,o.runOutsideAngular(e)]}return[t,Object(wt.a)(!1)]},[r,l,n])}collection(t,e){let n;n="string"==typeof t?this.firestore.collection(t):t;const{ref:r,query:i}=Xv(n,e),o=this.schedulers.ngZone.run(()=>r);return new Gv(o,i,this)}collectionGroup(t,e){const n=e||(t=>t),r=this.firestore.collectionGroup(t);return new Kv(n(r),this)}doc(t){let e;e="string"==typeof t?this.firestore.doc(t):t;const n=this.schedulers.ngZone.run(()=>e);return new $v(n,this)}createId(){return this.firestore.collection("_").doc().id}}return t.\u0275fac=function(e){return new(e||t)(r.Wb(Ki.c),r.Wb(Ki.b,8),r.Wb(Zv,8),r.Wb(Jv,8),r.Wb(r.B),r.Wb(r.z),r.Wb(Yv,8),r.Wb(Qv,8),r.Wb(Nv,8))},t.\u0275prov=Object(r.Gb)({factory:function(){return new t(Object(r.Wb)(Ki.c),Object(r.Wb)(Ki.b,8),Object(r.Wb)(Zv,8),Object(r.Wb)(Jv,8),Object(r.Wb)(r.B),Object(r.Wb)(r.z),Object(r.Wb)(Yv,8),Object(r.Wb)(Qv,8),Object(r.Wb)(Nv,8))},token:t,providedIn:"any"}),t})(),ew=(()=>{class t{static enablePersistence(e){return{ngModule:t,providers:[{provide:Zv,useValue:!0},{provide:Yv,useValue:e}]}}}return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)},providers:[tw]}),t})();var nw=n("XoHu");function rw(t,e){return new Dt.a(n=>{const r=t.length;if(0===r)return void n.complete();const i=new Array(r);let o=0,s=0;for(let a=0;a<r;a++){const u=Object(_t.a)(t[a]);let c=!1;n.add(u.subscribe({next:t=>{c||(c=!0,s++),i[a]=t},error:t=>n.error(t),complete:()=>{o++,o!==r&&c||(s===r&&n.next(e?e.reduce((t,e,n)=>(t[e]=i[n],t),{}):i),n.complete())}}))}})}const iw=new r.q("NgValueAccessor"),ow={provide:iw,useExisting:Object(r.T)(()=>sw),multi:!0};let sw=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"checked",t)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(r.D),r.Kb(r.l))},t.\u0275dir=r.Fb({type:t,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(t,e){1&t&&r.Zb("change",function(t){return e.onChange(t.target.checked)})("blur",function(){return e.onTouched()})},features:[r.xb([ow])]}),t})();const aw={provide:iw,useExisting:Object(r.T)(()=>cw),multi:!0},uw=new r.q("CompositionEventMode");let cw=(()=>{class t{constructor(t,e,n){this._renderer=t,this._elementRef=e,this._compositionMode=n,this.onChange=t=>{},this.onTouched=()=>{},this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const t=s()?s().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(r.D),r.Kb(r.l),r.Kb(uw,8))},t.\u0275dir=r.Fb({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,e){1&t&&r.Zb("input",function(t){return e._handleInput(t.target.value)})("blur",function(){return e.onTouched()})("compositionstart",function(){return e._compositionStart()})("compositionend",function(t){return e._compositionEnd(t.target.value)})},features:[r.xb([aw])]}),t})();function lw(t){return null==t||0===t.length}function hw(t){return null!=t&&"number"==typeof t.length}const fw=new r.q("NgValidators"),dw=new r.q("NgAsyncValidators"),pw=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class gw{static min(t){return e=>{if(lw(e.value)||lw(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}static max(t){return e=>{if(lw(e.value)||lw(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}static required(t){return lw(t.value)?{required:!0}:null}static requiredTrue(t){return!0===t.value?null:{required:!0}}static email(t){return lw(t.value)||pw.test(t.value)?null:{email:!0}}static minLength(t){return e=>lw(e.value)||!hw(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}static maxLength(t){return e=>hw(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}static pattern(t){if(!t)return gw.nullValidator;let e,n;return"string"==typeof t?(n="","^"!==t.charAt(0)&&(n+="^"),n+=t,"$"!==t.charAt(t.length-1)&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),t=>{if(lw(t.value))return null;const r=t.value;return e.test(r)?null:{pattern:{requiredPattern:n,actualValue:r}}}}static nullValidator(t){return null}static compose(t){if(!t)return null;const e=t.filter(mw);return 0==e.length?null:function(t){return yw(vw(t,e))}}static composeAsync(t){if(!t)return null;const e=t.filter(mw);return 0==e.length?null:function(t){return function(...t){if(1===t.length){const e=t[0];if(Object(St.a)(e))return rw(e,null);if(Object(nw.a)(e)&&Object.getPrototypeOf(e)===Object.prototype){const t=Object.keys(e);return rw(t.map(t=>e[t]),t)}}if("function"==typeof t[t.length-1]){const e=t.pop();return rw(t=1===t.length&&Object(St.a)(t[0])?t[0]:t,null).pipe(Object(Ut.a)(t=>e(...t)))}return rw(t,null)}(vw(t,e).map(bw)).pipe(Object(Ut.a)(yw))}}}function mw(t){return null!=t}function bw(t){const e=Object(r.qb)(t)?Object(_t.a)(t):t;return Object(r.pb)(e),e}function yw(t){let e={};return t.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function vw(t,e){return e.map(e=>e(t))}function ww(t){return t.map(t=>function(t){return!t.validate}(t)?t:e=>t.validate(e))}function _w(t){return null!=t?gw.compose(ww(t)):null}function Ow(t){return null!=t?gw.composeAsync(ww(t)):null}function Ew(t,e){return null===t?[e]:Array.isArray(t)?[...t,e]:[t,e]}let Cw=(()=>{class t{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=_w(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=Ow(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Fb({type:t}),t})(),xw=(()=>{class t extends Cw{get formDirective(){return null}get path(){return null}}return t.\u0275fac=function(e){return Sw(e||t)},t.\u0275dir=r.Fb({type:t,features:[r.vb]}),t})();const Sw=r.Rb(xw);class Tw extends Cw{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Iw{constructor(t){this._cd=t}get ngClassUntouched(){return!!this._cd.control&&this._cd.control.untouched}get ngClassTouched(){return!!this._cd.control&&this._cd.control.touched}get ngClassPristine(){return!!this._cd.control&&this._cd.control.pristine}get ngClassDirty(){return!!this._cd.control&&this._cd.control.dirty}get ngClassValid(){return!!this._cd.control&&this._cd.control.valid}get ngClassInvalid(){return!!this._cd.control&&this._cd.control.invalid}get ngClassPending(){return!!this._cd.control&&this._cd.control.pending}}let kw=(()=>{class t extends Iw{constructor(t){super(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(Tw,2))},t.\u0275dir=r.Fb({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,e){2&t&&r.Cb("ng-untouched",e.ngClassUntouched)("ng-touched",e.ngClassTouched)("ng-pristine",e.ngClassPristine)("ng-dirty",e.ngClassDirty)("ng-valid",e.ngClassValid)("ng-invalid",e.ngClassInvalid)("ng-pending",e.ngClassPending)},features:[r.vb]}),t})(),Aw=(()=>{class t extends Iw{constructor(t){super(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(xw,2))},t.\u0275dir=r.Fb({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:14,hostBindings:function(t,e){2&t&&r.Cb("ng-untouched",e.ngClassUntouched)("ng-touched",e.ngClassTouched)("ng-pristine",e.ngClassPristine)("ng-dirty",e.ngClassDirty)("ng-valid",e.ngClassValid)("ng-invalid",e.ngClassInvalid)("ng-pending",e.ngClassPending)},features:[r.vb]}),t})();const Dw={provide:iw,useExisting:Object(r.T)(()=>jw),multi:!0};let jw=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}registerOnChange(t){this.onChange=e=>{t(""==e?null:parseFloat(e))}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(r.D),r.Kb(r.l))},t.\u0275dir=r.Fb({type:t,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(t,e){1&t&&r.Zb("input",function(t){return e.onChange(t.target.value)})("blur",function(){return e.onTouched()})},features:[r.xb([Dw])]}),t})();const Nw={provide:iw,useExisting:Object(r.T)(()=>Rw),multi:!0};let Pw=(()=>{class t{constructor(){this._accessors=[]}add(t,e){this._accessors.push([t,e])}remove(t){for(let e=this._accessors.length-1;e>=0;--e)if(this._accessors[e][1]===t)return void this._accessors.splice(e,1)}select(t){this._accessors.forEach(e=>{this._isSameGroup(e,t)&&e[1]!==t&&e[1].fireUncheck(t.value)})}_isSameGroup(t,e){return!!t[0].control&&t[0]._parent===e._control._parent&&t[1].name===e.name}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})(),Rw=(()=>{class t{constructor(t,e,n,r){this._renderer=t,this._elementRef=e,this._registry=n,this._injector=r,this.onChange=()=>{},this.onTouched=()=>{}}ngOnInit(){this._control=this._injector.get(Tw),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(t){this._state=t===this.value,this._renderer.setProperty(this._elementRef.nativeElement,"checked",this._state)}registerOnChange(t){this._fn=t,this.onChange=()=>{t(this.value),this._registry.select(this)}}fireUncheck(t){this.writeValue(t)}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_checkName(){!this.name&&this.formControlName&&(this.name=this.formControlName)}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(r.D),r.Kb(r.l),r.Kb(Pw),r.Kb(r.r))},t.\u0275dir=r.Fb({type:t,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(t,e){1&t&&r.Zb("change",function(){return e.onChange()})("blur",function(){return e.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[r.xb([Nw])]}),t})();const Mw={provide:iw,useExisting:Object(r.T)(()=>Vw),multi:!0};let Vw=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",parseFloat(t))}registerOnChange(t){this.onChange=e=>{t(""==e?null:parseFloat(e))}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(r.D),r.Kb(r.l))},t.\u0275dir=r.Fb({type:t,selectors:[["input","type","range","formControlName",""],["input","type","range","formControl",""],["input","type","range","ngModel",""]],hostBindings:function(t,e){1&t&&r.Zb("change",function(t){return e.onChange(t.target.value)})("input",function(t){return e.onChange(t.target.value)})("blur",function(){return e.onTouched()})},features:[r.xb([Mw])]}),t})();const Lw={provide:iw,useExisting:Object(r.T)(()=>Uw),multi:!0};function Fw(t,e){return null==t?""+e:(e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}let Uw=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=t=>{},this.onTouched=()=>{},this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;const e=this._getOptionId(t);null==e&&this._renderer.setProperty(this._elementRef.nativeElement,"selectedIndex",-1);const n=Fw(e,t);this._renderer.setProperty(this._elementRef.nativeElement,"value",n)}registerOnChange(t){this.onChange=e=>{this.value=this._getOptionValue(e),t(this.value)}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const e of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(e),t))return e;return null}_getOptionValue(t){const e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e):t}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(r.D),r.Kb(r.l))},t.\u0275dir=r.Fb({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(t,e){1&t&&r.Zb("change",function(t){return e.onChange(t.target.value)})("blur",function(){return e.onTouched()})},inputs:{compareWith:"compareWith"},features:[r.xb([Lw])]}),t})(),Hw=(()=>{class t{constructor(t,e,n){this._element=t,this._renderer=e,this._select=n,this._select&&(this.id=this._select._registerOption())}set ngValue(t){null!=this._select&&(this._select._optionMap.set(this.id,t),this._setElementValue(Fw(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(r.l),r.Kb(r.D),r.Kb(Uw,9))},t.\u0275dir=r.Fb({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),t})();const zw={provide:iw,useExisting:Object(r.T)(()=>Bw),multi:!0};function qw(t,e){return null==t?""+e:("string"==typeof e&&(e=`'${e}'`),e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}let Bw=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=t=>{},this.onTouched=()=>{},this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){let e;if(this.value=t,Array.isArray(t)){const n=t.map(t=>this._getOptionId(t));e=(t,e)=>{t._setSelected(n.indexOf(e.toString())>-1)}}else e=(t,e)=>{t._setSelected(!1)};this._optionMap.forEach(e)}registerOnChange(t){this.onChange=e=>{const n=[];if(void 0!==e.selectedOptions){const t=e.selectedOptions;for(let e=0;e<t.length;e++){const r=t.item(e),i=this._getOptionValue(r.value);n.push(i)}}else{const t=e.options;for(let e=0;e<t.length;e++){const r=t.item(e);if(r.selected){const t=this._getOptionValue(r.value);n.push(t)}}}this.value=n,t(n)}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_registerOption(t){const e=(this._idCounter++).toString();return this._optionMap.set(e,t),e}_getOptionId(t){for(const e of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(e)._value,t))return e;return null}_getOptionValue(t){const e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e)._value:t}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(r.D),r.Kb(r.l))},t.\u0275dir=r.Fb({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(t,e){1&t&&r.Zb("change",function(t){return e.onChange(t.target)})("blur",function(){return e.onTouched()})},inputs:{compareWith:"compareWith"},features:[r.xb([zw])]}),t})(),Ww=(()=>{class t{constructor(t,e,n){this._element=t,this._renderer=e,this._select=n,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){null!=this._select&&(this._value=t,this._setElementValue(qw(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(qw(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(r.l),r.Kb(r.D),r.Kb(Bw,9))},t.\u0275dir=r.Fb({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),t})();function Gw(t,e){Kw(t,e,!0),e.valueAccessor.writeValue(t.value),function(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&Zw(t,e)})}(t,e),function(t,e){const n=(t,n)=>{e.valueAccessor.writeValue(t),n&&e.viewToModelUpdate(t)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}(t,e),function(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&Zw(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),function(t,e){if(e.valueAccessor.setDisabledState){const n=t=>{e.valueAccessor.setDisabledState(t)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}(t,e)}function $w(t,e){t.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function Kw(t,e,n){const r=function(t){return t._rawValidators}(t);null!==e.validator?t.setValidators(Ew(r,e.validator)):"function"==typeof r&&t.setValidators([r]);const i=function(t){return t._rawAsyncValidators}(t);if(null!==e.asyncValidator?t.setAsyncValidators(Ew(i,e.asyncValidator)):"function"==typeof i&&t.setAsyncValidators([i]),n){const n=()=>t.updateValueAndValidity();$w(e._rawValidators,n),$w(e._rawAsyncValidators,n)}}function Zw(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}const Yw=[sw,Vw,jw,Uw,Bw,Rw];function Jw(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const Qw="VALID",Xw="INVALID",t_="PENDING",e_="DISABLED";function n_(t){return(s_(t)?t.validators:t)||null}function r_(t){return Array.isArray(t)?_w(t):t||null}function i_(t,e){return(s_(e)?e.asyncValidators:t)||null}function o_(t){return Array.isArray(t)?Ow(t):t||null}function s_(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class a_{constructor(t,e){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=e,this._composedValidatorFn=r_(this._rawValidators),this._composedAsyncValidatorFn=o_(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===Qw}get invalid(){return this.status===Xw}get pending(){return this.status==t_}get disabled(){return this.status===e_}get enabled(){return this.status!==e_}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._rawValidators=t,this._composedValidatorFn=r_(t)}setAsyncValidators(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=o_(t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=t_,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=e_,this.errors=null,this._forEachChild(e=>{e.disable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=Qw,this._forEachChild(e=>{e.enable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),this.status!==Qw&&this.status!==t_||this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?e_:Qw}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=t_,this._hasOwnPendingAsyncValidator=!0;const e=bw(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(e=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(e,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){return function(t,e,n){if(null==e)return null;if(Array.isArray(e)||(e=e.split(".")),Array.isArray(e)&&0===e.length)return null;let r=t;return e.forEach(t=>{r=r instanceof c_?r.controls.hasOwnProperty(t)?r.controls[t]:null:r instanceof l_&&r.at(t)||null}),r}(this,t)}getError(t,e){const n=e?this.get(e):this;return n&&n.errors?n.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new r.n,this.statusChanges=new r.n}_calculateStatus(){return this._allControlsDisabled()?e_:this.errors?Xw:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(t_)?t_:this._anyControlsHaveStatus(Xw)?Xw:Qw}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_isBoxedValue(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){s_(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class u_ extends a_{constructor(t=null,e,n){super(n_(e),i_(n,e)),this._onChange=[],this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!n})}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(t=>t(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=null,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){Jw(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){Jw(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}class c_ extends a_{constructor(t,e,n){super(n_(e),i_(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!n})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e){this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}removeControl(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity(),this._onCollectionChange()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){this._checkAllValuesPresent(t),Object.keys(t).forEach(n=>{this._throwIfControlMissing(n),this.controls[n].setValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){Object.keys(t).forEach(n=>{this.controls[n]&&this.controls[n].patchValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}reset(t={},e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,n)=>(t[n]=e instanceof u_?e.value:e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(t,e)=>!!e._syncPendingControls()||t);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[t])throw new Error(`Cannot find form control with name: ${t}.`)}_forEachChild(t){Object.keys(this.controls).forEach(e=>t(this.controls[e],e))}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const e of Object.keys(this.controls)){const n=this.controls[e];if(this.contains(e)&&t(n))return!0}return!1}_reduceValue(){return this._reduceChildren({},(t,e,n)=>((e.enabled||this.disabled)&&(t[n]=e.value),t))}_reduceChildren(t,e){let n=t;return this._forEachChild((t,r)=>{n=e(n,t,r)}),n}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control with name: '${n}'.`)})}}class l_ extends a_{constructor(t,e,n){super(n_(e),i_(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!n})}at(t){return this.controls[t]}push(t){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity(),this._onCollectionChange()}insert(t,e){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity()}removeAt(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity(),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){this._checkAllValuesPresent(t),t.forEach((t,n)=>{this._throwIfControlMissing(n),this.at(n).setValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){t.forEach((t,n)=>{this.at(n)&&this.at(n).patchValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}reset(t=[],e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t instanceof u_?t.value:t.getRawValue())}clear(){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity())}_syncPendingControls(){let t=this.controls.reduce((t,e)=>!!e._syncPendingControls()||t,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(t))throw new Error("Cannot find form control at index "+t)}_forEachChild(t){this.controls.forEach((e,n)=>{t(e,n)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control at index: ${n}.`)})}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}const h_={provide:xw,useExisting:Object(r.T)(()=>d_)},f_=(()=>Promise.resolve(null))();let d_=(()=>{class t extends xw{constructor(t,e){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new r.n,this.form=new c_({},_w(t),Ow(e))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){f_.then(()=>{const e=this._findContainer(t.path);t.control=e.registerControl(t.name,t.control),Gw(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){f_.then(()=>{const e=this._findContainer(t.path);e&&e.removeControl(t.name),Jw(this._directives,t)})}addFormGroup(t){f_.then(()=>{const e=this._findContainer(t.path),n=new c_({});(function(t,e){Kw(t,e,!1)})(n,t),e.registerControl(t.name,n),n.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){f_.then(()=>{const e=this._findContainer(t.path);e&&e.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,e){f_.then(()=>{this.form.get(t.path).setValue(e)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,e=this._directives,this.form._syncPendingControls(),e.forEach(t=>{const e=t.control;"submit"===e.updateOn&&e._pendingChange&&(t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1)}),this.ngSubmit.emit(t),!1;var e}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(fw,10),r.Kb(dw,10))},t.\u0275dir=r.Fb({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,e){1&t&&r.Zb("submit",function(t){return e.onSubmit(t)})("reset",function(){return e.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[r.xb([h_]),r.vb]}),t})();const p_={provide:Tw,useExisting:Object(r.T)(()=>m_)},g_=(()=>Promise.resolve(null))();let m_=(()=>{class t extends Tw{constructor(t,e,n,i){super(),this.control=new u_,this._registered=!1,this.update=new r.n,this._parent=t,this._setValidators(e),this._setAsyncValidators(n),this.valueAccessor=function(t,e){if(!e)return null;Array.isArray(e);let n=void 0,r=void 0,i=void 0;return e.forEach(t=>{var e;t.constructor===cw?n=t:(e=t,Yw.some(t=>e.constructor===t)?r=t:i=t)}),i||r||n||null}(0,i)}ngOnChanges(t){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in t&&this._updateDisabled(t),function(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?function(t,e){return[...e.path,t]}(this.name,this._parent):[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Gw(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){g_.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1})})}_updateDisabled(t){const e=t.isDisabled.currentValue,n=""===e||e&&"false"!==e;g_.then(()=>{n&&!this.control.disabled?this.control.disable():!n&&this.control.disabled&&this.control.enable()})}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(xw,9),r.Kb(fw,10),r.Kb(dw,10),r.Kb(iw,10))},t.\u0275dir=r.Fb({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[r.xb([p_]),r.vb,r.wb]}),t})(),b_=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Fb({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),t})();const y_=new r.q("NgModelWithFormControlWarning");let v_=(()=>{class t{}return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)}}),t})(),w_=(()=>{class t{group(t,e=null){const n=this._reduceControls(t);let r=null,i=null,o=void 0;return null!=e&&(function(t){return void 0!==t.asyncValidators||void 0!==t.validators||void 0!==t.updateOn}(e)?(r=null!=e.validators?e.validators:null,i=null!=e.asyncValidators?e.asyncValidators:null,o=null!=e.updateOn?e.updateOn:void 0):(r=null!=e.validator?e.validator:null,i=null!=e.asyncValidator?e.asyncValidator:null)),new c_(n,{asyncValidators:i,updateOn:o,validators:r})}control(t,e,n){return new u_(t,e,n)}array(t,e,n){const r=t.map(t=>this._createControl(t));return new l_(r,e,n)}_reduceControls(t){const e={};return Object.keys(t).forEach(n=>{e[n]=this._createControl(t[n])}),e}_createControl(t){return t instanceof u_||t instanceof c_||t instanceof l_?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})(),__=(()=>{class t{}return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)},providers:[Pw],imports:[v_]}),t})(),O_=(()=>{class t{static withConfig(e){return{ngModule:t,providers:[{provide:y_,useValue:e.warnOnNgModelWithFormControl}]}}}return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)},providers:[w_,Pw],imports:[v_]}),t})(),E_=(()=>{class t{constructor(t){this.afs=t,this.TaskList=[]}getTask(){return this.afs.collection("note").snapshotChanges()}addTask(t){return this.afs.collection("note").add(t)}updateTask(t){return this.afs.firestore.doc("/note/"+t.id).update({title:t.data.title})}deleteTask(t){return this.afs.collection("note").doc(t).delete()}}return t.\u0275fac=function(e){return new(e||t)(r.Wb(tw))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var C_=n("n6bG");function x_(t,e,n,r){return Object(C_.a)(n)&&(r=n,n=void 0),r?x_(t,e,n).pipe(Object(Ut.a)(t=>Object(St.a)(t)?r(...t):r(t))):new Dt.a(r=>{S_(t,e,function(t){r.next(arguments.length>1?Array.prototype.slice.call(arguments):t)},r,n)})}function S_(t,e,n,r,i){let o;if(function(t){return t&&"function"==typeof t.addEventListener&&"function"==typeof t.removeEventListener}(t)){const r=t;t.addEventListener(e,n,i),o=()=>r.removeEventListener(e,n,i)}else if(function(t){return t&&"function"==typeof t.on&&"function"==typeof t.off}(t)){const r=t;t.on(e,n),o=()=>r.off(e,n)}else if(function(t){return t&&"function"==typeof t.addListener&&"function"==typeof t.removeListener}(t)){const r=t;t.addListener(e,n),o=()=>r.removeListener(e,n)}else{if(!t||!t.length)throw new TypeError("Invalid event target");for(let o=0,s=t.length;o<s;o++)S_(t[o],e,n,r,i)}r.add(o)}var T_=n("Y7HM");function I_(t){const{index:e,period:n,subscriber:r}=t;if(r.next(e),!r.closed){if(-1===n)return r.complete();t.index=e+1,this.schedule(t,n)}}function k_(...t){if(1===t.length){if(!Object(St.a)(t[0]))return t[0];t=t[0]}return Object(Nt.a)(t,void 0).lift(new A_)}class A_{call(t,e){return e.subscribe(new D_(t))}}class D_ extends It{constructor(t){super(t),this.hasFirst=!1,this.observables=[],this.subscriptions=[]}_next(t){this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{for(let n=0;n<e&&!this.hasFirst;n++){const e=jt(this,t[n],void 0,n);this.subscriptions&&this.subscriptions.push(e),this.add(e)}this.observables=null}}notifyNext(t,e,n){if(!this.hasFirst){this.hasFirst=!0;for(let t=0;t<this.subscriptions.length;t++)if(t!==n){let e=this.subscriptions[t];e.unsubscribe(),this.remove(e)}this.subscriptions=null}this.destination.next(e)}}n("KqfI");var j_=n("Lhse");function N_(...t){const e=t[t.length-1];return"function"==typeof e&&t.pop(),Object(Nt.a)(t,void 0).lift(new P_(e))}class P_{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new R_(t,this.resultSelector))}}class R_ extends Tt.a{constructor(t,e,n=Object.create(null)){super(t),this.resultSelector=e,this.iterators=[],this.active=0,this.resultSelector="function"==typeof e?e:void 0}_next(t){const e=this.iterators;Object(St.a)(t)?e.push(new V_(t)):e.push("function"==typeof t[j_.a]?new M_(t[j_.a]()):new L_(this.destination,this,t))}_complete(){const t=this.iterators,e=t.length;if(this.unsubscribe(),0!==e){this.active=e;for(let n=0;n<e;n++){let e=t[n];e.stillUnsubscribed?this.destination.add(e.subscribe()):this.active--}}else this.destination.complete()}notifyInactive(){this.active--,0===this.active&&this.destination.complete()}checkIterators(){const t=this.iterators,e=t.length,n=this.destination;for(let o=0;o<e;o++){let e=t[o];if("function"==typeof e.hasValue&&!e.hasValue())return}let r=!1;const i=[];for(let o=0;o<e;o++){let e=t[o],s=e.next();if(e.hasCompleted()&&(r=!0),s.done)return void n.complete();i.push(s.value)}this.resultSelector?this._tryresultSelector(i):n.next(i),r&&n.complete()}_tryresultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}class M_{constructor(t){this.iterator=t,this.nextResult=t.next()}hasValue(){return!0}next(){const t=this.nextResult;return this.nextResult=this.iterator.next(),t}hasCompleted(){const t=this.nextResult;return Boolean(t&&t.done)}}class V_{constructor(t){this.array=t,this.index=0,this.length=0,this.length=t.length}[j_.a](){return this}next(t){const e=this.index++;return e<this.length?{value:this.array[e],done:!1}:{value:null,done:!0}}hasValue(){return this.array.length>this.index}hasCompleted(){return this.array.length===this.index}}class L_ extends ie.b{constructor(t,e,n){super(t),this.parent=e,this.observable=n,this.stillUnsubscribed=!0,this.buffer=[],this.isComplete=!1}[j_.a](){return this}next(){const t=this.buffer;return 0===t.length&&this.isComplete?{value:null,done:!0}:{value:t.shift(),done:!1}}hasValue(){return this.buffer.length>0}hasCompleted(){return 0===this.buffer.length&&this.isComplete}notifyComplete(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()}notifyNext(t){this.buffer.push(t),this.parent.checkIterators()}subscribe(){return Object(ie.c)(this.observable,new ie.a(this))}}function F_(t){return e=>e.lift(new U_(t))}class U_{constructor(t){this.notifier=t}call(t,e){const n=new H_(t),r=Object(ie.c)(this.notifier,new ie.a(n));return r&&!n.seenValue?(n.add(r),e.subscribe(n)):n}}class H_ extends ie.b{constructor(t){super(t),this.seenValue=!1}notifyNext(){this.seenValue=!0,this.complete()}notifyComplete(){}}function z_(...t){return e=>{let n;return"function"==typeof t[t.length-1]&&(n=t.pop()),e.lift(new q_(t,n))}}class q_{constructor(t,e){this.observables=t,this.project=e}call(t,e){return e.subscribe(new B_(t,this.observables,this.project))}}class B_ extends It{constructor(t,e,n){super(t),this.observables=e,this.project=n,this.toRespond=[];const r=e.length;this.values=new Array(r);for(let i=0;i<r;i++)this.toRespond.push(i);for(let i=0;i<r;i++)this.add(jt(this,e[i],void 0,i))}notifyNext(t,e,n){this.values[n]=e;const r=this.toRespond;if(r.length>0){const t=r.indexOf(n);-1!==t&&r.splice(t,1)}}notifyComplete(){}_next(t){if(0===this.toRespond.length){const e=[t,...this.values];this.project?this._tryProject(e):this.destination.next(e)}}_tryProject(t){let e;try{e=this.project.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}var W_=n("WMd4");class G_{constructor(t,e){this.delay=t,this.scheduler=e}call(t,e){return e.subscribe(new $_(t,this.delay,this.scheduler))}}class $_ extends Tt.a{constructor(t,e,n){super(t),this.delay=e,this.scheduler=n,this.queue=[],this.active=!1,this.errored=!1}static dispatch(t){const e=t.source,n=e.queue,r=t.scheduler,i=t.destination;for(;n.length>0&&n[0].time-r.now()<=0;)n.shift().notification.observe(i);if(n.length>0){const e=Math.max(0,n[0].time-r.now());this.schedule(t,e)}else this.unsubscribe(),e.active=!1}_schedule(t){this.active=!0,this.destination.add(t.schedule($_.dispatch,this.delay,{source:this,destination:this.destination,scheduler:t}))}scheduleNotification(t){if(!0===this.errored)return;const e=this.scheduler,n=new K_(e.now()+this.delay,t);this.queue.push(n),!1===this.active&&this._schedule(e)}_next(t){this.scheduleNotification(W_.a.createNext(t))}_error(t){this.errored=!0,this.queue=[],this.destination.error(t),this.unsubscribe()}_complete(){this.scheduleNotification(W_.a.createComplete()),this.unsubscribe()}}class K_{constructor(t,e){this.time=t,this.notification=e}}n("w1tV");const Z_=["*"],Y_=["defaultDayTemplate"],J_=["content"];function Q_(t,e){if(1&t&&r.Lb(0,"div",7),2&t){const t=e.currentMonth,n=e.selected,i=e.disabled,o=e.focused;r.hc("date",e.date)("currentMonth",t)("selected",n)("disabled",i)("focused",o)}}function X_(t,e){if(1&t&&(r.Pb(0,"div",12),r.xc(1),r.Ob()),2&t){const t=r.bc().$implicit,e=r.bc(2);r.yb(1),r.Ac(" ",e.i18n.getMonthFullName(t.number,t.year)," ",e.i18n.getYearNumerals(t.year)," ")}}function tO(t,e){if(1&t&&(r.Pb(0,"div",9),r.vc(1,X_,2,2,"div",10),r.Lb(2,"ngb-datepicker-month",11),r.Ob()),2&t){const t=e.$implicit,n=r.bc(2);r.yb(1),r.hc("ngIf","none"===n.navigation||n.displayMonths>1&&"select"===n.navigation),r.yb(1),r.hc("month",t.firstDate)}}function eO(t,e){if(1&t&&r.vc(0,tO,3,2,"div",8),2&t){const t=r.bc();r.hc("ngForOf",t.model.months)}}function nO(t,e){if(1&t){const t=r.Qb();r.Pb(0,"ngb-datepicker-navigation",13),r.Zb("navigate",function(e){return r.pc(t),r.bc().onNavigateEvent(e)})("select",function(e){return r.pc(t),r.bc().onNavigateDateSelect(e)}),r.Ob()}if(2&t){const t=r.bc();r.hc("date",t.model.firstDate)("months",t.model.months)("disabled",t.model.disabled)("showSelect","select"===t.model.navigation)("prevDisabled",t.model.prevDisabled)("nextDisabled",t.model.nextDisabled)("selectBoxes",t.model.selectBoxes)}}function rO(t,e){}function iO(t,e){}function oO(t,e){1&t&&r.Lb(0,"div",5)}function sO(t,e){if(1&t&&(r.Pb(0,"div",6),r.xc(1),r.Ob()),2&t){const t=e.$implicit,n=r.bc(2);r.yb(1),r.zc(" ",n.i18n.getWeekdayShortName(t)," ")}}function aO(t,e){if(1&t&&(r.Pb(0,"div",2),r.vc(1,oO,1,0,"div",3),r.vc(2,sO,2,1,"div",4),r.Ob()),2&t){const t=r.bc();r.yb(1),r.hc("ngIf",t.datepicker.showWeekNumbers),r.yb(1),r.hc("ngForOf",t.viewModel.weekdays)}}function uO(t,e){if(1&t&&(r.Pb(0,"div",11),r.xc(1),r.Ob()),2&t){const t=r.bc(2).$implicit,e=r.bc();r.yb(1),r.yc(e.i18n.getWeekNumerals(t.number))}}function cO(t,e){}function lO(t,e){if(1&t&&r.vc(0,cO,0,0,"ng-template",14),2&t){const t=r.bc().$implicit,e=r.bc(3);r.hc("ngTemplateOutlet",e.datepicker.dayTemplate)("ngTemplateOutletContext",t.context)}}function hO(t,e){if(1&t){const t=r.Qb();r.Pb(0,"div",12),r.Zb("click",function(n){r.pc(t);const i=e.$implicit;return r.bc(3).doSelect(i),n.preventDefault()}),r.vc(1,lO,1,2,"ng-template",13),r.Ob()}if(2&t){const t=e.$implicit;r.Cb("disabled",t.context.disabled)("hidden",t.hidden)("ngb-dp-today",t.context.today),r.hc("tabindex",t.tabindex),r.zb("aria-label",t.ariaLabel),r.yb(1),r.hc("ngIf",!t.hidden)}}function fO(t,e){if(1&t&&(r.Pb(0,"div",8),r.vc(1,uO,2,1,"div",9),r.vc(2,hO,2,9,"div",10),r.Ob()),2&t){const t=r.bc().$implicit,e=r.bc();r.yb(1),r.hc("ngIf",e.datepicker.showWeekNumbers),r.yb(1),r.hc("ngForOf",t.days)}}function dO(t,e){1&t&&r.vc(0,fO,3,2,"div",7),2&t&&r.hc("ngIf",!e.$implicit.collapsed)}function pO(t,e){if(1&t){const t=r.Qb();r.Pb(0,"ngb-datepicker-navigation-select",7),r.Zb("select",function(e){return r.pc(t),r.bc().select.emit(e)}),r.Ob()}if(2&t){const t=r.bc();r.hc("date",t.date)("disabled",t.disabled)("months",t.selectBoxes.months)("years",t.selectBoxes.years)}}function gO(t,e){1&t&&r.Lb(0,"div",0)}function mO(t,e){1&t&&r.Lb(0,"div",0)}function bO(t,e){if(1&t&&(r.vc(0,gO,1,0,"div",9),r.Pb(1,"div",10),r.xc(2),r.Ob(),r.vc(3,mO,1,0,"div",9)),2&t){const t=e.$implicit,n=e.index,i=r.bc(2);r.hc("ngIf",n>0),r.yb(2),r.Ac(" ",i.i18n.getMonthFullName(t.number,t.year)," ",i.i18n.getYearNumerals(t.year)," "),r.yb(1),r.hc("ngIf",n!==i.months.length-1)}}function yO(t,e){if(1&t&&r.vc(0,bO,4,4,"ng-template",8),2&t){const t=r.bc();r.hc("ngForOf",t.months)}}const vO=["ngbDatepickerDayView",""],wO=["month"],_O=["year"];function OO(t,e){if(1&t&&(r.Pb(0,"option",5),r.xc(1),r.Ob()),2&t){const t=e.$implicit,n=r.bc();r.hc("value",t),r.zb("aria-label",n.i18n.getMonthFullName(t,null==n.date?null:n.date.year)),r.yb(1),r.yc(n.i18n.getMonthShortName(t,null==n.date?null:n.date.year))}}function EO(t,e){if(1&t&&(r.Pb(0,"option",5),r.xc(1),r.Ob()),2&t){const t=e.$implicit,n=r.bc();r.hc("value",t),r.yb(1),r.yc(n.i18n.getYearNumerals(t))}}const CO=["dialog"];function xO(t,e){1&t&&r.xc(0),2&t&&r.yc(100===e.fill?"\u2605":"\u2606")}function SO(t,e){}function TO(t,e){if(1&t){const t=r.Qb();r.Pb(0,"span",2),r.xc(1),r.Ob(),r.Pb(2,"span",3),r.Zb("mouseenter",function(){r.pc(t);const n=e.index;return r.bc().enter(n+1)})("click",function(){r.pc(t);const n=e.index;return r.bc().handleClick(n+1)}),r.vc(3,SO,0,0,"ng-template",4),r.Ob()}if(2&t){const t=e.index,n=r.bc(),i=r.oc(1);r.yb(1),r.zc("(",t<n.nextRate?"*":" ",")"),r.yb(1),r.uc("cursor",n.isInteractive()?"pointer":"default"),r.yb(1),r.hc("ngTemplateOutlet",n.starTemplate||n.starTemplateFromContent||i)("ngTemplateOutletContext",n.contexts[t])}}function IO(t,e){if(1&t){const t=r.Qb();r.Pb(0,"button",11),r.Zb("click",function(){r.pc(t);const e=r.bc();return e.changeHour(e.hourStep)}),r.Lb(1,"span",12),r.Pb(2,"span",13),r.Tb(3,14),r.Ob(),r.Ob()}if(2&t){const t=r.bc();r.Cb("btn-sm",t.isSmallSize)("btn-lg",t.isLargeSize)("disabled",t.disabled),r.hc("disabled",t.disabled)}}function kO(t,e){if(1&t){const t=r.Qb();r.Pb(0,"button",11),r.Zb("click",function(){r.pc(t);const e=r.bc();return e.changeHour(-e.hourStep)}),r.Lb(1,"span",15),r.Pb(2,"span",13),r.Tb(3,16),r.Ob(),r.Ob()}if(2&t){const t=r.bc();r.Cb("btn-sm",t.isSmallSize)("btn-lg",t.isLargeSize)("disabled",t.disabled),r.hc("disabled",t.disabled)}}function AO(t,e){if(1&t){const t=r.Qb();r.Pb(0,"button",11),r.Zb("click",function(){r.pc(t);const e=r.bc();return e.changeMinute(e.minuteStep)}),r.Lb(1,"span",12),r.Pb(2,"span",13),r.Tb(3,17),r.Ob(),r.Ob()}if(2&t){const t=r.bc();r.Cb("btn-sm",t.isSmallSize)("btn-lg",t.isLargeSize)("disabled",t.disabled),r.hc("disabled",t.disabled)}}function DO(t,e){if(1&t){const t=r.Qb();r.Pb(0,"button",11),r.Zb("click",function(){r.pc(t);const e=r.bc();return e.changeMinute(-e.minuteStep)}),r.Lb(1,"span",15),r.Pb(2,"span",13),r.Tb(3,18),r.Ob(),r.Ob()}if(2&t){const t=r.bc();r.Cb("btn-sm",t.isSmallSize)("btn-lg",t.isLargeSize)("disabled",t.disabled),r.hc("disabled",t.disabled)}}function jO(t,e){1&t&&(r.Pb(0,"div",5),r.xc(1,":"),r.Ob())}function NO(t,e){if(1&t){const t=r.Qb();r.Pb(0,"button",11),r.Zb("click",function(){r.pc(t);const e=r.bc(2);return e.changeSecond(e.secondStep)}),r.Lb(1,"span",12),r.Pb(2,"span",13),r.Tb(3,21),r.Ob(),r.Ob()}if(2&t){const t=r.bc(2);r.Cb("btn-sm",t.isSmallSize)("btn-lg",t.isLargeSize)("disabled",t.disabled),r.hc("disabled",t.disabled)}}function PO(t,e){if(1&t){const t=r.Qb();r.Pb(0,"button",11),r.Zb("click",function(){r.pc(t);const e=r.bc(2);return e.changeSecond(-e.secondStep)}),r.Lb(1,"span",15),r.Pb(2,"span",13),r.Tb(3,22),r.Ob(),r.Ob()}if(2&t){const t=r.bc(2);r.Cb("btn-sm",t.isSmallSize)("btn-lg",t.isLargeSize)("disabled",t.disabled),r.hc("disabled",t.disabled)}}function RO(t,e){if(1&t){const t=r.Qb();r.Pb(0,"div",19),r.vc(1,NO,4,7,"button",3),r.Pb(2,"input",20),r.Zb("change",function(e){return r.pc(t),r.bc().updateSecond(e.target.value)})("input",function(e){return r.pc(t),r.bc().formatInput(e.target)})("keydown.ArrowUp",function(e){r.pc(t);const n=r.bc();return n.changeSecond(n.secondStep),e.preventDefault()})("keydown.ArrowDown",function(e){r.pc(t);const n=r.bc();return n.changeSecond(-n.secondStep),e.preventDefault()}),r.Ob(),r.vc(3,PO,4,7,"button",3),r.Ob()}if(2&t){const t=r.bc();r.yb(1),r.hc("ngIf",t.spinners),r.yb(1),r.Cb("form-control-sm",t.isSmallSize)("form-control-lg",t.isLargeSize),r.hc("value",t.formatMinSec(null==t.model?null:t.model.second))("readOnly",t.readonlyInputs)("disabled",t.disabled),r.yb(1),r.hc("ngIf",t.spinners)}}function MO(t,e){1&t&&r.Lb(0,"div",5)}function VO(t,e){if(1&t&&(r.Nb(0),r.Tb(1,27),r.Mb()),2&t){const t=r.bc(2);r.yb(1),r.Vb(t.i18n.getAfternoonPeriod()),r.Ub(1)}}function LO(t,e){if(1&t&&r.Tb(0,28),2&t){const t=r.bc(2);r.Vb(t.i18n.getMorningPeriod()),r.Ub(0)}}function FO(t,e){if(1&t){const t=r.Qb();r.Pb(0,"div",23),r.Pb(1,"button",24),r.Zb("click",function(){return r.pc(t),r.bc().toggleMeridian()}),r.vc(2,VO,2,1,"ng-container",25),r.vc(3,LO,1,1,"ng-template",null,26,r.wc),r.Ob(),r.Ob()}if(2&t){const t=r.oc(4),e=r.bc();r.yb(1),r.Cb("btn-sm",e.isSmallSize)("btn-lg",e.isLargeSize)("disabled",e.disabled),r.hc("disabled",e.disabled),r.yb(1),r.hc("ngIf",e.model&&e.model.hour>=12)("ngIfElse",t)}}function UO(t,e){if(1&t&&(r.Pb(0,"span"),r.xc(1),r.Ob()),2&t){const t=r.bc().$implicit,e=r.bc();r.Ab(e.highlightClass),r.yb(1),r.yc(t)}}function HO(t,e){if(1&t&&r.xc(0),2&t){const t=r.bc().$implicit;r.yc(t)}}function zO(t,e){if(1&t&&(r.vc(0,UO,2,3,"span",1),r.vc(1,HO,1,1,"ng-template",null,2,r.wc)),2&t){const t=e.odd,n=r.oc(2);r.hc("ngIf",t)("ngIfElse",n)}}function qO(t,e){if(1&t&&r.Lb(0,"ngb-highlight",2),2&t){const t=e.term;r.hc("result",(0,e.formatter)(e.result))("term",t)}}function BO(t,e){}const WO=function(t,e,n){return{result:t,term:e,formatter:n}};function GO(t,e){if(1&t){const t=r.Qb();r.Pb(0,"button",3),r.Zb("mouseenter",function(){r.pc(t);const n=e.index;return r.bc().markActive(n)})("click",function(){r.pc(t);const n=e.$implicit;return r.bc().select(n)}),r.vc(1,BO,0,0,"ng-template",4),r.Ob()}if(2&t){const t=e.$implicit,n=e.index,i=r.bc(),o=r.oc(1);r.Cb("active",n===i.activeIdx),r.hc("id",i.id+"-"+n),r.yb(1),r.hc("ngTemplateOutlet",i.resultTemplate||o)("ngTemplateOutletContext",r.mc(5,WO,t,i.term,i.formatter))}}function $O(t){return parseInt(""+t,10)}function KO(t){return null!=t?""+t:""}function ZO(t,e,n=0){return Math.max(Math.min(t,e),n)}function YO(t){return"string"==typeof t}function JO(t){return!isNaN($O(t))}function QO(t){return"number"==typeof t&&isFinite(t)&&Math.floor(t)===t}function XO(t){return null!=t}function tE(t){return JO(t)?("0"+t).slice(-2):""}function eE(t,e){return t&&t.className&&t.className.split&&t.className.split(/\s+/).indexOf(e)>=0}"undefined"==typeof Element||Element.prototype.closest||(Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest=function(t){let e=this;if(!document.documentElement.contains(e))return null;do{if(e.matches(t))return e;e=e.parentElement||e.parentNode}while(null!==e&&1===e.nodeType);return null});const nE={animation:!0,transitionTimerDelayMs:5};let rE=(()=>{class t{constructor(){this.animation=nE.animation}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Gb)({factory:function(){return new t},token:t,providedIn:"root"}),t})();const iE=()=>{},{transitionTimerDelayMs:oE}=nE,sE=new Map,aE=(t,e,n)=>{let r=n.context||{};const i=sE.get(t);if(i)switch(n.runningTransition){case"continue":return Lt.a;case"stop":i.transition$.complete(),r=Object.assign(i.context,r),sE.delete(t)}!function(t){t||document}(t);const o=e(t,r)||iE;if(!n.animation||"none"===window.getComputedStyle(t).transitionProperty)return o(),Object(wt.a)(void 0);const s=new Ot.a,a=s.pipe(function(...t){return e=>he(e,Object(wt.a)(...t))}(!0));sE.set(t,{transition$:s,context:r});const u=function(t){const{transitionDelay:e,transitionDuration:n}=window.getComputedStyle(t);return 1e3*(parseFloat(e)+parseFloat(n))}(t),c=x_(t,"transitionend").pipe(F_(a),qt(({target:e})=>e===t));return k_(function(t=0,e,n){let r=-1;return Object(T_.a)(e)?r=Number(e)<1?1:Number(e):Object(xt.a)(e)&&(n=e),Object(xt.a)(n)||(n=Zi.a),new Dt.a(e=>{const i=Object(T_.a)(t)?t:+t-n.now();return n.schedule(I_,i,{index:0,period:r,subscriber:e})})}(u+oE).pipe(F_(a)),c).pipe(F_(a)).subscribe(()=>{sE.delete(t),o(),s.next(),s.complete()}),s.asObservable()};let uE=(()=>{class t{}return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)},imports:[[gt]]}),t})(),cE=(()=>{class t{}return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)},imports:[[gt]]}),t})(),lE=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Fb({type:t,selectors:[["","ngbButtonLabel",""]],hostVars:8,hostBindings:function(t,e){2&t&&r.Cb("btn",!0)("active",e.active)("disabled",e.disabled)("focus",e.focused)}}),t})();const hE={provide:iw,useExisting:Object(r.T)(()=>fE),multi:!0};let fE=(()=>{class t{constructor(t,e){this._label=t,this._cd=e,this.disabled=!1,this.valueChecked=!0,this.valueUnChecked=!1,this.onChange=t=>{},this.onTouched=()=>{}}set focused(t){this._label.focused=t,t||this.onTouched()}onInputChange(t){const e=t.target.checked?this.valueChecked:this.valueUnChecked;this.onChange(e),this.onTouched(),this.writeValue(e)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this.disabled=t,this._label.disabled=t}writeValue(t){this.checked=t===this.valueChecked,this._label.active=this.checked,this._cd.markForCheck()}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(lE),r.Kb(r.h))},t.\u0275dir=r.Fb({type:t,selectors:[["","ngbButton","","type","checkbox"]],hostVars:2,hostBindings:function(t,e){1&t&&r.Zb("change",function(t){return e.onInputChange(t)})("focus",function(){return e.focused=!0})("blur",function(){return e.focused=!1}),2&t&&r.Sb("checked",e.checked)("disabled",e.disabled)},inputs:{disabled:"disabled",valueChecked:"valueChecked",valueUnChecked:"valueUnChecked"},features:[r.xb([hE])]}),t})();const dE={provide:iw,useExisting:Object(r.T)(()=>gE),multi:!0};let pE=0,gE=(()=>{class t{constructor(){this._radios=new Set,this._value=null,this.name="ngb-radio-"+pE++,this.onChange=t=>{},this.onTouched=()=>{}}get disabled(){return this._disabled}set disabled(t){this.setDisabledState(t)}onRadioChange(t){this.writeValue(t.value),this.onChange(t.value)}onRadioValueUpdate(){this._updateRadiosValue()}register(t){this._radios.add(t)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._disabled=t,this._updateRadiosDisabled()}unregister(t){this._radios.delete(t)}writeValue(t){this._value=t,this._updateRadiosValue()}_updateRadiosValue(){this._radios.forEach(t=>t.updateValue(this._value))}_updateRadiosDisabled(){this._radios.forEach(t=>t.updateDisabled())}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Fb({type:t,selectors:[["","ngbRadioGroup",""]],hostAttrs:["role","radiogroup"],inputs:{name:"name"},features:[r.xb([dE])]}),t})(),mE=(()=>{class t{}return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)}}),t})(),bE=(()=>{class t{}return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)},imports:[[gt]]}),t})(),yE=(()=>{class t{}return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)}}),t})();class vE{constructor(t,e,n){this.year=QO(t)?t:null,this.month=QO(e)?e:null,this.day=QO(n)?n:null}static from(t){return t instanceof vE?t:t?new vE(t.year,t.month,t.day):null}equals(t){return null!=t&&this.year===t.year&&this.month===t.month&&this.day===t.day}before(t){return!!t&&(this.year===t.year?this.month===t.month?this.day!==t.day&&this.day<t.day:this.month<t.month:this.year<t.year)}after(t){return!!t&&(this.year===t.year?this.month===t.month?this.day!==t.day&&this.day>t.day:this.month>t.month:this.year>t.year)}}function wE(t){return new vE(t.getFullYear(),t.getMonth()+1,t.getDate())}function _E(t){const e=new Date(t.year,t.month-1,t.day,12);return isNaN(e.getTime())||e.setFullYear(t.year),e}function OE(){return new CE}let EE=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Gb)({factory:OE,token:t,providedIn:"root"}),t})(),CE=(()=>{class t extends EE{getDaysPerWeek(){return 7}getMonths(){return[1,2,3,4,5,6,7,8,9,10,11,12]}getWeeksPerMonth(){return 6}getNext(t,e="d",n=1){let r=_E(t),i=!0,o=r.getMonth();switch(e){case"y":r.setFullYear(r.getFullYear()+n);break;case"m":o+=n,r.setMonth(o),o%=12,o<0&&(o+=12);break;case"d":r.setDate(r.getDate()+n),i=!1;break;default:return t}return i&&r.getMonth()!==o&&r.setDate(0),wE(r)}getPrev(t,e="d",n=1){return this.getNext(t,e,-n)}getWeekday(t){let e=_E(t).getDay();return 0===e?7:e}getWeekNumber(t,e){7===e&&(e=0);const n=_E(t[(11-e)%7]);n.setDate(n.getDate()+4-(n.getDay()||7));const r=n.getTime();return n.setMonth(0),n.setDate(1),Math.floor(Math.round((r-n.getTime())/864e5)/7)+1}getToday(){return wE(new Date)}isValid(t){if(!(t&&QO(t.year)&&QO(t.month)&&QO(t.day)))return!1;if(0===t.year)return!1;const e=_E(t);return!isNaN(e.getTime())&&e.getFullYear()===t.year&&e.getMonth()+1===t.month&&e.getDate()===t.day}}return t.\u0275fac=function(e){return xE(e||t)},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})();const xE=r.Rb(CE);function SE(t,e){return!function(t,e){return!t&&!e||!!t&&!!e&&t.equals(e)}(t,e)}function TE(t,e){return!(!t&&!e||t&&e&&t.year===e.year&&t.month===e.month)}function IE(t,e,n){return t&&e&&t.before(e)?e:t&&n&&t.after(n)?n:t||null}function kE(t,e){const{minDate:n,maxDate:r,disabled:i,markDisabled:o}=e;return!(null==t||i||o&&o(t,{year:t.year,month:t.month})||n&&t.before(n)||r&&t.after(r))}let AE=(()=>{class t{getDayNumerals(t){return""+t.day}getWeekNumerals(t){return""+t}getYearNumerals(t){return""+t}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Gb)({factory:function(){return t=Object(r.Wb)(r.u),new DE(t);var t},token:t,providedIn:"root"}),t})(),DE=(()=>{class t extends AE{constructor(t){super(),this._locale=t;const e=D(t,S.Standalone,T.Short);this._weekdaysShort=e.map((t,n)=>e[(n+1)%7]),this._monthsShort=j(t,S.Standalone,T.Abbreviated),this._monthsFull=j(t,S.Standalone,T.Wide)}getWeekdayShortName(t){return this._weekdaysShort[t-1]||""}getMonthShortName(t){return this._monthsShort[t-1]||""}getMonthFullName(t){return this._monthsFull[t-1]||""}getDayAriaLabel(t){return $(new Date(t.year,t.month-1,t.day),"fullDate",this._locale)}}return t.\u0275fac=function(e){return new(e||t)(r.Wb(r.u))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})(),jE=(()=>{class t{constructor(t,e){this._calendar=t,this._i18n=e,this._VALIDATORS={dayTemplateData:t=>{if(this._state.dayTemplateData!==t)return{dayTemplateData:t}},displayMonths:t=>{if(QO(t=$O(t))&&t>0&&this._state.displayMonths!==t)return{displayMonths:t}},disabled:t=>{if(this._state.disabled!==t)return{disabled:t}},firstDayOfWeek:t=>{if(QO(t=$O(t))&&t>=0&&this._state.firstDayOfWeek!==t)return{firstDayOfWeek:t}},focusVisible:t=>{if(this._state.focusVisible!==t&&!this._state.disabled)return{focusVisible:t}},markDisabled:t=>{if(this._state.markDisabled!==t)return{markDisabled:t}},maxDate:t=>{const e=this.toValidDate(t,null);if(SE(this._state.maxDate,e))return{maxDate:e}},minDate:t=>{const e=this.toValidDate(t,null);if(SE(this._state.minDate,e))return{minDate:e}},navigation:t=>{if(this._state.navigation!==t)return{navigation:t}},outsideDays:t=>{if(this._state.outsideDays!==t)return{outsideDays:t}}},this._model$=new Ot.a,this._dateSelect$=new Ot.a,this._state={dayTemplateData:null,markDisabled:null,maxDate:null,minDate:null,disabled:!1,displayMonths:1,firstDate:null,firstDayOfWeek:1,lastDate:null,focusDate:null,focusVisible:!1,months:[],navigation:"select",outsideDays:"visible",prevDisabled:!1,nextDisabled:!1,selectedDate:null,selectBoxes:{years:[],months:[]}}}get model$(){return this._model$.pipe(qt(t=>t.months.length>0))}get dateSelect$(){return this._dateSelect$.pipe(qt(t=>null!==t))}set(t){let e=Object.keys(t).map(e=>this._VALIDATORS[e](t[e])).reduce((t,e)=>Object.assign(Object.assign({},t),e),{});Object.keys(e).length>0&&this._nextState(e)}focus(t){const e=this.toValidDate(t,null);null!=e&&!this._state.disabled&&SE(this._state.focusDate,e)&&this._nextState({focusDate:t})}focusSelect(){kE(this._state.focusDate,this._state)&&this.select(this._state.focusDate,{emitEvent:!0})}open(t){const e=this.toValidDate(t,this._calendar.getToday());null==e||this._state.disabled||this._state.firstDate&&!TE(this._state.firstDate,e)||this._nextState({firstDate:e})}select(t,e={}){const n=this.toValidDate(t,null);null==n||this._state.disabled||(SE(this._state.selectedDate,n)&&this._nextState({selectedDate:n}),e.emitEvent&&kE(n,this._state)&&this._dateSelect$.next(n))}toValidDate(t,e){const n=vE.from(t);return void 0===e&&(e=this._calendar.getToday()),this._calendar.isValid(n)?n:e}getMonth(t){for(let e of this._state.months)if(t.month===e.number&&t.year===e.year)return e;throw new Error(`month ${t.month} of year ${t.year} not found`)}_nextState(t){const e=this._updateState(t);this._patchContexts(e),this._state=e,this._model$.next(this._state)}_patchContexts(t){const{months:e,displayMonths:n,selectedDate:r,focusDate:i,focusVisible:o,disabled:s,outsideDays:a}=t;t.months.forEach(t=>{t.weeks.forEach(u=>{u.days.forEach(u=>{i&&(u.context.focused=i.equals(u.date)&&o),u.tabindex=!s&&i&&u.date.equals(i)&&i.month===t.number?0:-1,!0===s&&(u.context.disabled=!0),void 0!==r&&(u.context.selected=null!==r&&r.equals(u.date)),t.number!==u.date.month&&(u.hidden="hidden"===a||"collapsed"===a||n>1&&u.date.after(e[0].firstDate)&&u.date.before(e[n-1].lastDate))})})})}_updateState(t){const e=Object.assign({},this._state,t);let n=e.firstDate;if(("minDate"in t||"maxDate"in t)&&(function(t,e){if(e&&t&&e.before(t))throw new Error(`'maxDate' ${e} should be greater than 'minDate' ${t}`)}(e.minDate,e.maxDate),e.focusDate=IE(e.focusDate,e.minDate,e.maxDate),e.firstDate=IE(e.firstDate,e.minDate,e.maxDate),n=e.focusDate),"disabled"in t&&(e.focusVisible=!1),"selectedDate"in t&&0===this._state.months.length&&(n=e.selectedDate),"focusVisible"in t)return e;if("focusDate"in t&&(e.focusDate=IE(e.focusDate,e.minDate,e.maxDate),n=e.focusDate,0!==e.months.length&&e.focusDate&&!e.focusDate.before(e.firstDate)&&!e.focusDate.after(e.lastDate)))return e;if("firstDate"in t&&(e.firstDate=IE(e.firstDate,e.minDate,e.maxDate),n=e.firstDate),n){const r=function(t,e,n,r,i){const{displayMonths:o,months:s}=n,a=s.splice(0,s.length);return Array.from({length:o},(n,r)=>{const o=Object.assign(t.getNext(e,"m",r),{day:1});if(s[r]=null,!i){const t=a.findIndex(t=>t.firstDate.equals(o));-1!==t&&(s[r]=a.splice(t,1)[0])}return o}).forEach((e,i)=>{null===s[i]&&(s[i]=function(t,e,n,r,i={}){const{dayTemplateData:o,minDate:s,maxDate:a,firstDayOfWeek:u,markDisabled:c,outsideDays:l}=n,h=t.getToday();i.firstDate=null,i.lastDate=null,i.number=e.month,i.year=e.year,i.weeks=i.weeks||[],i.weekdays=i.weekdays||[],e=function(t,e,n){const r=t.getDaysPerWeek(),i=new vE(e.year,e.month,1),o=t.getWeekday(i)%r;return t.getPrev(i,"d",(r+o-n)%r)}(t,e,u);for(let f=0;f<t.getWeeksPerMonth();f++){let n=i.weeks[f];n||(n=i.weeks[f]={number:0,days:[],collapsed:!0});const d=n.days;for(let u=0;u<t.getDaysPerWeek();u++){0===f&&(i.weekdays[u]=t.getWeekday(e));const n=new vE(e.year,e.month,e.day),l=t.getNext(n),p=r.getDayAriaLabel(n);let g=!!(s&&n.before(s)||a&&n.after(a));!g&&c&&(g=c(n,{month:i.number,year:i.year}));let m=n.equals(h),b=o?o(n,{month:i.number,year:i.year}):void 0;null===i.firstDate&&n.month===i.number&&(i.firstDate=n),n.month===i.number&&l.month!==i.number&&(i.lastDate=n);let y=d[u];y||(y=d[u]={}),y.date=n,y.context=Object.assign(y.context||{},{$implicit:n,date:n,data:b,currentMonth:i.number,currentYear:i.year,disabled:g,focused:!1,selected:!1,today:m}),y.tabindex=-1,y.ariaLabel=p,y.hidden=!1,e=l}n.number=t.getWeekNumber(d.map(t=>t.date),u),n.collapsed="collapsed"===l&&d[0].date.month!==i.number&&d[d.length-1].date.month!==i.number}return i}(t,e,n,r,a.shift()||{}))}),s}(this._calendar,n,e,this._i18n,"dayTemplateData"in t||"firstDayOfWeek"in t||"markDisabled"in t||"minDate"in t||"maxDate"in t||"disabled"in t||"outsideDays"in t);e.months=r,e.firstDate=r[0].firstDate,e.lastDate=r[r.length-1].lastDate,"selectedDate"in t&&!kE(e.selectedDate,e)&&(e.selectedDate=null),"firstDate"in t&&(!e.focusDate||e.focusDate.before(e.firstDate)||e.focusDate.after(e.lastDate))&&(e.focusDate=n);const i=!this._state.firstDate||this._state.firstDate.year!==e.firstDate.year,o=!this._state.firstDate||this._state.firstDate.month!==e.firstDate.month;"select"===e.navigation?(("minDate"in t||"maxDate"in t||0===e.selectBoxes.years.length||i)&&(e.selectBoxes.years=function(t,e,n){if(!t)return[];const r=e?Math.max(e.year,t.year-500):t.year-10,i=(n?Math.min(n.year,t.year+500):t.year+10)-r+1,o=Array(i);for(let s=0;s<i;s++)o[s]=r+s;return o}(e.firstDate,e.minDate,e.maxDate)),("minDate"in t||"maxDate"in t||0===e.selectBoxes.months.length||i)&&(e.selectBoxes.months=function(t,e,n,r){if(!e)return[];let i=t.getMonths(e.year);if(n&&e.year===n.year){const t=i.findIndex(t=>t===n.month);i=i.slice(t)}if(r&&e.year===r.year){const t=i.findIndex(t=>t===r.month);i=i.slice(0,t+1)}return i}(this._calendar,e.firstDate,e.minDate,e.maxDate))):e.selectBoxes={years:[],months:[]},"arrows"!==e.navigation&&"select"!==e.navigation||!(o||i||"minDate"in t||"maxDate"in t||"disabled"in t)||(e.prevDisabled=e.disabled||function(t,e,n){const r=Object.assign(t.getPrev(e,"m"),{day:1});return null!=n&&(r.year===n.year&&r.month<n.month||r.year<n.year&&1===n.month)}(this._calendar,e.firstDate,e.minDate),e.nextDisabled=e.disabled||function(t,e,n){const r=Object.assign(t.getNext(e,"m"),{day:1});return null!=n&&r.after(n)}(this._calendar,e.lastDate,e.maxDate))}return e}}return t.\u0275fac=function(e){return new(e||t)(r.Wb(EE),r.Wb(AE))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})();var NE=function(t){return t[t.PREV=0]="PREV",t[t.NEXT=1]="NEXT",t}({});let PE=(()=>{class t{constructor(){this.displayMonths=1,this.firstDayOfWeek=1,this.navigation="select",this.outsideDays="visible",this.showWeekdays=!0,this.showWeekNumbers=!1}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Gb)({factory:function(){return new t},token:t,providedIn:"root"}),t})();function RE(){return new VE}let ME=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Gb)({factory:RE,token:t,providedIn:"root"}),t})(),VE=(()=>{class t extends ME{fromModel(t){return t&&QO(t.year)&&QO(t.month)&&QO(t.day)?{year:t.year,month:t.month,day:t.day}:null}toModel(t){return t&&QO(t.year)&&QO(t.month)&&QO(t.day)?{year:t.year,month:t.month,day:t.day}:null}}return t.\u0275fac=function(e){return LE(e||t)},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})();const LE=r.Rb(VE),FE={provide:iw,useExisting:Object(r.T)(()=>HE),multi:!0};let UE=(()=>{class t{constructor(t){this.templateRef=t}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(r.K))},t.\u0275dir=r.Fb({type:t,selectors:[["ng-template","ngbDatepickerContent",""]]}),t})(),HE=(()=>{class t{constructor(t,e,n,i,o,s,a,u){this._service=t,this._calendar=e,this.i18n=n,this._elementRef=s,this._ngbDateAdapter=a,this._ngZone=u,this._controlValue=null,this._destroyed$=new Ot.a,this._publicState={},this.navigate=new r.n,this.dateSelect=new r.n,this.onChange=t=>{},this.onTouched=()=>{},["dayTemplate","dayTemplateData","displayMonths","firstDayOfWeek","footerTemplate","markDisabled","minDate","maxDate","navigation","outsideDays","showWeekdays","showWeekNumbers","startDate"].forEach(t=>this[t]=i[t]),t.dateSelect$.pipe(F_(this._destroyed$)).subscribe(t=>{this.dateSelect.emit(t)}),t.model$.pipe(F_(this._destroyed$)).subscribe(t=>{const e=t.firstDate,n=this.model?this.model.firstDate:null;this._publicState={maxDate:t.maxDate,minDate:t.minDate,firstDate:t.firstDate,lastDate:t.lastDate,focusedDate:t.focusDate,months:t.months.map(t=>t.firstDate)};let r=!1;if(!e.equals(n)&&(this.navigate.emit({current:n?{year:n.year,month:n.month}:null,next:{year:e.year,month:e.month},preventDefault:()=>r=!0}),r&&null!==n))return void this._service.open(n);const i=t.selectedDate,s=t.focusDate,a=this.model?this.model.focusDate:null;this.model=t,SE(i,this._controlValue)&&(this._controlValue=i,this.onTouched(),this.onChange(this._ngbDateAdapter.toModel(i))),SE(s,a)&&a&&t.focusVisible&&this.focus(),o.markForCheck()})}get state(){return this._publicState}get calendar(){return this._calendar}focusDate(t){this._service.focus(vE.from(t))}focusSelect(){this._service.focusSelect()}focus(){this._ngZone.onStable.asObservable().pipe(ue(1)).subscribe(()=>{const t=this._elementRef.nativeElement.querySelector('div.ngb-dp-day[tabindex="0"]');t&&t.focus()})}navigateTo(t){this._service.open(vE.from(t?t.day?t:Object.assign(Object.assign({},t),{day:1}):null))}ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{const t=x_(this._contentEl.nativeElement,"focusin"),e=x_(this._contentEl.nativeElement,"focusout"),{nativeElement:n}=this._elementRef;Object(xv.a)(t,e).pipe(qt(({target:t,relatedTarget:e})=>!(eE(t,"ngb-dp-day")&&eE(e,"ngb-dp-day")&&n.contains(t)&&n.contains(e))),F_(this._destroyed$)).subscribe(({type:t})=>this._ngZone.run(()=>this._service.set({focusVisible:"focusin"===t})))})}ngOnDestroy(){this._destroyed$.next()}ngOnInit(){if(void 0===this.model){const t={};["dayTemplateData","displayMonths","markDisabled","firstDayOfWeek","navigation","minDate","maxDate","outsideDays"].forEach(e=>t[e]=this[e]),this._service.set(t),this.navigateTo(this.startDate)}this.dayTemplate||(this.dayTemplate=this._defaultDayTemplate)}ngOnChanges(t){const e={};if(["dayTemplateData","displayMonths","markDisabled","firstDayOfWeek","navigation","minDate","maxDate","outsideDays"].filter(e=>e in t).forEach(t=>e[t]=this[t]),this._service.set(e),"startDate"in t){const{currentValue:e,previousValue:n}=t.startDate;TE(n,e)&&this.navigateTo(this.startDate)}}onDateSelect(t){this._service.focus(t),this._service.select(t,{emitEvent:!0})}onNavigateDateSelect(t){this._service.open(t)}onNavigateEvent(t){switch(t){case NE.PREV:this._service.open(this._calendar.getPrev(this.model.firstDate,"m",1));break;case NE.NEXT:this._service.open(this._calendar.getNext(this.model.firstDate,"m",1))}}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._service.set({disabled:t})}writeValue(t){this._controlValue=vE.from(this._ngbDateAdapter.fromModel(t)),this._service.select(this._controlValue)}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(jE),r.Kb(EE),r.Kb(AE),r.Kb(PE),r.Kb(r.h),r.Kb(r.l),r.Kb(ME),r.Kb(r.z))},t.\u0275cmp=r.Eb({type:t,selectors:[["ngb-datepicker"]],contentQueries:function(t,e,n){if(1&t&&r.sc(n,UE,!0),2&t){let t;r.nc(t=r.ac())&&(e.contentTemplate=t.first)}},viewQuery:function(t,e){if(1&t&&(r.tc(Y_,!0),r.tc(J_,!0)),2&t){let t;r.nc(t=r.ac())&&(e._defaultDayTemplate=t.first),r.nc(t=r.ac())&&(e._contentEl=t.first)}},inputs:{dayTemplate:"dayTemplate",dayTemplateData:"dayTemplateData",displayMonths:"displayMonths",firstDayOfWeek:"firstDayOfWeek",footerTemplate:"footerTemplate",markDisabled:"markDisabled",maxDate:"maxDate",minDate:"minDate",navigation:"navigation",outsideDays:"outsideDays",showWeekdays:"showWeekdays",showWeekNumbers:"showWeekNumbers",startDate:"startDate"},outputs:{navigate:"navigate",dateSelect:"dateSelect"},exportAs:["ngbDatepicker"],features:[r.xb([FE,jE]),r.wb],decls:10,vars:5,consts:[["defaultDayTemplate",""],["defaultContentTemplate",""],[1,"ngb-dp-header"],[3,"date","months","disabled","showSelect","prevDisabled","nextDisabled","selectBoxes","navigate","select",4,"ngIf"],[1,"ngb-dp-content"],["content",""],[3,"ngTemplateOutlet"],["ngbDatepickerDayView","",3,"date","currentMonth","selected","disabled","focused"],["class","ngb-dp-month",4,"ngFor","ngForOf"],[1,"ngb-dp-month"],["class","ngb-dp-month-name",4,"ngIf"],[3,"month"],[1,"ngb-dp-month-name"],[3,"date","months","disabled","showSelect","prevDisabled","nextDisabled","selectBoxes","navigate","select"]],template:function(t,e){if(1&t&&(r.vc(0,Q_,1,5,"ng-template",null,0,r.wc),r.vc(2,eO,1,1,"ng-template",null,1,r.wc),r.Pb(4,"div",2),r.vc(5,nO,1,7,"ngb-datepicker-navigation",3),r.Ob(),r.Pb(6,"div",4,5),r.vc(8,rO,0,0,"ng-template",6),r.Ob(),r.vc(9,iO,0,0,"ng-template",6)),2&t){const t=r.oc(3);r.yb(5),r.hc("ngIf","none"!==e.navigation),r.yb(1),r.Cb("ngb-dp-months",!e.contentTemplate),r.yb(2),r.hc("ngTemplateOutlet",(null==e.contentTemplate?null:e.contentTemplate.templateRef)||t),r.yb(1),r.hc("ngTemplateOutlet",e.footerTemplate)}},directives:function(){return[ht,pt,hC,ct,BE,WE]},styles:["ngb-datepicker{border:1px solid #dfdfdf;border-radius:.25rem;display:inline-block}ngb-datepicker-month{pointer-events:auto}ngb-datepicker.dropdown-menu{padding:0}.ngb-dp-body{z-index:1050}.ngb-dp-header{background-color:#f8f9fa;background-color:var(--light);border-bottom:0;border-radius:.25rem .25rem 0 0;padding-top:.25rem}.ngb-dp-months{display:-ms-flexbox;display:flex}.ngb-dp-month{pointer-events:none}.ngb-dp-month-name{background-color:#f8f9fa;background-color:var(--light);font-size:larger;height:2rem;line-height:2rem;text-align:center}.ngb-dp-month+.ngb-dp-month .ngb-dp-month-name,.ngb-dp-month+.ngb-dp-month .ngb-dp-week{padding-left:1rem}.ngb-dp-month:last-child .ngb-dp-week{padding-right:.25rem}.ngb-dp-month:first-child .ngb-dp-week{padding-left:.25rem}.ngb-dp-month .ngb-dp-week:last-child{padding-bottom:.25rem}"],encapsulation:2,changeDetection:0}),t})();var zE=function(t){return t[t.Tab=9]="Tab",t[t.Enter=13]="Enter",t[t.Escape=27]="Escape",t[t.Space=32]="Space",t[t.PageUp=33]="PageUp",t[t.PageDown=34]="PageDown",t[t.End=35]="End",t[t.Home=36]="Home",t[t.ArrowLeft=37]="ArrowLeft",t[t.ArrowUp=38]="ArrowUp",t[t.ArrowRight=39]="ArrowRight",t[t.ArrowDown=40]="ArrowDown",t}({});let qE=(()=>{class t{processKey(t,e){const{state:n,calendar:r}=e;switch(t.which){case zE.PageUp:e.focusDate(r.getPrev(n.focusedDate,t.shiftKey?"y":"m",1));break;case zE.PageDown:e.focusDate(r.getNext(n.focusedDate,t.shiftKey?"y":"m",1));break;case zE.End:e.focusDate(t.shiftKey?n.maxDate:n.lastDate);break;case zE.Home:e.focusDate(t.shiftKey?n.minDate:n.firstDate);break;case zE.ArrowLeft:e.focusDate(r.getPrev(n.focusedDate,"d",1));break;case zE.ArrowUp:e.focusDate(r.getPrev(n.focusedDate,"d",r.getDaysPerWeek()));break;case zE.ArrowRight:e.focusDate(r.getNext(n.focusedDate,"d",1));break;case zE.ArrowDown:e.focusDate(r.getNext(n.focusedDate,"d",r.getDaysPerWeek()));break;case zE.Enter:case zE.Space:e.focusSelect();break;default:return}t.preventDefault(),t.stopPropagation()}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Gb)({factory:function(){return new t},token:t,providedIn:"root"}),t})(),BE=(()=>{class t{constructor(t,e,n,r){this.i18n=t,this.datepicker=e,this._keyboardService=n,this._service=r}set month(t){this.viewModel=this._service.getMonth(t)}onKeyDown(t){this._keyboardService.processKey(t,this.datepicker)}doSelect(t){t.context.disabled||t.hidden||this.datepicker.onDateSelect(t.date)}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(AE),r.Kb(HE),r.Kb(qE),r.Kb(jE))},t.\u0275cmp=r.Eb({type:t,selectors:[["ngb-datepicker-month"]],hostAttrs:["role","grid"],hostBindings:function(t,e){1&t&&r.Zb("keydown",function(t){return e.onKeyDown(t)})},inputs:{month:"month"},decls:2,vars:2,consts:[["class","ngb-dp-week ngb-dp-weekdays","role","row",4,"ngIf"],["ngFor","",3,"ngForOf"],["role","row",1,"ngb-dp-week","ngb-dp-weekdays"],["class","ngb-dp-weekday ngb-dp-showweek",4,"ngIf"],["class","ngb-dp-weekday small","role","columnheader",4,"ngFor","ngForOf"],[1,"ngb-dp-weekday","ngb-dp-showweek"],["role","columnheader",1,"ngb-dp-weekday","small"],["class","ngb-dp-week","role","row",4,"ngIf"],["role","row",1,"ngb-dp-week"],["class","ngb-dp-week-number small text-muted",4,"ngIf"],["class","ngb-dp-day","role","gridcell",3,"disabled","tabindex","hidden","ngb-dp-today","click",4,"ngFor","ngForOf"],[1,"ngb-dp-week-number","small","text-muted"],["role","gridcell",1,"ngb-dp-day",3,"tabindex","click"],[3,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(t,e){1&t&&(r.vc(0,aO,3,2,"div",0),r.vc(1,dO,1,1,"ng-template",1)),2&t&&(r.hc("ngIf",e.datepicker.showWeekdays),r.yb(1),r.hc("ngForOf",e.viewModel.weeks))},directives:[ht,ct,pt],styles:['ngb-datepicker-month{display:block}.ngb-dp-week-number,.ngb-dp-weekday{font-style:italic;line-height:2rem;text-align:center}.ngb-dp-weekday{color:#5bc0de;color:var(--info)}.ngb-dp-week{border-radius:.25rem;display:-ms-flexbox;display:flex}.ngb-dp-weekdays{background-color:#f8f9fa;background-color:var(--light);border-bottom:1px solid rgba(0,0,0,.125);border-radius:0}.ngb-dp-day,.ngb-dp-week-number,.ngb-dp-weekday{height:2rem;width:2rem}.ngb-dp-day{cursor:pointer}.ngb-dp-day.disabled,.ngb-dp-day.hidden{cursor:default;pointer-events:none}.ngb-dp-day[tabindex="0"]{z-index:1}'],encapsulation:2}),t})(),WE=(()=>{class t{constructor(t){this.i18n=t,this.navigation=NE,this.months=[],this.navigate=new r.n,this.select=new r.n}onClickPrev(t){t.currentTarget.focus(),this.navigate.emit(this.navigation.PREV)}onClickNext(t){t.currentTarget.focus(),this.navigate.emit(this.navigation.NEXT)}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(AE))},t.\u0275cmp=r.Eb({type:t,selectors:[["ngb-datepicker-navigation"]],inputs:{months:"months",date:"date",disabled:"disabled",showSelect:"showSelect",prevDisabled:"prevDisabled",nextDisabled:"nextDisabled",selectBoxes:"selectBoxes"},outputs:{navigate:"navigate",select:"select"},decls:8,vars:4,consts:function(){let t,e,n,r;return t=$localize`:@@ngb.datepicker.previous-monthc3b08b07b5ab98e7cdcf18df39355690ab7d38848586908745456864217:Previous month`,e=$localize`:@@ngb.datepicker.previous-monthc3b08b07b5ab98e7cdcf18df39355690ab7d38848586908745456864217:Previous month`,n=$localize`:@@ngb.datepicker.next-month4bd046985cfe13040d5ef0cd881edce0968a111a3628374603023447227:Next month`,r=$localize`:@@ngb.datepicker.next-month4bd046985cfe13040d5ef0cd881edce0968a111a3628374603023447227:Next month`,[[1,"ngb-dp-arrow"],["type","button","aria-label",t,"title",e,1,"btn","btn-link","ngb-dp-arrow-btn",3,"disabled","click"],[1,"ngb-dp-navigation-chevron"],["class","ngb-dp-navigation-select",3,"date","disabled","months","years","select",4,"ngIf"],[4,"ngIf"],[1,"ngb-dp-arrow","right"],["type","button","aria-label",n,"title",r,1,"btn","btn-link","ngb-dp-arrow-btn",3,"disabled","click"],[1,"ngb-dp-navigation-select",3,"date","disabled","months","years","select"],["ngFor","",3,"ngForOf"],["class","ngb-dp-arrow",4,"ngIf"],[1,"ngb-dp-month-name"]]},template:function(t,e){1&t&&(r.Pb(0,"div",0),r.Pb(1,"button",1),r.Zb("click",function(t){return e.onClickPrev(t)}),r.Lb(2,"span",2),r.Ob(),r.Ob(),r.vc(3,pO,1,4,"ngb-datepicker-navigation-select",3),r.vc(4,yO,1,1,void 0,4),r.Pb(5,"div",5),r.Pb(6,"button",6),r.Zb("click",function(t){return e.onClickNext(t)}),r.Lb(7,"span",2),r.Ob(),r.Ob()),2&t&&(r.yb(1),r.hc("disabled",e.prevDisabled),r.yb(2),r.hc("ngIf",e.showSelect),r.yb(1),r.hc("ngIf",!e.showSelect),r.yb(2),r.hc("disabled",e.nextDisabled))},directives:function(){return[ht,fC,ct]},styles:["ngb-datepicker-navigation{-ms-flex-align:center;align-items:center;display:-ms-flexbox;display:flex}.ngb-dp-navigation-chevron{-webkit-transform:rotate(-135deg);border-style:solid;border-width:.2em .2em 0 0;display:inline-block;height:.75em;margin-left:.25em;margin-right:.15em;transform:rotate(-135deg);width:.75em}.right .ngb-dp-navigation-chevron{-webkit-transform:rotate(45deg);margin-left:.15em;margin-right:.25em;transform:rotate(45deg)}.ngb-dp-arrow{-ms-flex:1 1 auto;display:-ms-flexbox;display:flex;flex:1 1 auto;height:2rem;margin:0;padding-left:0;padding-right:0;width:2rem}.ngb-dp-arrow.right{-ms-flex-pack:end;justify-content:flex-end}.ngb-dp-arrow-btn{background-color:transparent;border:none;margin:0 .5rem;padding:0 .25rem;z-index:1}.ngb-dp-arrow-btn:focus{outline-style:auto;outline-width:1px}@media (-ms-high-contrast:active),(-ms-high-contrast:none){.ngb-dp-arrow-btn:focus{outline-style:solid}}.ngb-dp-month-name{font-size:larger;height:2rem;line-height:2rem;text-align:center}.ngb-dp-navigation-select{-ms-flex:1 1 9rem;display:-ms-flexbox;display:flex;flex:1 1 9rem}"],encapsulation:2,changeDetection:0}),t})();const GE=(t,e)=>!!e&&e.some(e=>e.contains(t)),$E=(t,e)=>!e||null!=function(t,e){return e?void 0===t.closest?null:t.closest(e):null}(t,e),KE="undefined"!=typeof navigator&&!!navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));function ZE(t,e,n,r,i,o,s,a){var u;n&&t.runOutsideAngular((u=()=>{const u=x_(e,"keydown").pipe(F_(i),qt(t=>t.which===zE.Escape),Object(Oe.a)(t=>t.preventDefault())),c=x_(e,"mousedown").pipe(Object(Ut.a)(t=>{const e=t.target;return 2!==t.button&&!GE(e,s)&&("inside"===n?GE(e,o)&&$E(e,a):"outside"===n?!GE(e,o):$E(e,a)||!GE(e,o))}),F_(i)),l=x_(e,"mouseup").pipe(z_(c),qt(([t,e])=>e),function(t,e=Zi.a){var n;const r=(n=t)instanceof Date&&!isNaN(+n)?+t-e.now():Math.abs(t);return t=>t.lift(new G_(r,e))}(0),F_(i));k_([u.pipe(Object(Ut.a)(t=>0)),l.pipe(Object(Ut.a)(t=>1))]).subscribe(e=>t.run(()=>r(e)))},KE?()=>setTimeout(()=>u(),100):u))}const YE=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function JE(t){const e=Array.from(t.querySelectorAll(YE)).filter(t=>-1!==t.tabIndex);return[e[0],e[e.length-1]]}const QE=(t,e,n,r=!1)=>{t.runOutsideAngular(()=>{const t=x_(e,"focusin").pipe(F_(n),Object(Ut.a)(t=>t.target));x_(e,"keydown").pipe(F_(n),qt(t=>t.which===zE.Tab),z_(t)).subscribe(([t,n])=>{const[r,i]=JE(e);n!==r&&n!==e||!t.shiftKey||(i.focus(),t.preventDefault()),n!==i||t.shiftKey||(r.focus(),t.preventDefault())}),r&&x_(e,"click").pipe(F_(n),z_(t),Object(Ut.a)(t=>t[1])).subscribe(t=>t.focus())})},XE=/\s+/,tC=new class{getAllStyles(t){return window.getComputedStyle(t)}getStyle(t,e){return this.getAllStyles(t)[e]}isStaticPositioned(t){return"static"===(this.getStyle(t,"position")||"static")}offsetParent(t){let e=t.offsetParent||document.documentElement;for(;e&&e!==document.documentElement&&this.isStaticPositioned(e);)e=e.offsetParent;return e||document.documentElement}position(t,e=!0){let n,r={width:0,height:0,top:0,bottom:0,left:0,right:0};if("fixed"===this.getStyle(t,"position"))n=t.getBoundingClientRect(),n={top:n.top,bottom:n.bottom,left:n.left,right:n.right,height:n.height,width:n.width};else{const e=this.offsetParent(t);n=this.offset(t,!1),e!==document.documentElement&&(r=this.offset(e,!1)),r.top+=e.clientTop,r.left+=e.clientLeft}return n.top-=r.top,n.bottom-=r.top,n.left-=r.left,n.right-=r.left,e&&(n.top=Math.round(n.top),n.bottom=Math.round(n.bottom),n.left=Math.round(n.left),n.right=Math.round(n.right)),n}offset(t,e=!0){const n=t.getBoundingClientRect(),r=window.pageYOffset-document.documentElement.clientTop,i=window.pageXOffset-document.documentElement.clientLeft;let o={height:n.height||t.offsetHeight,width:n.width||t.offsetWidth,top:n.top+r,bottom:n.bottom+r,left:n.left+i,right:n.right+i};return e&&(o.height=Math.round(o.height),o.width=Math.round(o.width),o.top=Math.round(o.top),o.bottom=Math.round(o.bottom),o.left=Math.round(o.left),o.right=Math.round(o.right)),o}positionElements(t,e,n,r){const[i="top",o="center"]=n.split("-"),s=r?this.offset(t,!1):this.position(t,!1),a=this.getAllStyles(e),u=parseFloat(a.marginTop),c=parseFloat(a.marginBottom),l=parseFloat(a.marginLeft),h=parseFloat(a.marginRight);let f=0,d=0;switch(i){case"top":f=s.top-(e.offsetHeight+u+c);break;case"bottom":f=s.top+s.height;break;case"left":d=s.left-(e.offsetWidth+l+h);break;case"right":d=s.left+s.width}switch(o){case"top":f=s.top;break;case"bottom":f=s.top+s.height-e.offsetHeight;break;case"left":d=s.left;break;case"right":d=s.left+s.width-e.offsetWidth;break;case"center":"top"===i||"bottom"===i?d=s.left+s.width/2-e.offsetWidth/2:f=s.top+s.height/2-e.offsetHeight/2}e.style.transform=`translate(${Math.round(d)}px, ${Math.round(f)}px)`;const p=e.getBoundingClientRect(),g=document.documentElement,m=window.innerHeight||g.clientHeight,b=window.innerWidth||g.clientWidth;return p.left>=0&&p.top>=0&&p.right<=b&&p.bottom<=m}};function eC(t,e,n,r,i){let o=Array.isArray(n)?n:n.split(XE);const s=["top","bottom","left","right","top-left","top-right","bottom-left","bottom-right","left-top","left-bottom","right-top","right-bottom"],a=e.classList,u=t=>{const[e,n]=t.split("-"),r=[];return i&&(r.push(`${i}-${e}`),n&&r.push(`${i}-${e}-${n}`),r.forEach(t=>{a.add(t)})),r};i&&s.forEach(t=>{a.remove(`${i}-${t}`)});let c=o.findIndex(t=>"auto"===t);c>=0&&s.forEach(function(t){null==o.find(e=>-1!==e.search("^"+t))&&o.splice(c++,1,t)});const l=e.style;l.position="absolute",l.top="0",l.left="0",l["will-change"]="transform";let h=null,f=!1;for(h of o){let n=u(h);if(tC.positionElements(t,e,h,r)){f=!0;break}i&&n.forEach(t=>{a.remove(t)})}return f||(h=o[0],u(h),tC.positionElements(t,e,h,r)),h}function nC(){return new iC}let rC=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Gb)({factory:nC,token:t,providedIn:"root"}),t})(),iC=(()=>{class t extends rC{parse(t){if(null!=t){const e=t.trim().split("-");if(1===e.length&&JO(e[0]))return{year:$O(e[0]),month:null,day:null};if(2===e.length&&JO(e[0])&&JO(e[1]))return{year:$O(e[0]),month:$O(e[1]),day:null};if(3===e.length&&JO(e[0])&&JO(e[1])&&JO(e[2]))return{year:$O(e[0]),month:$O(e[1]),day:$O(e[2])}}return null}format(t){return t?`${t.year}-${JO(t.month)?tE(t.month):""}-${JO(t.day)?tE(t.day):""}`:""}}return t.\u0275fac=function(e){return oC(e||t)},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})();const oC=r.Rb(iC);let sC=(()=>{class t extends PE{constructor(){super(...arguments),this.autoClose=!0,this.placement=["bottom-left","bottom-right","top-left","top-right"],this.restoreFocus=!0}}return t.\u0275fac=function(e){return aC(e||t)},t.\u0275prov=Object(r.Gb)({factory:function(){return new t},token:t,providedIn:"root"}),t})();const aC=r.Rb(sC),uC={provide:iw,useExisting:Object(r.T)(()=>lC),multi:!0},cC={provide:fw,useExisting:Object(r.T)(()=>lC),multi:!0};let lC=(()=>{class t{constructor(t,e,n,i,o,s,a,u,c,l,h){this._parserFormatter=t,this._elRef=e,this._vcRef=n,this._renderer=i,this._cfr=o,this._ngZone=s,this._calendar=a,this._dateAdapter=u,this._document=c,this._changeDetector=l,this._cRef=null,this._disabled=!1,this._elWithFocus=null,this._model=null,this.dateSelect=new r.n,this.navigate=new r.n,this.closed=new r.n,this._onChange=t=>{},this._onTouched=()=>{},this._validatorChange=()=>{},["autoClose","container","positionTarget","placement"].forEach(t=>this[t]=h[t]),this._zoneSubscription=s.onStable.subscribe(()=>this._updatePopupPosition())}get disabled(){return this._disabled}set disabled(t){this._disabled=""===t||t&&"false"!==t,this.isOpen()&&this._cRef.instance.setDisabledState(this._disabled)}registerOnChange(t){this._onChange=t}registerOnTouched(t){this._onTouched=t}registerOnValidatorChange(t){this._validatorChange=t}setDisabledState(t){this.disabled=t}validate(t){const{value:e}=t;if(null!=e){const t=this._fromDateStruct(this._dateAdapter.fromModel(e));if(!t)return{ngbDate:{invalid:e}};if(this.minDate&&t.before(vE.from(this.minDate)))return{ngbDate:{minDate:{minDate:this.minDate,actual:e}}};if(this.maxDate&&t.after(vE.from(this.maxDate)))return{ngbDate:{maxDate:{maxDate:this.maxDate,actual:e}}}}return null}writeValue(t){this._model=this._fromDateStruct(this._dateAdapter.fromModel(t)),this._writeModelValue(this._model)}manualDateChange(t,e=!1){const n=t!==this._inputValue;n&&(this._inputValue=t,this._model=this._fromDateStruct(this._parserFormatter.parse(t))),!n&&e||this._onChange(this._model?this._dateAdapter.toModel(this._model):""===t?null:t),e&&this._model&&this._writeModelValue(this._model)}isOpen(){return!!this._cRef}open(){if(!this.isOpen()){const t=this._cfr.resolveComponentFactory(HE);this._cRef=this._vcRef.createComponent(t),this._applyPopupStyling(this._cRef.location.nativeElement),this._applyDatepickerInputs(this._cRef.instance),this._subscribeForDatepickerOutputs(this._cRef.instance),this._cRef.instance.ngOnInit(),this._cRef.instance.writeValue(this._dateAdapter.toModel(this._model)),this._cRef.instance.registerOnChange(t=>{this.writeValue(t),this._onChange(t),this._onTouched()}),this._cRef.changeDetectorRef.detectChanges(),this._cRef.instance.setDisabledState(this.disabled),"body"===this.container&&this._document.querySelector(this.container).appendChild(this._cRef.location.nativeElement),this._elWithFocus=this._document.activeElement,QE(this._ngZone,this._cRef.location.nativeElement,this.closed,!0),this._cRef.instance.focus(),ZE(this._ngZone,this._document,this.autoClose,()=>this.close(),this.closed,[],[this._elRef.nativeElement,this._cRef.location.nativeElement])}}close(){if(this.isOpen()){this._vcRef.remove(this._vcRef.indexOf(this._cRef.hostView)),this._cRef=null,this.closed.emit(),this._changeDetector.markForCheck();let t=this._elWithFocus;YO(this.restoreFocus)?t=this._document.querySelector(this.restoreFocus):void 0!==this.restoreFocus&&(t=this.restoreFocus),t&&t.focus?t.focus():this._document.body.focus()}}toggle(){this.isOpen()?this.close():this.open()}navigateTo(t){this.isOpen()&&this._cRef.instance.navigateTo(t)}onBlur(){this._onTouched()}onFocus(){this._elWithFocus=this._elRef.nativeElement}ngOnChanges(t){(t.minDate||t.maxDate)&&(this._validatorChange(),this.isOpen()&&(t.minDate&&(this._cRef.instance.minDate=this.minDate),t.maxDate&&(this._cRef.instance.maxDate=this.maxDate),this._cRef.instance.ngOnChanges(t)))}ngOnDestroy(){this.close(),this._zoneSubscription.unsubscribe()}_applyDatepickerInputs(t){["dayTemplate","dayTemplateData","displayMonths","firstDayOfWeek","footerTemplate","markDisabled","minDate","maxDate","navigation","outsideDays","showNavigation","showWeekdays","showWeekNumbers"].forEach(e=>{void 0!==this[e]&&(t[e]=this[e])}),t.startDate=this.startDate||this._model}_applyPopupStyling(t){this._renderer.addClass(t,"dropdown-menu"),this._renderer.addClass(t,"show"),"body"===this.container&&this._renderer.addClass(t,"ngb-dp-body")}_subscribeForDatepickerOutputs(t){t.navigate.subscribe(t=>this.navigate.emit(t)),t.dateSelect.subscribe(t=>{this.dateSelect.emit(t),!0!==this.autoClose&&"inside"!==this.autoClose||this.close()})}_writeModelValue(t){const e=this._parserFormatter.format(t);this._inputValue=e,this._renderer.setProperty(this._elRef.nativeElement,"value",e),this.isOpen()&&(this._cRef.instance.writeValue(this._dateAdapter.toModel(t)),this._onTouched())}_fromDateStruct(t){const e=t?new vE(t.year,t.month,t.day):null;return this._calendar.isValid(e)?e:null}_updatePopupPosition(){if(!this._cRef)return;let t;if(t=YO(this.positionTarget)?this._document.querySelector(this.positionTarget):this.positionTarget instanceof HTMLElement?this.positionTarget:this._elRef.nativeElement,this.positionTarget&&!t)throw new Error("ngbDatepicker could not find element declared in [positionTarget] to position against.");eC(t,this._cRef.location.nativeElement,this.placement,"body"===this.container)}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(rC),r.Kb(r.l),r.Kb(r.P),r.Kb(r.D),r.Kb(r.j),r.Kb(r.z),r.Kb(EE),r.Kb(ME),r.Kb(a),r.Kb(r.h),r.Kb(sC))},t.\u0275dir=r.Fb({type:t,selectors:[["input","ngbDatepicker",""]],hostVars:1,hostBindings:function(t,e){1&t&&r.Zb("input",function(t){return e.manualDateChange(t.target.value)})("change",function(t){return e.manualDateChange(t.target.value,!0)})("focus",function(){return e.onFocus()})("blur",function(){return e.onBlur()}),2&t&&r.Sb("disabled",e.disabled)},inputs:{disabled:"disabled",autoClose:"autoClose",dayTemplate:"dayTemplate",dayTemplateData:"dayTemplateData",displayMonths:"displayMonths",firstDayOfWeek:"firstDayOfWeek",footerTemplate:"footerTemplate",markDisabled:"markDisabled",minDate:"minDate",maxDate:"maxDate",navigation:"navigation",outsideDays:"outsideDays",placement:"placement",restoreFocus:"restoreFocus",showWeekdays:"showWeekdays",showWeekNumbers:"showWeekNumbers",startDate:"startDate",container:"container",positionTarget:"positionTarget"},outputs:{dateSelect:"dateSelect",navigate:"navigate",closed:"closed"},exportAs:["ngbDatepicker"],features:[r.xb([uC,cC,{provide:PE,useExisting:sC}]),r.wb]}),t})(),hC=(()=>{class t{constructor(t){this.i18n=t}isMuted(){return!this.selected&&(this.date.month!==this.currentMonth||this.disabled)}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(AE))},t.\u0275cmp=r.Eb({type:t,selectors:[["","ngbDatepickerDayView",""]],hostAttrs:[1,"btn-light"],hostVars:10,hostBindings:function(t,e){2&t&&r.Cb("bg-primary",e.selected)("text-white",e.selected)("text-muted",e.isMuted())("outside",e.isMuted())("active",e.focused)},inputs:{currentMonth:"currentMonth",date:"date",disabled:"disabled",focused:"focused",selected:"selected"},attrs:vO,decls:1,vars:1,template:function(t,e){1&t&&r.xc(0),2&t&&r.yc(e.i18n.getDayNumerals(e.date))},styles:["[ngbDatepickerDayView]{background:transparent;border-radius:.25rem;height:2rem;line-height:2rem;text-align:center;width:2rem}[ngbDatepickerDayView].outside{opacity:.5}"],encapsulation:2,changeDetection:0}),t})(),fC=(()=>{class t{constructor(t,e){this.i18n=t,this._renderer=e,this.select=new r.n,this._month=-1,this._year=-1}changeMonth(t){this.select.emit(new vE(this.date.year,$O(t),1))}changeYear(t){this.select.emit(new vE($O(t),this.date.month,1))}ngAfterViewChecked(){this.date&&(this.date.month!==this._month&&(this._month=this.date.month,this._renderer.setProperty(this.monthSelect.nativeElement,"value",this._month)),this.date.year!==this._year&&(this._year=this.date.year,this._renderer.setProperty(this.yearSelect.nativeElement,"value",this._year)))}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(AE),r.Kb(r.D))},t.\u0275cmp=r.Eb({type:t,selectors:[["ngb-datepicker-navigation-select"]],viewQuery:function(t,e){if(1&t&&(r.tc(wO,!0,r.l),r.tc(_O,!0,r.l)),2&t){let t;r.nc(t=r.ac())&&(e.monthSelect=t.first),r.nc(t=r.ac())&&(e.yearSelect=t.first)}},inputs:{date:"date",disabled:"disabled",months:"months",years:"years"},outputs:{select:"select"},decls:6,vars:4,consts:function(){let t,e,n,r;return t=$localize`:@@ngb.datepicker.select-month1dbc84807f35518112f62e5775d1daebd3d8462b2253869508135064750:Select month`,e=$localize`:@@ngb.datepicker.select-month1dbc84807f35518112f62e5775d1daebd3d8462b2253869508135064750:Select month`,n=$localize`:@@ngb.datepicker.select-year8ceb09d002bf0c5d1cac171dfbffe1805d2b39628852264961585484321:Select year`,r=$localize`:@@ngb.datepicker.select-year8ceb09d002bf0c5d1cac171dfbffe1805d2b39628852264961585484321:Select year`,[["aria-label",t,"title",e,1,"custom-select",3,"disabled","change"],["month",""],[3,"value",4,"ngFor","ngForOf"],["aria-label",n,"title",r,1,"custom-select",3,"disabled","change"],["year",""],[3,"value"]]},template:function(t,e){1&t&&(r.Pb(0,"select",0,1),r.Zb("change",function(t){return e.changeMonth(t.target.value)}),r.vc(2,OO,2,3,"option",2),r.Ob(),r.Pb(3,"select",3,4),r.Zb("change",function(t){return e.changeYear(t.target.value)}),r.vc(5,EO,2,2,"option",2),r.Ob()),2&t&&(r.hc("disabled",e.disabled),r.yb(2),r.hc("ngForOf",e.months),r.yb(1),r.hc("disabled",e.disabled),r.yb(2),r.hc("ngForOf",e.years))},directives:[ct,Hw,Ww],styles:["ngb-datepicker-navigation-select>.custom-select{-ms-flex:1 1 auto;flex:1 1 auto;font-size:.875rem;height:1.85rem;padding:0 .5rem}ngb-datepicker-navigation-select>.custom-select:focus{z-index:1}ngb-datepicker-navigation-select>.custom-select::-ms-value{background-color:transparent!important}"],encapsulation:2,changeDetection:0}),t})();new Date(1882,10,12),new Date(2174,10,25);let dC=(()=>{class t{}return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)},imports:[[gt,__]]}),t})(),pC=(()=>{class t{}return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)}}),t})(),gC=(()=>{class t{constructor(t){this.backdrop=!0,this.keyboard=!0,this.animation=t.animation}}return t.\u0275fac=function(e){return new(e||t)(r.Wb(rE))},t.\u0275prov=Object(r.Gb)({factory:function(){return new t(Object(r.Wb)(rE))},token:t,providedIn:"root"}),t})();class mC{constructor(t,e,n){this.nodes=t,this.viewRef=e,this.componentRef=n}}class bC{constructor(t,e,n,r,i,o,s){this._type=t,this._injector=e,this._viewContainerRef=n,this._renderer=r,this._ngZone=i,this._componentFactoryResolver=o,this._applicationRef=s,this._windowRef=null,this._contentRef=null}open(t,e,n=!1){this._windowRef||(this._contentRef=this._getContentRef(t,e),this._windowRef=this._viewContainerRef.createComponent(this._componentFactoryResolver.resolveComponentFactory(this._type),this._viewContainerRef.length,this._injector,this._contentRef.nodes));const{nativeElement:r}=this._windowRef.location,i=this._ngZone.onStable.asObservable().pipe(ue(1)).pipe(Object(ve.a)(()=>aE(r,({classList:t})=>t.add("show"),{animation:n,runningTransition:"continue"})));return{windowRef:this._windowRef,transition$:i}}close(t=!1){return this._windowRef?aE(this._windowRef.location.nativeElement,({classList:t})=>t.remove("show"),{animation:t,runningTransition:"stop"}).pipe(Object(Oe.a)(()=>{var t;this._windowRef&&(this._viewContainerRef.remove(this._viewContainerRef.indexOf(this._windowRef.hostView)),this._windowRef=null),(null===(t=this._contentRef)||void 0===t?void 0:t.viewRef)&&(this._applicationRef.detachView(this._contentRef.viewRef),this._contentRef.viewRef.destroy(),this._contentRef=null)})):Object(wt.a)(void 0)}_getContentRef(t,e){if(t){if(t instanceof r.K){const n=t.createEmbeddedView(e);return this._applicationRef.attachView(n),new mC([n.rootNodes],n)}return new mC([[this._renderer.createText(""+t)]])}return new mC([])}}const yC=()=>{};let vC=(()=>{class t{constructor(t){this._document=t}compensate(){const t=this._getWidth();return this._isPresent(t)?this._adjustBody(t):yC}_adjustBody(t){const e=this._document.body,n=e.style.paddingRight,r=parseFloat(window.getComputedStyle(e)["padding-right"]);return e.style["padding-right"]=r+t+"px",()=>e.style["padding-right"]=n}_isPresent(t){const e=this._document.body.getBoundingClientRect();return window.innerWidth-(e.left+e.right)>=t-.1*t}_getWidth(){const t=this._document.createElement("div");t.className="modal-scrollbar-measure";const e=this._document.body;e.appendChild(t);const n=t.getBoundingClientRect().width-t.clientWidth;return e.removeChild(t),n}}return t.\u0275fac=function(e){return new(e||t)(r.Wb(a))},t.\u0275prov=Object(r.Gb)({factory:function(){return new t(Object(r.Wb)(a))},token:t,providedIn:"root"}),t})(),wC=(()=>{class t{constructor(t,e){this._el=t,this._zone=e}ngOnInit(){this._zone.onStable.asObservable().pipe(ue(1)).subscribe(()=>{aE(this._el.nativeElement,({classList:t})=>t.add("show"),{animation:this.animation,runningTransition:"continue"})})}hide(){return aE(this._el.nativeElement,({classList:t})=>t.remove("show"),{animation:this.animation,runningTransition:"stop"})}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(r.l),r.Kb(r.z))},t.\u0275cmp=r.Eb({type:t,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1050"],hostVars:6,hostBindings:function(t,e){2&t&&(r.Ab("modal-backdrop"+(e.backdropClass?" "+e.backdropClass:"")),r.Cb("show",!e.animation)("fade",e.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},decls:0,vars:0,template:function(t,e){},encapsulation:2}),t})();class _C{close(t){}dismiss(t){}}class OC{constructor(t,e,n,r){this._windowCmptRef=t,this._contentRef=e,this._backdropCmptRef=n,this._beforeDismiss=r,this._closed=new Ot.a,this._dismissed=new Ot.a,this._hidden=new Ot.a,t.instance.dismissEvent.subscribe(t=>{this.dismiss(t)}),this.result=new Promise((t,e)=>{this._resolve=t,this._reject=e}),this.result.then(null,()=>{})}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe(F_(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe(F_(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}close(t){this._windowCmptRef&&(this._closed.next(t),this._resolve(t),this._removeModalElements())}_dismiss(t){this._dismissed.next(t),this._reject(t),this._removeModalElements()}dismiss(t){if(this._windowCmptRef)if(this._beforeDismiss){const e=this._beforeDismiss();e&&e.then?e.then(e=>{!1!==e&&this._dismiss(t)},()=>{}):!1!==e&&this._dismiss(t)}else this._dismiss(t)}_removeModalElements(){const t=this._windowCmptRef.instance.hide(),e=this._backdropCmptRef?this._backdropCmptRef.instance.hide():Object(wt.a)(void 0);t.subscribe(()=>{const{nativeElement:t}=this._windowCmptRef.location;t.parentNode.removeChild(t),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),e.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:t}=this._backdropCmptRef.location;t.parentNode.removeChild(t),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),N_(t,e).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var EC=function(t){return t[t.BACKDROP_CLICK=0]="BACKDROP_CLICK",t[t.ESC=1]="ESC",t}({});let CC=(()=>{class t{constructor(t,e,n){this._document=t,this._elRef=e,this._zone=n,this._closed$=new Ot.a,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new r.n,this.shown=new Ot.a,this.hidden=new Ot.a}dismiss(t){this.dismissEvent.emit(t)}ngOnInit(){this._elWithFocus=this._document.activeElement}ngAfterViewInit(){this._show()}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:t}=this._elRef,e={animation:this.animation,runningTransition:"stop"},n=N_(aE(t,()=>t.classList.remove("show"),e),aE(this._dialogEl.nativeElement,()=>{},e));return n.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),n}_show(){const{nativeElement:t}=this._elRef,e={animation:this.animation,runningTransition:"continue"};N_(aE(t,()=>t.classList.add("show"),e),aE(this._dialogEl.nativeElement,()=>{},e)).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:t}=this._elRef;this._zone.runOutsideAngular(()=>{x_(t,"keydown").pipe(F_(this._closed$),qt(t=>t.which===zE.Escape)).subscribe(t=>{this.keyboard?requestAnimationFrame(()=>{t.defaultPrevented||this._zone.run(()=>this.dismiss(EC.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let e=!1;x_(this._dialogEl.nativeElement,"mousedown").pipe(F_(this._closed$),Object(Oe.a)(()=>e=!1),oe(()=>x_(t,"mouseup").pipe(F_(this._closed$),ue(1))),qt(({target:e})=>t===e)).subscribe(()=>{e=!0}),x_(t,"click").pipe(F_(this._closed$)).subscribe(({target:n})=>{t===n&&("static"===this.backdrop?this._bumpBackdrop():!0!==this.backdrop||e||this._zone.run(()=>this.dismiss(EC.BACKDROP_CLICK))),e=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:t}=this._elRef;if(!t.contains(document.activeElement)){const e=t.querySelector("[ngbAutofocus]"),n=JE(t)[0];(e||n||t).focus()}}_restoreFocus(){const t=this._document.body,e=this._elWithFocus;let n;n=e&&e.focus&&t.contains(e)?e:t,this._zone.runOutsideAngular(()=>{setTimeout(()=>n.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&aE(this._elRef.nativeElement,({classList:t})=>(t.add("modal-static"),()=>t.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(a),r.Kb(r.l),r.Kb(r.z))},t.\u0275cmp=r.Eb({type:t,selectors:[["ngb-modal-window"]],viewQuery:function(t,e){if(1&t&&r.tc(CO,!0),2&t){let t;r.nc(t=r.ac())&&(e._dialogEl=t.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(t,e){2&t&&(r.zb("aria-modal",!0)("aria-labelledby",e.ariaLabelledBy)("aria-describedby",e.ariaDescribedBy),r.Ab("modal d-block"+(e.windowClass?" "+e.windowClass:"")),r.Cb("fade",e.animation))},inputs:{backdrop:"backdrop",keyboard:"keyboard",animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",centered:"centered",scrollable:"scrollable",size:"size",windowClass:"windowClass"},outputs:{dismissEvent:"dismiss"},ngContentSelectors:Z_,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(t,e){1&t&&(r.gc(),r.Pb(0,"div",0,1),r.Pb(2,"div",2),r.fc(3),r.Ob(),r.Ob()),2&t&&r.Ab("modal-dialog"+(e.size?" modal-"+e.size:"")+(e.centered?" modal-dialog-centered":"")+(e.scrollable?" modal-dialog-scrollable":""))},styles:["ngb-modal-window .component-host-scrollable{-ms-flex-direction:column;display:-ms-flexbox;display:flex;flex-direction:column;overflow:hidden}"],encapsulation:2}),t})(),xC=(()=>{class t{constructor(t,e,n,i,o,s){this._applicationRef=t,this._injector=e,this._document=n,this._scrollBar=i,this._rendererFactory=o,this._ngZone=s,this._activeWindowCmptHasChanged=new Ot.a,this._ariaHiddenValues=new Map,this._backdropAttributes=["animation","backdropClass"],this._modalRefs=[],this._windowAttributes=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","keyboard","scrollable","size","windowClass"],this._windowCmpts=[],this._activeInstances=new r.n,this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const t=this._windowCmpts[this._windowCmpts.length-1];QE(this._ngZone,t.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(t.location.nativeElement)}})}open(t,e,n,r){const i=r.container instanceof HTMLElement?r.container:XO(r.container)?this._document.querySelector(r.container):this._document.body,o=this._rendererFactory.createRenderer(null,null),s=this._scrollBar.compensate(),a=()=>{this._modalRefs.length||(o.removeClass(this._document.body,"modal-open"),this._revertAriaHidden())};if(!i)throw new Error(`The specified modal container "${r.container||"body"}" was not found in the DOM.`);const u=new _C,c=this._getContentRef(t,r.injector||e,n,u,r);let l=!1!==r.backdrop?this._attachBackdrop(t,i):void 0,h=this._attachWindowComponent(t,i,c),f=new OC(h,c,l,r.beforeDismiss);return this._registerModalRef(f),this._registerWindowCmpt(h),f.result.then(s,s),f.result.then(a,a),u.close=t=>{f.close(t)},u.dismiss=t=>{f.dismiss(t)},this._applyWindowOptions(h.instance,r),1===this._modalRefs.length&&o.addClass(this._document.body,"modal-open"),l&&l.instance&&this._applyBackdropOptions(l.instance,r),f}get activeInstances(){return this._activeInstances}dismissAll(t){this._modalRefs.forEach(e=>e.dismiss(t))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(t,e){let n=t.resolveComponentFactory(wC).create(this._injector);return this._applicationRef.attachView(n.hostView),e.appendChild(n.location.nativeElement),n}_attachWindowComponent(t,e,n){let r=t.resolveComponentFactory(CC).create(this._injector,n.nodes);return this._applicationRef.attachView(r.hostView),e.appendChild(r.location.nativeElement),r}_applyWindowOptions(t,e){this._windowAttributes.forEach(n=>{XO(e[n])&&(t[n]=e[n])})}_applyBackdropOptions(t,e){this._backdropAttributes.forEach(n=>{XO(e[n])&&(t[n]=e[n])})}_getContentRef(t,e,n,i,o){return n?n instanceof r.K?this._createFromTemplateRef(n,i):YO(n)?this._createFromString(n):this._createFromComponent(t,e,n,i,o):new mC([])}_createFromTemplateRef(t,e){const n=t.createEmbeddedView({$implicit:e,close(t){e.close(t)},dismiss(t){e.dismiss(t)}});return this._applicationRef.attachView(n),new mC([n.rootNodes],n)}_createFromString(t){const e=this._document.createTextNode(""+t);return new mC([[e]])}_createFromComponent(t,e,n,i,o){const s=t.resolveComponentFactory(n),a=r.r.create({providers:[{provide:_C,useValue:i}],parent:e}),u=s.create(a),c=u.location.nativeElement;return o.scrollable&&c.classList.add("component-host-scrollable"),this._applicationRef.attachView(u.hostView),new mC([[c]],u.hostView,u)}_setAriaHidden(t){const e=t.parentElement;e&&t!==this._document.body&&(Array.from(e.children).forEach(e=>{e!==t&&"SCRIPT"!==e.nodeName&&(this._ariaHiddenValues.set(e,e.getAttribute("aria-hidden")),e.setAttribute("aria-hidden","true"))}),this._setAriaHidden(e))}_revertAriaHidden(){this._ariaHiddenValues.forEach((t,e)=>{t?e.setAttribute("aria-hidden",t):e.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(t){const e=()=>{const e=this._modalRefs.indexOf(t);e>-1&&(this._modalRefs.splice(e,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(t),this._activeInstances.emit(this._modalRefs),t.result.then(e,e)}_registerWindowCmpt(t){this._windowCmpts.push(t),this._activeWindowCmptHasChanged.next(),t.onDestroy(()=>{const e=this._windowCmpts.indexOf(t);e>-1&&(this._windowCmpts.splice(e,1),this._activeWindowCmptHasChanged.next())})}}return t.\u0275fac=function(e){return new(e||t)(r.Wb(r.g),r.Wb(r.r),r.Wb(a),r.Wb(vC),r.Wb(r.E),r.Wb(r.z))},t.\u0275prov=Object(r.Gb)({factory:function(){return new t(Object(r.Wb)(r.g),Object(r.Wb)(r.o),Object(r.Wb)(a),Object(r.Wb)(vC),Object(r.Wb)(r.E),Object(r.Wb)(r.z))},token:t,providedIn:"root"}),t})(),SC=(()=>{class t{constructor(t,e,n,r){this._moduleCFR=t,this._injector=e,this._modalStack=n,this._config=r}open(t,e={}){const n=Object.assign({},this._config,e);return this._modalStack.open(this._moduleCFR,this._injector,t,n)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(t){this._modalStack.dismissAll(t)}hasOpenModals(){return this._modalStack.hasOpenModals()}}return t.\u0275fac=function(e){return new(e||t)(r.Wb(r.j),r.Wb(r.r),r.Wb(xC),r.Wb(gC))},t.\u0275prov=Object(r.Gb)({factory:function(){return new t(Object(r.Wb)(r.j),Object(r.Wb)(r.o),Object(r.Wb)(xC),Object(r.Wb)(gC))},token:t,providedIn:"root"}),t})(),TC=(()=>{class t{}return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)},providers:[SC]}),t})(),IC=(()=>{class t{}return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)},imports:[[gt]]}),t})(),kC=(()=>{class t{}return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)},imports:[[gt]]}),t})(),AC=(()=>{class t{}return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)},imports:[[gt]]}),t})(),DC=(()=>{class t{}return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)},imports:[[gt]]}),t})(),jC=(()=>{class t{constructor(){this.max=10,this.readonly=!1,this.resettable=!1}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Gb)({factory:function(){return new t},token:t,providedIn:"root"}),t})();const NC={provide:iw,useExisting:Object(r.T)(()=>PC),multi:!0};let PC=(()=>{class t{constructor(t,e){this._changeDetectorRef=e,this.contexts=[],this.disabled=!1,this.hover=new r.n,this.leave=new r.n,this.rateChange=new r.n(!0),this.onChange=t=>{},this.onTouched=()=>{},this.max=t.max,this.readonly=t.readonly}ariaValueText(){return`${this.nextRate} out of ${this.max}`}isInteractive(){return!this.readonly&&!this.disabled}enter(t){this.isInteractive()&&this._updateState(t),this.hover.emit(t)}handleBlur(){this.onTouched()}handleClick(t){this.isInteractive()&&this.update(this.resettable&&this.rate===t?0:t)}handleKeyDown(t){switch(t.which){case zE.ArrowDown:case zE.ArrowLeft:this.update(this.rate-1);break;case zE.ArrowUp:case zE.ArrowRight:this.update(this.rate+1);break;case zE.Home:this.update(0);break;case zE.End:this.update(this.max);break;default:return}t.preventDefault()}ngOnChanges(t){t.rate&&this.update(this.rate)}ngOnInit(){this.contexts=Array.from({length:this.max},(t,e)=>({fill:0,index:e})),this._updateState(this.rate)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}reset(){this.leave.emit(this.nextRate),this._updateState(this.rate)}setDisabledState(t){this.disabled=t}update(t,e=!0){const n=ZO(t,this.max,0);this.isInteractive()&&this.rate!==n&&(this.rate=n,this.rateChange.emit(this.rate)),e&&(this.onChange(this.rate),this.onTouched()),this._updateState(this.rate)}writeValue(t){this.update(t,!1),this._changeDetectorRef.markForCheck()}_updateState(t){this.nextRate=t,this.contexts.forEach((e,n)=>e.fill=Math.round(100*ZO(t-n,1,0)))}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(jC),r.Kb(r.h))},t.\u0275cmp=r.Eb({type:t,selectors:[["ngb-rating"]],contentQueries:function(t,e,n){if(1&t&&r.Db(n,r.K,!0),2&t){let t;r.nc(t=r.ac())&&(e.starTemplateFromContent=t.first)}},hostAttrs:["role","slider","aria-valuemin","0",1,"d-inline-flex"],hostVars:5,hostBindings:function(t,e){1&t&&r.Zb("blur",function(){return e.handleBlur()})("keydown",function(t){return e.handleKeyDown(t)})("mouseleave",function(){return e.reset()}),2&t&&(r.Sb("tabindex",e.disabled?-1:0),r.zb("aria-valuemax",e.max)("aria-valuenow",e.nextRate)("aria-valuetext",e.ariaValueText())("aria-disabled",!!e.readonly||null))},inputs:{max:"max",readonly:"readonly",rate:"rate",resettable:"resettable",starTemplate:"starTemplate"},outputs:{hover:"hover",leave:"leave",rateChange:"rateChange"},features:[r.xb([NC]),r.wb],decls:3,vars:1,consts:[["t",""],["ngFor","",3,"ngForOf"],[1,"sr-only"],[3,"mouseenter","click"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(t,e){1&t&&(r.vc(0,xO,1,1,"ng-template",null,0,r.wc),r.vc(2,TO,4,5,"ng-template",1)),2&t&&(r.yb(2),r.hc("ngForOf",e.contexts))},directives:[ct,pt],encapsulation:2,changeDetection:0}),t})(),RC=(()=>{class t{}return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)},imports:[[gt]]}),t})();class MC{constructor(t,e,n){this.hour=$O(t),this.minute=$O(e),this.second=$O(n)}changeHour(t=1){this.updateHour((isNaN(this.hour)?0:this.hour)+t)}updateHour(t){this.hour=JO(t)?(t<0?24+t:t)%24:NaN}changeMinute(t=1){this.updateMinute((isNaN(this.minute)?0:this.minute)+t)}updateMinute(t){JO(t)?(this.minute=t%60<0?60+t%60:t%60,this.changeHour(Math.floor(t/60))):this.minute=NaN}changeSecond(t=1){this.updateSecond((isNaN(this.second)?0:this.second)+t)}updateSecond(t){JO(t)?(this.second=t<0?60+t%60:t%60,this.changeMinute(Math.floor(t/60))):this.second=NaN}isValid(t=!0){return JO(this.hour)&&JO(this.minute)&&(!t||JO(this.second))}toString(){return`${this.hour||0}:${this.minute||0}:${this.second||0}`}}let VC=(()=>{class t{constructor(){this.meridian=!1,this.spinners=!0,this.seconds=!1,this.hourStep=1,this.minuteStep=1,this.secondStep=1,this.disabled=!1,this.readonlyInputs=!1,this.size="medium"}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Gb)({factory:function(){return new t},token:t,providedIn:"root"}),t})();function LC(){return new UC}let FC=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Gb)({factory:LC,token:t,providedIn:"root"}),t})(),UC=(()=>{class t extends FC{fromModel(t){return t&&QO(t.hour)&&QO(t.minute)?{hour:t.hour,minute:t.minute,second:QO(t.second)?t.second:null}:null}toModel(t){return t&&QO(t.hour)&&QO(t.minute)?{hour:t.hour,minute:t.minute,second:QO(t.second)?t.second:null}:null}}return t.\u0275fac=function(e){return HC(e||t)},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})();const HC=r.Rb(UC);let zC=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Gb)({factory:function(){return t=Object(r.Wb)(r.u),new qC(t);var t},token:t,providedIn:"root"}),t})(),qC=(()=>{class t extends zC{constructor(t){super(),this._periods=A(t,S.Standalone,T.Narrow)}getMorningPeriod(){return this._periods[0]}getAfternoonPeriod(){return this._periods[1]}}return t.\u0275fac=function(e){return new(e||t)(r.Wb(r.u))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})();const BC=/[^0-9]/g,WC={provide:iw,useExisting:Object(r.T)(()=>GC),multi:!0};let GC=(()=>{class t{constructor(t,e,n,r){this._config=t,this._ngbTimeAdapter=e,this._cd=n,this.i18n=r,this.onChange=t=>{},this.onTouched=()=>{},this.meridian=t.meridian,this.spinners=t.spinners,this.seconds=t.seconds,this.hourStep=t.hourStep,this.minuteStep=t.minuteStep,this.secondStep=t.secondStep,this.disabled=t.disabled,this.readonlyInputs=t.readonlyInputs,this.size=t.size}set hourStep(t){this._hourStep=QO(t)?t:this._config.hourStep}get hourStep(){return this._hourStep}set minuteStep(t){this._minuteStep=QO(t)?t:this._config.minuteStep}get minuteStep(){return this._minuteStep}set secondStep(t){this._secondStep=QO(t)?t:this._config.secondStep}get secondStep(){return this._secondStep}writeValue(t){const e=this._ngbTimeAdapter.fromModel(t);this.model=e?new MC(e.hour,e.minute,e.second):new MC,this.seconds||e&&JO(e.second)||(this.model.second=0),this._cd.markForCheck()}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this.disabled=t}changeHour(t){this.model.changeHour(t),this.propagateModelChange()}changeMinute(t){this.model.changeMinute(t),this.propagateModelChange()}changeSecond(t){this.model.changeSecond(t),this.propagateModelChange()}updateHour(t){const e=this.model.hour>=12,n=$O(t);this.model.updateHour(this.meridian&&(e&&n<12||!e&&12===n)?n+12:n),this.propagateModelChange()}updateMinute(t){this.model.updateMinute($O(t)),this.propagateModelChange()}updateSecond(t){this.model.updateSecond($O(t)),this.propagateModelChange()}toggleMeridian(){this.meridian&&this.changeHour(12)}formatInput(t){t.value=t.value.replace(BC,"")}formatHour(t){return JO(t)?tE(this.meridian?t%12==0?12:t%12:t%24):tE(NaN)}formatMinSec(t){return tE(JO(t)?t:NaN)}get isSmallSize(){return"small"===this.size}get isLargeSize(){return"large"===this.size}ngOnChanges(t){t.seconds&&!this.seconds&&this.model&&!JO(this.model.second)&&(this.model.second=0,this.propagateModelChange(!1))}propagateModelChange(t=!0){t&&this.onTouched(),this.model.isValid(this.seconds)?this.onChange(this._ngbTimeAdapter.toModel({hour:this.model.hour,minute:this.model.minute,second:this.model.second})):this.onChange(this._ngbTimeAdapter.toModel(null))}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(VC),r.Kb(FC),r.Kb(r.h),r.Kb(zC))},t.\u0275cmp=r.Eb({type:t,selectors:[["ngb-timepicker"]],inputs:{meridian:"meridian",spinners:"spinners",seconds:"seconds",hourStep:"hourStep",minuteStep:"minuteStep",secondStep:"secondStep",readonlyInputs:"readonlyInputs",size:"size"},features:[r.xb([WC]),r.wb],decls:16,vars:25,consts:function(){let t,e,n,r,i,o,s,a,u,c,l,h,f,d;return t=$localize`:@@ngb.timepicker.HHce676ab1d6d98f85c836381cf100a4a91ef95a1f4043638465245303811:HH`,e=$localize`:@@ngb.timepicker.hours3bbce5fef7e1151da052a4e529453edb340e39128070396816726827304:Hours`,n=$localize`:@@ngb.timepicker.MM72c8edf6a50068a05bde70991e36b1e881f4ca541647282246509919852:MM`,r=$localize`:@@ngb.timepicker.minutes41e62daa962947c0d23ded0981975d1bddf0bf385531237363767747080:Minutes`,i=$localize`:@@ngb.timepicker.increment-hourscb74bc1d625a6c1742f0d7d47306cf495780c2185939278348542933629:Increment hours`,o=$localize`:@@ngb.timepicker.decrement-hours147c7a19429da7d999e247d22e33fee370b1691b3651829882940481818:Decrement hours`,s=$localize`:@@ngb.timepicker.increment-minutesf5a4a3bc05e053f6732475d0e74875ec01c3a348180147720391025024:Increment minutes`,a=$localize`:@@ngb.timepicker.decrement-minutesc1a6899e529c096da5b660385d4e77fe1f7ad2717447789825403243588:Decrement minutes`,u=$localize`:@@ngb.timepicker.SSebe38d36a40a2383c5fefa9b4608ffbda08bd4a33628127143071124194:SS`,c=$localize`:@@ngb.timepicker.seconds4f2ed9e71a7c981db3e50ae2fedb28aff2ec4e6c8874012390997067175:Seconds`,l=$localize`:@@ngb.timepicker.increment-seconds912322ecee7d659d04dcf494a70e22e49d334b265364772110539092174:Increment seconds`,h=$localize`:@@ngb.timepicker.decrement-seconds5db47ac104294243a70eb9124fbea9d0004ddf69753633511487974857:Decrement seconds`,f=$localize`:@@ngb.timepicker.PM8d6e691e10306c1b34c6b26805151aaea320ef7f3564199131264287502:${"\ufffd0\ufffd"}:INTERPOLATION:`,d=$localize`:@@ngb.timepicker.AM69a1f176a93998876952adac57c3bc3863b6105e4592818992509942761:${"\ufffd0\ufffd"}:INTERPOLATION:`,[[3,"disabled"],[1,"ngb-tp"],[1,"ngb-tp-input-container","ngb-tp-hour"],["tabindex","-1","type","button","class","btn btn-link",3,"btn-sm","btn-lg","disabled","click",4,"ngIf"],["type","text","maxlength","2","inputmode","numeric","placeholder",t,"aria-label",e,1,"ngb-tp-input","form-control",3,"value","readOnly","disabled","change","input","keydown.ArrowUp","keydown.ArrowDown"],[1,"ngb-tp-spacer"],[1,"ngb-tp-input-container","ngb-tp-minute"],["type","text","maxlength","2","inputmode","numeric","placeholder",n,"aria-label",r,1,"ngb-tp-input","form-control",3,"value","readOnly","disabled","change","input","keydown.ArrowUp","keydown.ArrowDown"],["class","ngb-tp-spacer",4,"ngIf"],["class","ngb-tp-input-container ngb-tp-second",4,"ngIf"],["class","ngb-tp-meridian",4,"ngIf"],["tabindex","-1","type","button",1,"btn","btn-link",3,"disabled","click"],[1,"chevron","ngb-tp-chevron"],[1,"sr-only"],i,[1,"chevron","ngb-tp-chevron","bottom"],o,s,a,[1,"ngb-tp-input-container","ngb-tp-second"],["type","text","maxlength","2","inputmode","numeric","placeholder",u,"aria-label",c,1,"ngb-tp-input","form-control",3,"value","readOnly","disabled","change","input","keydown.ArrowUp","keydown.ArrowDown"],l,h,[1,"ngb-tp-meridian"],["type","button",1,"btn","btn-outline-primary",3,"disabled","click"],[4,"ngIf","ngIfElse"],["am",""],f,d]},template:function(t,e){1&t&&(r.Pb(0,"fieldset",0),r.Pb(1,"div",1),r.Pb(2,"div",2),r.vc(3,IO,4,7,"button",3),r.Pb(4,"input",4),r.Zb("change",function(t){return e.updateHour(t.target.value)})("input",function(t){return e.formatInput(t.target)})("keydown.ArrowUp",function(t){return e.changeHour(e.hourStep),t.preventDefault()})("keydown.ArrowDown",function(t){return e.changeHour(-e.hourStep),t.preventDefault()}),r.Ob(),r.vc(5,kO,4,7,"button",3),r.Ob(),r.Pb(6,"div",5),r.xc(7,":"),r.Ob(),r.Pb(8,"div",6),r.vc(9,AO,4,7,"button",3),r.Pb(10,"input",7),r.Zb("change",function(t){return e.updateMinute(t.target.value)})("input",function(t){return e.formatInput(t.target)})("keydown.ArrowUp",function(t){return e.changeMinute(e.minuteStep),t.preventDefault()})("keydown.ArrowDown",function(t){return e.changeMinute(-e.minuteStep),t.preventDefault()}),r.Ob(),r.vc(11,DO,4,7,"button",3),r.Ob(),r.vc(12,jO,2,0,"div",8),r.vc(13,RO,4,9,"div",9),r.vc(14,MO,1,0,"div",8),r.vc(15,FO,5,9,"div",10),r.Ob(),r.Ob()),2&t&&(r.Cb("disabled",e.disabled),r.hc("disabled",e.disabled),r.yb(3),r.hc("ngIf",e.spinners),r.yb(1),r.Cb("form-control-sm",e.isSmallSize)("form-control-lg",e.isLargeSize),r.hc("value",e.formatHour(null==e.model?null:e.model.hour))("readOnly",e.readonlyInputs)("disabled",e.disabled),r.yb(1),r.hc("ngIf",e.spinners),r.yb(4),r.hc("ngIf",e.spinners),r.yb(1),r.Cb("form-control-sm",e.isSmallSize)("form-control-lg",e.isLargeSize),r.hc("value",e.formatMinSec(null==e.model?null:e.model.minute))("readOnly",e.readonlyInputs)("disabled",e.disabled),r.yb(1),r.hc("ngIf",e.spinners),r.yb(1),r.hc("ngIf",e.seconds),r.yb(1),r.hc("ngIf",e.seconds),r.yb(1),r.hc("ngIf",e.meridian),r.yb(1),r.hc("ngIf",e.meridian))},directives:[ht],styles:['ngb-timepicker{font-size:1rem}.ngb-tp{-ms-flex-align:center;align-items:center;display:-ms-flexbox;display:flex}.ngb-tp-input-container{width:4em}.ngb-tp-chevron:before{-webkit-transform:rotate(-45deg);border-style:solid;border-width:.29em .29em 0 0;content:"";display:inline-block;height:.69em;left:.05em;position:relative;top:.15em;transform:rotate(-45deg);vertical-align:middle;width:.69em}.ngb-tp-chevron.bottom:before{-webkit-transform:rotate(135deg);top:-.3em;transform:rotate(135deg)}.ngb-tp-input{text-align:center}.ngb-tp-hour,.ngb-tp-meridian,.ngb-tp-minute,.ngb-tp-second{-ms-flex-align:center;-ms-flex-direction:column;-ms-flex-pack:distribute;align-items:center;display:-ms-flexbox;display:flex;flex-direction:column;justify-content:space-around}.ngb-tp-spacer{text-align:center;width:1em}'],encapsulation:2}),t})(),$C=(()=>{class t{}return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)},imports:[[gt]]}),t})(),KC=(()=>{class t{}return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)},imports:[[gt]]}),t})(),ZC=(()=>{class t{}return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)}}),t})(),YC=(()=>{class t{constructor(){this.highlightClass="ngb-highlight"}ngOnChanges(t){const e=KO(this.result),n=(Array.isArray(this.term)?this.term:[this.term]).map(t=>KO(t).replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")).filter(t=>t);this.parts=n.length?e.split(new RegExp(`(${n.join("|")})`,"gmi")):[e]}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Eb({type:t,selectors:[["ngb-highlight"]],inputs:{highlightClass:"highlightClass",result:"result",term:"term"},features:[r.wb],decls:1,vars:1,consts:[["ngFor","",3,"ngForOf"],[3,"class",4,"ngIf","ngIfElse"],["even",""]],template:function(t,e){1&t&&r.vc(0,zO,3,2,"ng-template",0),2&t&&r.hc("ngForOf",e.parts)},directives:[ct,ht],styles:[".ngb-highlight{font-weight:700}"],encapsulation:2,changeDetection:0}),t})(),JC=(()=>{class t{constructor(){this.activeIdx=0,this.focusFirst=!0,this.formatter=KO,this.selectEvent=new r.n,this.activeChangeEvent=new r.n}hasActive(){return this.activeIdx>-1&&this.activeIdx<this.results.length}getActive(){return this.results[this.activeIdx]}markActive(t){this.activeIdx=t,this._activeChanged()}next(){this.activeIdx===this.results.length-1?this.activeIdx=this.focusFirst?(this.activeIdx+1)%this.results.length:-1:this.activeIdx++,this._activeChanged()}prev(){this.activeIdx<0?this.activeIdx=this.results.length-1:0===this.activeIdx?this.activeIdx=this.focusFirst?this.results.length-1:-1:this.activeIdx--,this._activeChanged()}resetActive(){this.activeIdx=this.focusFirst?0:-1,this._activeChanged()}select(t){this.selectEvent.emit(t)}ngOnInit(){this.resetActive()}_activeChanged(){this.activeChangeEvent.emit(this.activeIdx>=0?this.id+"-"+this.activeIdx:void 0)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Eb({type:t,selectors:[["ngb-typeahead-window"]],hostAttrs:["role","listbox",1,"dropdown-menu","show"],hostVars:1,hostBindings:function(t,e){1&t&&r.Zb("mousedown",function(t){return t.preventDefault()}),2&t&&r.Sb("id",e.id)},inputs:{focusFirst:"focusFirst",formatter:"formatter",id:"id",results:"results",term:"term",resultTemplate:"resultTemplate"},outputs:{selectEvent:"select",activeChangeEvent:"activeChange"},exportAs:["ngbTypeaheadWindow"],decls:3,vars:1,consts:[["rt",""],["ngFor","",3,"ngForOf"],[3,"result","term"],["type","button","role","option",1,"dropdown-item",3,"id","mouseenter","click"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(t,e){1&t&&(r.vc(0,qO,1,2,"ng-template",null,0,r.wc),r.vc(2,GO,2,9,"ng-template",1)),2&t&&(r.yb(2),r.hc("ngForOf",e.results))},directives:[ct,YC,pt],encapsulation:2}),t})();const QC=new r.q("live announcer delay",{providedIn:"root",factory:function(){return 100}});function XC(t,e=!1){let n=t.body.querySelector("#ngb-live");return null==n&&e&&(n=t.createElement("div"),n.setAttribute("id","ngb-live"),n.setAttribute("aria-live","polite"),n.setAttribute("aria-atomic","true"),n.classList.add("sr-only"),t.body.appendChild(n)),n}let tx=(()=>{class t{constructor(t,e){this._document=t,this._delay=e}ngOnDestroy(){const t=XC(this._document);t&&t.parentElement.removeChild(t)}say(t){const e=XC(this._document,!0),n=this._delay;if(null!=e){e.textContent="";const r=()=>e.textContent=t;null===n?r():setTimeout(r,n)}}}return t.\u0275fac=function(e){return new(e||t)(r.Wb(a),r.Wb(QC))},t.\u0275prov=Object(r.Gb)({factory:function(){return new t(Object(r.Wb)(a),Object(r.Wb)(QC))},token:t,providedIn:"root"}),t})(),ex=(()=>{class t{constructor(){this.editable=!0,this.focusFirst=!0,this.showHint=!1,this.placement=["bottom-left","bottom-right","top-left","top-right"]}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Gb)({factory:function(){return new t},token:t,providedIn:"root"}),t})();const nx={provide:iw,useExisting:Object(r.T)(()=>ix),multi:!0};let rx=0,ix=(()=>{class t{constructor(t,e,n,i,o,s,a,u,c,l,h,f){this._elementRef=t,this._renderer=n,this._live=u,this._document=c,this._ngZone=l,this._changeDetector=h,this._subscription=null,this._closed$=new Ot.a,this._inputValueBackup=null,this._windowRef=null,this.autocomplete="off",this.placement="bottom-left",this.selectItem=new r.n,this.activeDescendant=null,this.popupId="ngb-typeahead-"+rx++,this._onTouched=()=>{},this._onChange=t=>{},this.container=s.container,this.editable=s.editable,this.focusFirst=s.focusFirst,this.showHint=s.showHint,this.placement=s.placement,this._valueChanges=x_(t.nativeElement,"input").pipe(Object(Ut.a)(t=>t.target.value)),this._resubscribeTypeahead=new Ct(null),this._popupService=new bC(JC,i,e,n,this._ngZone,o,f),this._zoneSubscription=a.onStable.subscribe(()=>{this.isPopupOpen()&&eC(this._elementRef.nativeElement,this._windowRef.location.nativeElement,this.placement,"body"===this.container)})}ngOnInit(){const t=this._valueChanges.pipe(Object(Oe.a)(t=>{this._inputValueBackup=this.showHint?t:null,this._onChange(this.editable?t:void 0)})).pipe(this.ngbTypeahead),e=this._resubscribeTypeahead.pipe(oe(()=>t));this._subscription=this._subscribeToUserInput(e)}ngOnDestroy(){this._closePopup(),this._unsubscribeFromUserInput(),this._zoneSubscription.unsubscribe()}registerOnChange(t){this._onChange=t}registerOnTouched(t){this._onTouched=t}writeValue(t){this._writeInputValue(this._formatItemForInput(t)),this.showHint&&(this._inputValueBackup=t)}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}dismissPopup(){this.isPopupOpen()&&(this._resubscribeTypeahead.next(null),this._closePopup(),this.showHint&&null!==this._inputValueBackup&&this._writeInputValue(this._inputValueBackup),this._changeDetector.markForCheck())}isPopupOpen(){return null!=this._windowRef}handleBlur(){this._resubscribeTypeahead.next(null),this._onTouched()}handleKeyDown(t){if(this.isPopupOpen())switch(t.which){case zE.ArrowDown:t.preventDefault(),this._windowRef.instance.next(),this._showHint();break;case zE.ArrowUp:t.preventDefault(),this._windowRef.instance.prev(),this._showHint();break;case zE.Enter:case zE.Tab:const e=this._windowRef.instance.getActive();XO(e)&&(t.preventDefault(),t.stopPropagation(),this._selectResult(e)),this._closePopup()}}_openPopup(){if(!this.isPopupOpen()){this._inputValueBackup=this._elementRef.nativeElement.value;const{windowRef:t}=this._popupService.open();this._windowRef=t,this._windowRef.instance.id=this.popupId,this._windowRef.instance.selectEvent.subscribe(t=>this._selectResultClosePopup(t)),this._windowRef.instance.activeChangeEvent.subscribe(t=>this.activeDescendant=t),"body"===this.container&&this._document.querySelector(this.container).appendChild(this._windowRef.location.nativeElement),this._changeDetector.markForCheck(),ZE(this._ngZone,this._document,"outside",()=>this.dismissPopup(),this._closed$,[this._elementRef.nativeElement,this._windowRef.location.nativeElement])}}_closePopup(){this._popupService.close().subscribe(()=>{this._closed$.next(),this._windowRef=null,this.activeDescendant=null})}_selectResult(t){let e=!1;this.selectItem.emit({item:t,preventDefault:()=>{e=!0}}),this._resubscribeTypeahead.next(null),e||(this.writeValue(t),this._onChange(t))}_selectResultClosePopup(t){this._selectResult(t),this._closePopup()}_showHint(){var t;if(this.showHint&&(null===(t=this._windowRef)||void 0===t?void 0:t.instance.hasActive())&&null!=this._inputValueBackup){const t=this._inputValueBackup.toLowerCase(),e=this._formatItemForInput(this._windowRef.instance.getActive());t===e.substr(0,this._inputValueBackup.length).toLowerCase()?(this._writeInputValue(this._inputValueBackup+e.substr(this._inputValueBackup.length)),this._elementRef.nativeElement.setSelectionRange.apply(this._elementRef.nativeElement,[this._inputValueBackup.length,e.length])):this._writeInputValue(e)}}_formatItemForInput(t){return null!=t&&this.inputFormatter?this.inputFormatter(t):KO(t)}_writeInputValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",KO(t))}_subscribeToUserInput(t){return t.subscribe(t=>{t&&0!==t.length?(this._openPopup(),this._windowRef.instance.focusFirst=this.focusFirst,this._windowRef.instance.results=t,this._windowRef.instance.term=this._elementRef.nativeElement.value,this.resultFormatter&&(this._windowRef.instance.formatter=this.resultFormatter),this.resultTemplate&&(this._windowRef.instance.resultTemplate=this.resultTemplate),this._windowRef.instance.resetActive(),this._windowRef.changeDetectorRef.detectChanges(),this._showHint()):this._closePopup();const e=t?t.length:0;this._live.say(0===e?"No results available":`${e} result${1===e?"":"s"} available`)})}_unsubscribeFromUserInput(){this._subscription&&this._subscription.unsubscribe(),this._subscription=null}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(r.l),r.Kb(r.P),r.Kb(r.D),r.Kb(r.r),r.Kb(r.j),r.Kb(ex),r.Kb(r.z),r.Kb(tx),r.Kb(a),r.Kb(r.z),r.Kb(r.h),r.Kb(r.g))},t.\u0275dir=r.Fb({type:t,selectors:[["input","ngbTypeahead",""]],hostAttrs:["autocapitalize","off","autocorrect","off","role","combobox","aria-multiline","false"],hostVars:7,hostBindings:function(t,e){1&t&&r.Zb("blur",function(){return e.handleBlur()})("keydown",function(t){return e.handleKeyDown(t)}),2&t&&(r.Sb("autocomplete",e.autocomplete),r.zb("aria-autocomplete",e.showHint?"both":"list")("aria-activedescendant",e.activeDescendant)("aria-owns",e.isPopupOpen()?e.popupId:null)("aria-expanded",e.isPopupOpen()),r.Cb("open",e.isPopupOpen()))},inputs:{autocomplete:"autocomplete",placement:"placement",container:"container",editable:"editable",focusFirst:"focusFirst",showHint:"showHint",inputFormatter:"inputFormatter",ngbTypeahead:"ngbTypeahead",resultFormatter:"resultFormatter",resultTemplate:"resultTemplate"},outputs:{selectItem:"selectItem"},exportAs:["ngbTypeahead"],features:[r.xb([nx])]}),t})(),ox=(()=>{class t{}return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)},imports:[[gt]]}),t})();const sx=[uE,cE,mE,bE,yE,dC,pC,TC,IC,kC,AC,DC,RC,$C,KC,ZC,ox];let ax=(()=>{class t{}return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)},imports:[sx,uE,cE,mE,bE,yE,dC,pC,TC,IC,kC,AC,DC,RC,$C,KC,ZC,ox]}),t})(),ux=(()=>{class t{transform(t,e){const n=[];for(const r of t)r.data.title.indexOf(e)>-1&&(n.push(r),console.log("si"));return n}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=r.Jb({name:"filter",type:t,pure:!0}),t})();function cx(t,e){if(1&t){const t=r.Qb();r.Pb(0,"tr"),r.Pb(1,"th"),r.xc(2),r.Ob(),r.Pb(3,"td"),r.xc(4),r.Ob(),r.Lb(5,"td"),r.Pb(6,"td"),r.Pb(7,"div"),r.Pb(8,"button",5),r.Zb("click",function(){r.pc(t);const n=e.$implicit;return r.bc().editTask(n)})("click",function(){r.pc(t);const e=r.bc(),n=r.oc(15);return e.open(n)}),r.Lb(9,"i",6),r.xc(10," Edit"),r.Ob(),r.Pb(11,"button",7),r.Zb("click",function(){r.pc(t);const n=e.$implicit;return r.bc().deleteTask(n.id)}),r.Lb(12,"i",8),r.xc(13," Del"),r.Ob(),r.Ob(),r.Ob(),r.Ob()}if(2&t){const t=e.$implicit,n=e.index;r.yb(2),r.yc(n+1),r.yb(2),r.yc(t.data.title)}}function lx(t,e){if(1&t){const t=r.Qb();r.Pb(0,"div",9),r.Pb(1,"h4",10),r.xc(2,"Edit Note:"),r.Ob(),r.Ob(),r.Pb(3,"div",11),r.Pb(4,"form"),r.Pb(5,"div",12),r.Pb(6,"div",13),r.Pb(7,"input",14),r.Zb("ngModelChange",function(e){return r.pc(t),r.bc().editartaskTitle=e}),r.Ob(),r.Ob(),r.Ob(),r.Ob(),r.Ob(),r.Pb(8,"div",15),r.Pb(9,"button",16),r.Zb("click",function(){return e.$implicit.close("Save click")})("click",function(){return r.pc(t),r.bc().editTaskForm()}),r.xc(10,"Save"),r.Ob(),r.Ob()}if(2&t){const t=r.bc();r.yb(7),r.hc("ngModel",t.editartaskTitle)}}let hx=(()=>{class t{constructor(t,e){this.listServices=t,this.modalService=e,this.notes=[],this.editartaskTitle={},this.taskId="",this.closeResult="",this.filterNotes=""}ngOnInit(){this.listServices.getTask().subscribe(t=>{this.notes=[],t.forEach(t=>{this.notes.push({id:t.payload.doc.id,data:t.payload.doc.data()})})}),this.editartaskTitle=""}editTask(t){this.taskId=t.id,this.editartaskTitle=t.data.title}editTaskForm(){const t=this.notes.find(t=>t.id===this.taskId);t.data.title=this.editartaskTitle,this.listServices.updateTask(t)}deleteTask(t){this.listServices.deleteTask(t).then(()=>{}).catch(t=>{console.log(t)})}open(t){this.modalService.open(t,{ariaLabelledBy:"modal-basic-title"}).result.then(t=>{this.closeResult="Closed with: "+t},()=>{this.closeResult="Dismissed "+this.editTaskForm()})}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(E_),r.Kb(SC))},t.\u0275cmp=r.Eb({type:t,selectors:[["app-list-task"]],inputs:{filterNotes:"filterNotes"},decls:16,vars:4,consts:[[1,"content","col-md-12"],[1,"table"],["scope","col"],[4,"ngFor","ngForOf"],["content",""],["data-bs-toggle","modal","data-bs-target","#editarModal",1,"btn","btn-success","listBtn",3,"click"],[1,"fa","fa-edit"],[1,"btn","btn-danger","listBtn","ml-2",3,"click"],[1,"fa","fa-trash"],[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],[1,"modal-body"],[1,"form-group"],[1,"input-group"],["type","text","name","title","placeholder","Things you want to do today?",1,"form-control","addInput",3,"ngModel","ngModelChange"],[1,"modal-footer"],["type","button",1,"btn","btn-outline-dark",3,"click"]],template:function(t,e){1&t&&(r.Pb(0,"div",0),r.Pb(1,"table",1),r.Pb(2,"thead"),r.Pb(3,"tr"),r.Pb(4,"th",2),r.xc(5,"#"),r.Ob(),r.Pb(6,"th",2),r.xc(7,"Titulo"),r.Ob(),r.Lb(8,"th",2),r.Pb(9,"th",2),r.xc(10,"Opciones"),r.Ob(),r.Ob(),r.Ob(),r.Pb(11,"tbody"),r.vc(12,cx,14,2,"tr",3),r.cc(13,"filter"),r.Ob(),r.Ob(),r.Ob(),r.vc(14,lx,11,1,"ng-template",null,4,r.wc)),2&t&&(r.yb(12),r.hc("ngForOf",r.ec(13,1,e.notes,e.filterNotes)))},directives:[ct,b_,Aw,d_,cw,kw,m_],pipes:[ux],styles:[".content[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr .7fr .2fr 0fr}.content[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{background-color:hsla(0,0%,100%,.5215686274509804);display:flex;align-items:center;padding-left:10px;line-height:1.5em;border-radius:10px;width:57%;margin:4px 4px 4px 150px}.content[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   .listBtn[_ngcontent-%COMP%]{margin:2px}"]}),t})(),fx=(()=>{class t{constructor(t){this.listService=t,this.notes=[],this.filterNotes=""}ngOnInit(){this.taskTitle=""}addTasks(){0!==this.taskTitle.trim().length&&(this.listService.addTask({title:this.taskTitle}).then(t=>{console.log(t)}),this.taskTitle="",this.ngOnInit())}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(E_))},t.\u0275cmp=r.Eb({type:t,selectors:[["app-todo-list"]],decls:13,vars:3,consts:[[1,"container","main","w-100"],[1,"nav"],["type","text","name","filterNotes","placeholder","Search...",1,"form-control","addInputSearch",3,"ngModel","ngModelChange"],[1,"main-container"],[1,"header"],[1,"fas","fa-pencil-alt","mt-4"],[1,"inputDiv"],["type","text","name","title","placeholder","Things you want to do today?",1,"form-control","addInput",3,"ngModel","ngModelChange","keyup.enter"],["type","submit",1,"btn",3,"click"],[1,"fas","fa-plus-circle"],[3,"filterNotes"]],template:function(t,e){1&t&&(r.Pb(0,"div",0),r.Pb(1,"div",1),r.Pb(2,"input",2),r.Zb("ngModelChange",function(t){return e.filterNotes=t}),r.Ob(),r.Ob(),r.Pb(3,"div",3),r.Pb(4,"div",4),r.Pb(5,"h1"),r.xc(6,"Add Note "),r.Lb(7,"i",5),r.Ob(),r.Ob(),r.Pb(8,"div",6),r.Pb(9,"input",7),r.Zb("ngModelChange",function(t){return e.taskTitle=t})("keyup.enter",function(){return e.addTasks()}),r.Ob(),r.Pb(10,"button",8),r.Zb("click",function(){return e.addTasks()}),r.Lb(11,"i",9),r.Ob(),r.Ob(),r.Lb(12,"app-list-task",10),r.Ob(),r.Ob()),2&t&&(r.yb(2),r.hc("ngModel",e.filterNotes),r.yb(7),r.hc("ngModel",e.taskTitle),r.yb(3),r.hc("filterNotes",e.filterNotes))},directives:[cw,kw,m_,hx],styles:[".main[_ngcontent-%COMP%]{width:100%;background-color:rgba(156,177,160,.2);max-width:50%;box-shadow:8px 6px #858181;border-radius:20px;padding:0;min-height:550px;min-width:400px}.main[_ngcontent-%COMP%]   .main-container[_ngcontent-%COMP%]{margin:2%}.main[_ngcontent-%COMP%]   .main-container[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%], .main[_ngcontent-%COMP%]   .main-container[_ngcontent-%COMP%]   .inputDiv[_ngcontent-%COMP%]{display:flex;justify-content:center}.main[_ngcontent-%COMP%]   .main-container[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], .main[_ngcontent-%COMP%]   .main-container[_ngcontent-%COMP%]   .inputDiv[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{height:2.4em;margin-top:.5em;background-color:#000}.main[_ngcontent-%COMP%]   .main-container[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], .main[_ngcontent-%COMP%]   .main-container[_ngcontent-%COMP%]   .inputDiv[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#fff}.main[_ngcontent-%COMP%]   .nav[_ngcontent-%COMP%]{display:block;line-height:3em;font-size:16px;padding-left:1.5em;padding-top:2em;text-align:center}.main[_ngcontent-%COMP%]   .nav[_ngcontent-%COMP%]   .addInputSearch[_ngcontent-%COMP%]{width:30%}h1[_ngcontent-%COMP%]{font-family:Patrick Hand,cursive}.addInput[_ngcontent-%COMP%]{max-width:500px;line-height:2em;margin:10px}.main[_ngcontent-%COMP%]{margin-top:5em}"]}),t})(),dx=(()=>{class t{constructor(){this.title="todolist"}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Eb({type:t,selectors:[["app-root"]],decls:1,vars:0,template:function(t,e){1&t&&r.Lb(0,"app-todo-list")},directives:[fx],styles:[""]}),t})(),px=(()=>{class t{}return t.\u0275mod=r.Ib({type:t,bootstrap:[dx]}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)},providers:[],imports:[[$i,yi,Ki.a.initializeApp(i),ew,__,O_,ax]]}),t})();Object(r.S)(),Wi().bootstrapModule(px).catch(t=>console.error(t))},zn8P:function(t,e){function n(t){return Promise.resolve().then(function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e})}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id="zn8P"},zx2A:function(t,e,n){"use strict";n.d(e,"a",function(){return s}),n.d(e,"b",function(){return a}),n.d(e,"c",function(){return u});var r=n("7o/Q"),i=n("HDdC"),o=n("SeVD");class s extends r.a{constructor(t){super(),this.parent=t}_next(t){this.parent.notifyNext(t)}_error(t){this.parent.notifyError(t),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class a extends r.a{notifyNext(t){this.destination.next(t)}notifyError(t){this.destination.error(t)}notifyComplete(){this.destination.complete()}}function u(t,e){if(!e.closed)return t instanceof i.a?t.subscribe(e):Object(o.a)(t)(e)}}},[[0,0]]]);